"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a";
exports.ids = ["vendor-chunks/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/hooks/use-current-message.js":
/*!*******************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/hooks/use-current-message.js ***!
  \*******************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TamboMessageProvider: () => (/* binding */ TamboMessageProvider),\n/* harmony export */   useTamboCurrentMessage: () => (/* binding */ useTamboCurrentMessage),\n/* harmony export */   useTamboMessageContext: () => (/* binding */ useTamboMessageContext),\n/* harmony export */   wrapWithTamboMessageProvider: () => (/* binding */ wrapWithTamboMessageProvider)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.1.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _providers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../providers */ \"(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/providers/tambo-thread-provider.js\");\n/* __next_internal_client_entry_do_not_use__ TamboMessageProvider,wrapWithTamboMessageProvider,useTamboMessageContext,useTamboCurrentMessage auto */ \n\nconst TamboMessageContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({\n    messageId: \"\"\n});\n/**\n * Wraps all components, so that they can find what thread and message they are in\n * @param props - props for the TamboMessageProvider\n * @param props.children - The children to wrap\n * @param props.messageId - The messageId of the message\n * @returns The wrapped component\n */ const TamboMessageProvider = ({ children, messageId })=>{\n    // Use a unique key={...} to force a re-render when the messageId changes - this\n    // make sure that if the rendered component is swapped into a tree (like if\n    // you always show the last rendered component) then the state/etc is correct\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(TamboMessageContext.Provider, {\n        value: {\n            messageId\n        },\n        key: messageId\n    }, children);\n};\n/**\n * Wraps a component with a ComponentMessageProvider - this allows the provider\n * to be used outside of a TSX file\n * @param children - The children to wrap\n * @param threadId - The threadId of the thread\n * @param messageId - The messageId of the message\n * @returns The wrapped component\n */ function wrapWithTamboMessageProvider(children, threadId, messageId) {\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(TamboMessageProvider, {\n        threadId: threadId,\n        messageId: messageId\n    }, children);\n}\n/**\n * Hook used inside a component wrapped with ComponentMessageProvider, to get\n * the threadId and messageId\n * @returns The threadId and messageId\n */ const useTamboMessageContext = ()=>{\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(TamboMessageContext);\n    if (!context) {\n        throw new Error(\"useTamboMessageContext must be used within a TamboMessageProvider\");\n    }\n    return context;\n};\n/**\n * Hook used inside a component wrapped with ComponentMessageProvider, to get\n * the current message. The current thread will be fetched from the server, if\n * it is not already in the cache.\n * @returns The current message that is used to render the component\n */ const useTamboCurrentMessage = ()=>{\n    const { messageId, threadId } = useTamboMessageContext();\n    const { thread } = (0,_providers__WEBPACK_IMPORTED_MODULE_1__.useTamboThread)();\n    if (thread.id && threadId && thread.id !== threadId) {\n        console.warn(`Thread ID mismatch ${thread.id} !== ${threadId}`);\n    }\n    const message = thread.messages.find((m)=>m.id === messageId);\n    return message;\n}; //# sourceMappingURL=use-current-message.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHRhbWJvLWFpK3JlYWN0QDAuMzQuMF9AdHlwXzk0ZmU0NjU3YzA5OGVmNmEwNzFlZGQ3OGRiMjI3NzRhL25vZGVfbW9kdWxlcy9AdGFtYm8tYWkvcmVhY3QvZXNtL2hvb2tzL3VzZS1jdXJyZW50LW1lc3NhZ2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztxSkFDNEU7QUFDOUI7QUFZOUMsTUFBTSxtQkFBbUIsaUJBQUcsb0RBQWEsQ0FBMkI7SUFDbEUsU0FBUyxFQUFFLEVBQUU7Q0FDZCxDQUFDLENBQUM7QUFFSDs7Ozs7O0dBTUcsQ0FDSSxNQUFNLG9CQUFvQixHQUU3QixDQUFDLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRSxFQUFFLEVBQUU7SUFDOUIsZ0ZBQWdGO0lBQ2hGLDJFQUEyRTtJQUMzRSw2RUFBNkU7SUFDN0UsT0FBTyxjQUNMLDJEQUFDLG1CQUFtQixDQUFDLFFBQVE7UUFBQyxLQUFLLEVBQUU7WUFBRSxTQUFTO1FBQUEsQ0FBRTtRQUFFLEdBQUcsRUFBRSxTQUFTO0lBQUEsR0FDL0QsUUFBUSxDQUNvQixDQUNoQztBQUNILENBQUMsQ0FBQztBQUVGOzs7Ozs7O0dBT0csQ0FDRyxTQUFVLDRCQUE0QixDQUMxQyxRQUF5QixFQUN6QixRQUFnQixFQUNoQixTQUFpQjtJQUVqQixPQUFPLGNBQ0wsMkRBQUMsb0JBQW9CO1FBQUMsUUFBUSxFQUFFLFFBQVE7UUFBRSxTQUFTLEVBQUUsU0FBUztJQUFBLEdBQzNELFFBQVEsQ0FDWSxDQUN4QjtBQUNILENBQUM7QUFDRDs7OztHQUlHLENBQ0ksTUFBTSxzQkFBc0IsR0FBRyxHQUFHLEVBQUU7SUFDekMsTUFBTSxPQUFPLEdBQUcsaURBQVUsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO0lBQ2hELElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUNiLE1BQU0sSUFBSSxLQUFLLENBQ2IsbUVBQW1FLENBQ3BFLENBQUM7SUFDSixDQUFDO0lBQ0QsT0FBTyxPQUFPLENBQUM7QUFDakIsQ0FBQyxDQUFDO0FBRUY7Ozs7O0dBS0csQ0FDSSxNQUFNLHNCQUFzQixHQUFHLEdBQUcsRUFBRTtJQUN6QyxNQUFNLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxHQUFHLHNCQUFzQixFQUFFLENBQUM7SUFDekQsTUFBTSxFQUFFLE1BQU0sRUFBRSxHQUFHLDBEQUFjLEVBQUUsQ0FBQztJQUNwQyxJQUFJLE1BQU0sQ0FBQyxFQUFFLElBQUksUUFBUSxJQUFJLE1BQU0sQ0FBQyxFQUFFLEtBQUssUUFBUSxFQUFFLENBQUM7UUFDcEQsT0FBTyxDQUFDLElBQUksQ0FBQyxzQkFBc0IsTUFBTSxDQUFDLEVBQUUsUUFBUSxRQUFRLEVBQUUsQ0FBQyxDQUFDO0lBQ2xFLENBQUM7SUFFRCxNQUFNLE9BQU8sR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFHLENBQUQsQ0FBRyxFQUFFLEtBQUssU0FBUyxDQUFDLENBQUM7SUFDaEUsT0FBTyxPQUFPLENBQUM7QUFDakIsQ0FBQyxDQUFDIiwic291cmNlcyI6WyJFOlxcd29ya1NwYWNlXFxDVVJTT1JcXHNyY1xcaG9va3NcXHVzZS1jdXJyZW50LW1lc3NhZ2UudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuaW1wb3J0IFJlYWN0LCB7IGNyZWF0ZUNvbnRleHQsIFByb3BzV2l0aENoaWxkcmVuLCB1c2VDb250ZXh0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VUYW1ib1RocmVhZCB9IGZyb20gXCIuLi9wcm92aWRlcnNcIjtcblxuaW50ZXJmYWNlIFRhbWJvTWVzc2FnZUNvbnRleHRQcm9wcyB7XG4gIC8qKlxuICAgKiBUaGUgdGhyZWFkSWQgb2YgdGhlIHRocmVhZFxuICAgKiBAZGVwcmVjYXRlZCBVc2UgdGhlIHRocmVhZCBvYmplY3QgZnJvbSB0aGUgVGFtYm9UaHJlYWRQcm92aWRlciBpbnN0ZWFkXG4gICAqL1xuICB0aHJlYWRJZD86IHN0cmluZztcbiAgLyoqIFRoZSBtZXNzYWdlSWQgb2YgdGhlIG1lc3NhZ2UgKi9cbiAgbWVzc2FnZUlkOiBzdHJpbmc7XG59XG5cbmNvbnN0IFRhbWJvTWVzc2FnZUNvbnRleHQgPSBjcmVhdGVDb250ZXh0PFRhbWJvTWVzc2FnZUNvbnRleHRQcm9wcz4oe1xuICBtZXNzYWdlSWQ6IFwiXCIsXG59KTtcblxuLyoqXG4gKiBXcmFwcyBhbGwgY29tcG9uZW50cywgc28gdGhhdCB0aGV5IGNhbiBmaW5kIHdoYXQgdGhyZWFkIGFuZCBtZXNzYWdlIHRoZXkgYXJlIGluXG4gKiBAcGFyYW0gcHJvcHMgLSBwcm9wcyBmb3IgdGhlIFRhbWJvTWVzc2FnZVByb3ZpZGVyXG4gKiBAcGFyYW0gcHJvcHMuY2hpbGRyZW4gLSBUaGUgY2hpbGRyZW4gdG8gd3JhcFxuICogQHBhcmFtIHByb3BzLm1lc3NhZ2VJZCAtIFRoZSBtZXNzYWdlSWQgb2YgdGhlIG1lc3NhZ2VcbiAqIEByZXR1cm5zIFRoZSB3cmFwcGVkIGNvbXBvbmVudFxuICovXG5leHBvcnQgY29uc3QgVGFtYm9NZXNzYWdlUHJvdmlkZXI6IFJlYWN0LkZDPFxuICBQcm9wc1dpdGhDaGlsZHJlbjxUYW1ib01lc3NhZ2VDb250ZXh0UHJvcHM+XG4+ID0gKHsgY2hpbGRyZW4sIG1lc3NhZ2VJZCB9KSA9PiB7XG4gIC8vIFVzZSBhIHVuaXF1ZSBrZXk9ey4uLn0gdG8gZm9yY2UgYSByZS1yZW5kZXIgd2hlbiB0aGUgbWVzc2FnZUlkIGNoYW5nZXMgLSB0aGlzXG4gIC8vIG1ha2Ugc3VyZSB0aGF0IGlmIHRoZSByZW5kZXJlZCBjb21wb25lbnQgaXMgc3dhcHBlZCBpbnRvIGEgdHJlZSAobGlrZSBpZlxuICAvLyB5b3UgYWx3YXlzIHNob3cgdGhlIGxhc3QgcmVuZGVyZWQgY29tcG9uZW50KSB0aGVuIHRoZSBzdGF0ZS9ldGMgaXMgY29ycmVjdFxuICByZXR1cm4gKFxuICAgIDxUYW1ib01lc3NhZ2VDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt7IG1lc3NhZ2VJZCB9fSBrZXk9e21lc3NhZ2VJZH0+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9UYW1ib01lc3NhZ2VDb250ZXh0LlByb3ZpZGVyPlxuICApO1xufTtcblxuLyoqXG4gKiBXcmFwcyBhIGNvbXBvbmVudCB3aXRoIGEgQ29tcG9uZW50TWVzc2FnZVByb3ZpZGVyIC0gdGhpcyBhbGxvd3MgdGhlIHByb3ZpZGVyXG4gKiB0byBiZSB1c2VkIG91dHNpZGUgb2YgYSBUU1ggZmlsZVxuICogQHBhcmFtIGNoaWxkcmVuIC0gVGhlIGNoaWxkcmVuIHRvIHdyYXBcbiAqIEBwYXJhbSB0aHJlYWRJZCAtIFRoZSB0aHJlYWRJZCBvZiB0aGUgdGhyZWFkXG4gKiBAcGFyYW0gbWVzc2FnZUlkIC0gVGhlIG1lc3NhZ2VJZCBvZiB0aGUgbWVzc2FnZVxuICogQHJldHVybnMgVGhlIHdyYXBwZWQgY29tcG9uZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3cmFwV2l0aFRhbWJvTWVzc2FnZVByb3ZpZGVyKFxuICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlLFxuICB0aHJlYWRJZDogc3RyaW5nLFxuICBtZXNzYWdlSWQ6IHN0cmluZyxcbikge1xuICByZXR1cm4gKFxuICAgIDxUYW1ib01lc3NhZ2VQcm92aWRlciB0aHJlYWRJZD17dGhyZWFkSWR9IG1lc3NhZ2VJZD17bWVzc2FnZUlkfT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L1RhbWJvTWVzc2FnZVByb3ZpZGVyPlxuICApO1xufVxuLyoqXG4gKiBIb29rIHVzZWQgaW5zaWRlIGEgY29tcG9uZW50IHdyYXBwZWQgd2l0aCBDb21wb25lbnRNZXNzYWdlUHJvdmlkZXIsIHRvIGdldFxuICogdGhlIHRocmVhZElkIGFuZCBtZXNzYWdlSWRcbiAqIEByZXR1cm5zIFRoZSB0aHJlYWRJZCBhbmQgbWVzc2FnZUlkXG4gKi9cbmV4cG9ydCBjb25zdCB1c2VUYW1ib01lc3NhZ2VDb250ZXh0ID0gKCkgPT4ge1xuICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChUYW1ib01lc3NhZ2VDb250ZXh0KTtcbiAgaWYgKCFjb250ZXh0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJ1c2VUYW1ib01lc3NhZ2VDb250ZXh0IG11c3QgYmUgdXNlZCB3aXRoaW4gYSBUYW1ib01lc3NhZ2VQcm92aWRlclwiLFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGNvbnRleHQ7XG59O1xuXG4vKipcbiAqIEhvb2sgdXNlZCBpbnNpZGUgYSBjb21wb25lbnQgd3JhcHBlZCB3aXRoIENvbXBvbmVudE1lc3NhZ2VQcm92aWRlciwgdG8gZ2V0XG4gKiB0aGUgY3VycmVudCBtZXNzYWdlLiBUaGUgY3VycmVudCB0aHJlYWQgd2lsbCBiZSBmZXRjaGVkIGZyb20gdGhlIHNlcnZlciwgaWZcbiAqIGl0IGlzIG5vdCBhbHJlYWR5IGluIHRoZSBjYWNoZS5cbiAqIEByZXR1cm5zIFRoZSBjdXJyZW50IG1lc3NhZ2UgdGhhdCBpcyB1c2VkIHRvIHJlbmRlciB0aGUgY29tcG9uZW50XG4gKi9cbmV4cG9ydCBjb25zdCB1c2VUYW1ib0N1cnJlbnRNZXNzYWdlID0gKCkgPT4ge1xuICBjb25zdCB7IG1lc3NhZ2VJZCwgdGhyZWFkSWQgfSA9IHVzZVRhbWJvTWVzc2FnZUNvbnRleHQoKTtcbiAgY29uc3QgeyB0aHJlYWQgfSA9IHVzZVRhbWJvVGhyZWFkKCk7XG4gIGlmICh0aHJlYWQuaWQgJiYgdGhyZWFkSWQgJiYgdGhyZWFkLmlkICE9PSB0aHJlYWRJZCkge1xuICAgIGNvbnNvbGUud2FybihgVGhyZWFkIElEIG1pc21hdGNoICR7dGhyZWFkLmlkfSAhPT0gJHt0aHJlYWRJZH1gKTtcbiAgfVxuXG4gIGNvbnN0IG1lc3NhZ2UgPSB0aHJlYWQubWVzc2FnZXMuZmluZCgobSkgPT4gbS5pZCA9PT0gbWVzc2FnZUlkKTtcbiAgcmV0dXJuIG1lc3NhZ2U7XG59O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/hooks/use-current-message.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/model/generate-component-response.js":
/*!***************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/model/generate-component-response.js ***!
  \***************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GenerationStage: () => (/* binding */ GenerationStage),\n/* harmony export */   isIdleStage: () => (/* binding */ isIdleStage)\n/* harmony export */ });\nvar GenerationStage;\n(function (GenerationStage) {\n    GenerationStage[\"IDLE\"] = \"IDLE\";\n    GenerationStage[\"CHOOSING_COMPONENT\"] = \"CHOOSING_COMPONENT\";\n    GenerationStage[\"FETCHING_CONTEXT\"] = \"FETCHING_CONTEXT\";\n    GenerationStage[\"HYDRATING_COMPONENT\"] = \"HYDRATING_COMPONENT\";\n    GenerationStage[\"STREAMING_RESPONSE\"] = \"STREAMING_RESPONSE\";\n    GenerationStage[\"COMPLETE\"] = \"COMPLETE\";\n    GenerationStage[\"ERROR\"] = \"ERROR\";\n    GenerationStage[\"CANCELLED\"] = \"CANCELLED\";\n})(GenerationStage || (GenerationStage = {}));\n/**\n * Checks if the generation stage is in a state where it can accept user input.\n * @param generationStage - The generation stage to check\n * @returns True if the generation stage is idle, false otherwise\n */\nfunction isIdleStage(generationStage) {\n    return [\n        GenerationStage.IDLE,\n        GenerationStage.COMPLETE,\n        GenerationStage.ERROR,\n        GenerationStage.CANCELLED,\n    ].includes(generationStage);\n}\n//# sourceMappingURL=generate-component-response.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHRhbWJvLWFpK3JlYWN0QDAuMzQuMF9AdHlwXzk0ZmU0NjU3YzA5OGVmNmEwNzFlZGQ3OGRiMjI3NzRhL25vZGVfbW9kdWxlcy9AdGFtYm8tYWkvcmVhY3QvZXNtL21vZGVsL2dlbmVyYXRlLWNvbXBvbmVudC1yZXNwb25zZS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQywwQ0FBMEM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiRTpcXHdvcmtTcGFjZVxcQ1VSU09SXFxwZXJzb25hLW1haWwtYWktYWRhcHRcXG5leHQtcGVyc29uYW1haWxcXG5vZGVfbW9kdWxlc1xcLnBucG1cXEB0YW1iby1haStyZWFjdEAwLjM0LjBfQHR5cF85NGZlNDY1N2MwOThlZjZhMDcxZWRkNzhkYjIyNzc0YVxcbm9kZV9tb2R1bGVzXFxAdGFtYm8tYWlcXHJlYWN0XFxlc21cXG1vZGVsXFxnZW5lcmF0ZS1jb21wb25lbnQtcmVzcG9uc2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHZhciBHZW5lcmF0aW9uU3RhZ2U7XG4oZnVuY3Rpb24gKEdlbmVyYXRpb25TdGFnZSkge1xuICAgIEdlbmVyYXRpb25TdGFnZVtcIklETEVcIl0gPSBcIklETEVcIjtcbiAgICBHZW5lcmF0aW9uU3RhZ2VbXCJDSE9PU0lOR19DT01QT05FTlRcIl0gPSBcIkNIT09TSU5HX0NPTVBPTkVOVFwiO1xuICAgIEdlbmVyYXRpb25TdGFnZVtcIkZFVENISU5HX0NPTlRFWFRcIl0gPSBcIkZFVENISU5HX0NPTlRFWFRcIjtcbiAgICBHZW5lcmF0aW9uU3RhZ2VbXCJIWURSQVRJTkdfQ09NUE9ORU5UXCJdID0gXCJIWURSQVRJTkdfQ09NUE9ORU5UXCI7XG4gICAgR2VuZXJhdGlvblN0YWdlW1wiU1RSRUFNSU5HX1JFU1BPTlNFXCJdID0gXCJTVFJFQU1JTkdfUkVTUE9OU0VcIjtcbiAgICBHZW5lcmF0aW9uU3RhZ2VbXCJDT01QTEVURVwiXSA9IFwiQ09NUExFVEVcIjtcbiAgICBHZW5lcmF0aW9uU3RhZ2VbXCJFUlJPUlwiXSA9IFwiRVJST1JcIjtcbiAgICBHZW5lcmF0aW9uU3RhZ2VbXCJDQU5DRUxMRURcIl0gPSBcIkNBTkNFTExFRFwiO1xufSkoR2VuZXJhdGlvblN0YWdlIHx8IChHZW5lcmF0aW9uU3RhZ2UgPSB7fSkpO1xuLyoqXG4gKiBDaGVja3MgaWYgdGhlIGdlbmVyYXRpb24gc3RhZ2UgaXMgaW4gYSBzdGF0ZSB3aGVyZSBpdCBjYW4gYWNjZXB0IHVzZXIgaW5wdXQuXG4gKiBAcGFyYW0gZ2VuZXJhdGlvblN0YWdlIC0gVGhlIGdlbmVyYXRpb24gc3RhZ2UgdG8gY2hlY2tcbiAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGdlbmVyYXRpb24gc3RhZ2UgaXMgaWRsZSwgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0lkbGVTdGFnZShnZW5lcmF0aW9uU3RhZ2UpIHtcbiAgICByZXR1cm4gW1xuICAgICAgICBHZW5lcmF0aW9uU3RhZ2UuSURMRSxcbiAgICAgICAgR2VuZXJhdGlvblN0YWdlLkNPTVBMRVRFLFxuICAgICAgICBHZW5lcmF0aW9uU3RhZ2UuRVJST1IsXG4gICAgICAgIEdlbmVyYXRpb25TdGFnZS5DQU5DRUxMRUQsXG4gICAgXS5pbmNsdWRlcyhnZW5lcmF0aW9uU3RhZ2UpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2VuZXJhdGUtY29tcG9uZW50LXJlc3BvbnNlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/model/generate-component-response.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/providers/tambo-client-provider.js":
/*!*************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/providers/tambo-client-provider.js ***!
  \*************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TamboClientContext: () => (/* binding */ TamboClientContext),\n/* harmony export */   TamboClientProvider: () => (/* binding */ TamboClientProvider),\n/* harmony export */   useTamboClient: () => (/* binding */ useTamboClient),\n/* harmony export */   useTamboQueryClient: () => (/* binding */ useTamboQueryClient)\n/* harmony export */ });\n/* harmony import */ var _tambo_ai_typescript_sdk__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @tambo-ai/typescript-sdk */ \"(ssr)/./node_modules/.pnpm/@tambo-ai+typescript-sdk@0.58.0/node_modules/@tambo-ai/typescript-sdk/index.mjs\");\n/* harmony import */ var _tanstack_react_query__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @tanstack/react-query */ \"(ssr)/./node_modules/.pnpm/@tanstack+query-core@5.81.5/node_modules/@tanstack/query-core/build/modern/queryClient.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.1.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _package_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../package.json */ \"(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/package.json\");\n/* __next_internal_client_entry_do_not_use__ TamboClientContext,TamboClientProvider,useTamboClient,useTamboQueryClient auto */ \n\n\n\nconst TamboClientContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(undefined);\n/**\n * The TamboClientProvider is a React provider that provides a TamboAI client\n * and a query client to the descendants of the provider.\n * @param props - The props for the TamboClientProvider\n * @param props.children - The children to wrap\n * @param props.tamboUrl - The URL of the Tambo API\n * @param props.apiKey - The API key for the Tambo API\n * @param props.environment - The environment to use for the Tambo API\n * @returns The TamboClientProvider component\n */ const TamboClientProvider = ({ children, tamboUrl, apiKey, environment })=>{\n    const tamboConfig = {\n        apiKey,\n        defaultHeaders: {\n            \"X-Tambo-React-Version\": _package_json__WEBPACK_IMPORTED_MODULE_1__.version\n        }\n    };\n    if (tamboUrl) {\n        tamboConfig.baseURL = tamboUrl;\n    }\n    if (environment) {\n        tamboConfig.environment = environment;\n    }\n    const [client] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        \"TamboClientProvider.useState\": ()=>new _tambo_ai_typescript_sdk__WEBPACK_IMPORTED_MODULE_2__[\"default\"](tamboConfig)\n    }[\"TamboClientProvider.useState\"]);\n    const [queryClient] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        \"TamboClientProvider.useState\": ()=>new _tanstack_react_query__WEBPACK_IMPORTED_MODULE_3__.QueryClient()\n    }[\"TamboClientProvider.useState\"]);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(TamboClientContext.Provider, {\n        value: {\n            client,\n            queryClient\n        }\n    }, children);\n};\n/**\n * The useTamboClient hook provides access to the TamboAI client\n * to the descendants of the TamboClientProvider.\n * @returns The TamboAI client\n */ const useTamboClient = ()=>{\n    const context = react__WEBPACK_IMPORTED_MODULE_0___default().useContext(TamboClientContext);\n    if (context === undefined) {\n        throw new Error(\"useTamboClient must be used within a TamboClientProvider\");\n    }\n    return context.client;\n};\n/**\n * The useTamboQueryClient hook provides access to the tambo-specific query client\n * to the descendants of the TamboClientProvider.\n * @returns The tambo-specific query client\n * @private\n */ const useTamboQueryClient = ()=>{\n    const context = react__WEBPACK_IMPORTED_MODULE_0___default().useContext(TamboClientContext);\n    if (context === undefined) {\n        throw new Error(\"useTamboQueryClient must be used within a TamboClientProvider\");\n    }\n    return context.queryClient;\n}; //# sourceMappingURL=tambo-client-provider.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHRhbWJvLWFpK3JlYWN0QDAuMzQuMF9AdHlwXzk0ZmU0NjU3YzA5OGVmNmEwNzFlZGQ3OGRiMjI3NzRhL25vZGVfbW9kdWxlcy9AdGFtYm8tYWkvcmVhY3QvZXNtL3Byb3ZpZGVycy90YW1iby1jbGllbnQtcHJvdmlkZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OytIQUNrRTtBQUNkO0FBQ3NCO0FBQzdCO0FBeUJ0QyxNQUFNLGtCQUFrQixpQkFBRyxvREFBYSxDQUU3QyxTQUFTLENBQUMsQ0FBQztBQUViOzs7Ozs7Ozs7R0FTRyxDQUNJLE1BQU0sbUJBQW1CLEdBRTVCLENBQUMsRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxXQUFXLEVBQUUsRUFBRSxFQUFFO0lBQ2xELE1BQU0sV0FBVyxHQUFrQjtRQUNqQyxNQUFNO1FBQ04sY0FBYyxFQUFFO1lBQ2QsdUJBQXVCLEVBQUUsa0RBQW1CO1NBQzdDO0tBQ0YsQ0FBQztJQUNGLElBQUksUUFBUSxFQUFFLENBQUM7UUFDYixXQUFXLENBQUMsT0FBTyxHQUFHLFFBQVEsQ0FBQztJQUNqQyxDQUFDO0lBQ0QsSUFBSSxXQUFXLEVBQUUsQ0FBQztRQUNoQixXQUFXLENBQUMsV0FBVyxHQUFHLFdBQVcsQ0FBQztJQUN4QyxDQUFDO0lBQ0QsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLCtDQUFRO3dDQUFDLEdBQUcsQ0FBRyxDQUFELEdBQUssZ0VBQU8sQ0FBQyxXQUFXLENBQUM7O0lBQ3hELE1BQU0sQ0FBQyxXQUFXLENBQUMsR0FBRywrQ0FBUTt3Q0FBQyxHQUFHLENBQUcsQ0FBRCxHQUFLLDhEQUFXLEVBQUU7O0lBQ3RELE9BQU8sY0FDTCwyREFBQyxrQkFBa0IsQ0FBQyxRQUFRO1FBQUMsS0FBSyxFQUFFO1lBQUUsTUFBTTtZQUFFLFdBQVc7UUFBQSxDQUFFO0lBQUEsR0FDeEQsUUFBUSxDQUNtQixDQUMvQjtBQUNILENBQUMsQ0FBQztBQUVGOzs7O0dBSUcsQ0FDSSxNQUFNLGNBQWMsR0FBRyxHQUFHLEVBQUU7SUFDakMsTUFBTSxPQUFPLEdBQUcsdURBQWdCLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUNyRCxJQUFJLE9BQU8sS0FBSyxTQUFTLEVBQUUsQ0FBQztRQUMxQixNQUFNLElBQUksS0FBSyxDQUFDLDBEQUEwRCxDQUFDLENBQUM7SUFDOUUsQ0FBQztJQUNELE9BQU8sT0FBTyxDQUFDLE1BQU0sQ0FBQztBQUN4QixDQUFDLENBQUM7QUFFRjs7Ozs7R0FLRyxDQUNJLE1BQU0sbUJBQW1CLEdBQUcsR0FBRyxFQUFFO0lBQ3RDLE1BQU0sT0FBTyxHQUFHLHVEQUFnQixDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFDckQsSUFBSSxPQUFPLEtBQUssU0FBUyxFQUFFLENBQUM7UUFDMUIsTUFBTSxJQUFJLEtBQUssQ0FDYiwrREFBK0QsQ0FDaEUsQ0FBQztJQUNKLENBQUM7SUFDRCxPQUFPLE9BQU8sQ0FBQyxXQUFXLENBQUM7QUFDN0IsQ0FBQyxDQUFDIiwic291cmNlcyI6WyJFOlxcd29ya1NwYWNlXFxDVVJTT1JcXHNyY1xccHJvdmlkZXJzXFx0YW1iby1jbGllbnQtcHJvdmlkZXIudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuaW1wb3J0IFRhbWJvQUksIHsgQ2xpZW50T3B0aW9ucyB9IGZyb20gXCJAdGFtYm8tYWkvdHlwZXNjcmlwdC1zZGtcIjtcbmltcG9ydCB7IFF1ZXJ5Q2xpZW50IH0gZnJvbSBcIkB0YW5zdGFjay9yZWFjdC1xdWVyeVwiO1xuaW1wb3J0IFJlYWN0LCB7IGNyZWF0ZUNvbnRleHQsIFByb3BzV2l0aENoaWxkcmVuLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHBhY2thZ2VKc29uIGZyb20gXCIuLi8uLi9wYWNrYWdlLmpzb25cIjtcblxuZXhwb3J0IGludGVyZmFjZSBUYW1ib0NsaWVudFByb3ZpZGVyUHJvcHMge1xuICAvKipcbiAgICogVGhlIFVSTCBvZiB0aGUgVGFtYm8gQVBJIChvbmx5IHVzZWQgZm9yIGxvY2FsIGRldmVsb3BtZW50IGFuZCBkZWJ1Z2dpbmcpXG4gICAqL1xuICB0YW1ib1VybD86IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBBUEkga2V5IGZvciB0aGUgVGFtYm8gQVBJLiBUaGlzIHR5cGljYWxseSBjb21lcyBmcm9tIGEgdmFyaWFibGUgbGlrZVxuICAgKiBgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfVEFNQk9fQVBJX0tFWWBcbiAgICovXG4gIGFwaUtleTogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIGVudmlyb25tZW50IHRvIHVzZSBmb3IgdGhlIFRhbWJvIEFQSVxuICAgKi9cbiAgZW52aXJvbm1lbnQ/OiBcInByb2R1Y3Rpb25cIiB8IFwic3RhZ2luZ1wiO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRhbWJvQ2xpZW50Q29udGV4dFByb3BzIHtcbiAgLyoqIFRoZSBUYW1ib0FJIGNsaWVudCAqL1xuICBjbGllbnQ6IFRhbWJvQUk7XG4gIC8qKiBUaGUgdGFtYm8tc3BlY2lmaWMgcXVlcnkgY2xpZW50ICovXG4gIHF1ZXJ5Q2xpZW50OiBRdWVyeUNsaWVudDtcbn1cblxuZXhwb3J0IGNvbnN0IFRhbWJvQ2xpZW50Q29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8XG4gIFRhbWJvQ2xpZW50Q29udGV4dFByb3BzIHwgdW5kZWZpbmVkXG4+KHVuZGVmaW5lZCk7XG5cbi8qKlxuICogVGhlIFRhbWJvQ2xpZW50UHJvdmlkZXIgaXMgYSBSZWFjdCBwcm92aWRlciB0aGF0IHByb3ZpZGVzIGEgVGFtYm9BSSBjbGllbnRcbiAqIGFuZCBhIHF1ZXJ5IGNsaWVudCB0byB0aGUgZGVzY2VuZGFudHMgb2YgdGhlIHByb3ZpZGVyLlxuICogQHBhcmFtIHByb3BzIC0gVGhlIHByb3BzIGZvciB0aGUgVGFtYm9DbGllbnRQcm92aWRlclxuICogQHBhcmFtIHByb3BzLmNoaWxkcmVuIC0gVGhlIGNoaWxkcmVuIHRvIHdyYXBcbiAqIEBwYXJhbSBwcm9wcy50YW1ib1VybCAtIFRoZSBVUkwgb2YgdGhlIFRhbWJvIEFQSVxuICogQHBhcmFtIHByb3BzLmFwaUtleSAtIFRoZSBBUEkga2V5IGZvciB0aGUgVGFtYm8gQVBJXG4gKiBAcGFyYW0gcHJvcHMuZW52aXJvbm1lbnQgLSBUaGUgZW52aXJvbm1lbnQgdG8gdXNlIGZvciB0aGUgVGFtYm8gQVBJXG4gKiBAcmV0dXJucyBUaGUgVGFtYm9DbGllbnRQcm92aWRlciBjb21wb25lbnRcbiAqL1xuZXhwb3J0IGNvbnN0IFRhbWJvQ2xpZW50UHJvdmlkZXI6IFJlYWN0LkZDPFxuICBQcm9wc1dpdGhDaGlsZHJlbjxUYW1ib0NsaWVudFByb3ZpZGVyUHJvcHM+XG4+ID0gKHsgY2hpbGRyZW4sIHRhbWJvVXJsLCBhcGlLZXksIGVudmlyb25tZW50IH0pID0+IHtcbiAgY29uc3QgdGFtYm9Db25maWc6IENsaWVudE9wdGlvbnMgPSB7XG4gICAgYXBpS2V5LFxuICAgIGRlZmF1bHRIZWFkZXJzOiB7XG4gICAgICBcIlgtVGFtYm8tUmVhY3QtVmVyc2lvblwiOiBwYWNrYWdlSnNvbi52ZXJzaW9uLFxuICAgIH0sXG4gIH07XG4gIGlmICh0YW1ib1VybCkge1xuICAgIHRhbWJvQ29uZmlnLmJhc2VVUkwgPSB0YW1ib1VybDtcbiAgfVxuICBpZiAoZW52aXJvbm1lbnQpIHtcbiAgICB0YW1ib0NvbmZpZy5lbnZpcm9ubWVudCA9IGVudmlyb25tZW50O1xuICB9XG4gIGNvbnN0IFtjbGllbnRdID0gdXNlU3RhdGUoKCkgPT4gbmV3IFRhbWJvQUkodGFtYm9Db25maWcpKTtcbiAgY29uc3QgW3F1ZXJ5Q2xpZW50XSA9IHVzZVN0YXRlKCgpID0+IG5ldyBRdWVyeUNsaWVudCgpKTtcbiAgcmV0dXJuIChcbiAgICA8VGFtYm9DbGllbnRDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt7IGNsaWVudCwgcXVlcnlDbGllbnQgfX0+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9UYW1ib0NsaWVudENvbnRleHQuUHJvdmlkZXI+XG4gICk7XG59O1xuXG4vKipcbiAqIFRoZSB1c2VUYW1ib0NsaWVudCBob29rIHByb3ZpZGVzIGFjY2VzcyB0byB0aGUgVGFtYm9BSSBjbGllbnRcbiAqIHRvIHRoZSBkZXNjZW5kYW50cyBvZiB0aGUgVGFtYm9DbGllbnRQcm92aWRlci5cbiAqIEByZXR1cm5zIFRoZSBUYW1ib0FJIGNsaWVudFxuICovXG5leHBvcnQgY29uc3QgdXNlVGFtYm9DbGllbnQgPSAoKSA9PiB7XG4gIGNvbnN0IGNvbnRleHQgPSBSZWFjdC51c2VDb250ZXh0KFRhbWJvQ2xpZW50Q29udGV4dCk7XG4gIGlmIChjb250ZXh0ID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1c2VUYW1ib0NsaWVudCBtdXN0IGJlIHVzZWQgd2l0aGluIGEgVGFtYm9DbGllbnRQcm92aWRlclwiKTtcbiAgfVxuICByZXR1cm4gY29udGV4dC5jbGllbnQ7XG59O1xuXG4vKipcbiAqIFRoZSB1c2VUYW1ib1F1ZXJ5Q2xpZW50IGhvb2sgcHJvdmlkZXMgYWNjZXNzIHRvIHRoZSB0YW1iby1zcGVjaWZpYyBxdWVyeSBjbGllbnRcbiAqIHRvIHRoZSBkZXNjZW5kYW50cyBvZiB0aGUgVGFtYm9DbGllbnRQcm92aWRlci5cbiAqIEByZXR1cm5zIFRoZSB0YW1iby1zcGVjaWZpYyBxdWVyeSBjbGllbnRcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBjb25zdCB1c2VUYW1ib1F1ZXJ5Q2xpZW50ID0gKCkgPT4ge1xuICBjb25zdCBjb250ZXh0ID0gUmVhY3QudXNlQ29udGV4dChUYW1ib0NsaWVudENvbnRleHQpO1xuICBpZiAoY29udGV4dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJ1c2VUYW1ib1F1ZXJ5Q2xpZW50IG11c3QgYmUgdXNlZCB3aXRoaW4gYSBUYW1ib0NsaWVudFByb3ZpZGVyXCIsXG4gICAgKTtcbiAgfVxuICByZXR1cm4gY29udGV4dC5xdWVyeUNsaWVudDtcbn07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/providers/tambo-client-provider.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/providers/tambo-component-provider.js":
/*!****************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/providers/tambo-component-provider.js ***!
  \****************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TamboComponentProvider: () => (/* binding */ TamboComponentProvider),\n/* harmony export */   useTamboComponent: () => (/* binding */ useTamboComponent)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.1.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _tambo_client_provider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./tambo-client-provider */ \"(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/providers/tambo-client-provider.js\");\n/* harmony import */ var _tambo_registry_provider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./tambo-registry-provider */ \"(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/providers/tambo-registry-provider.js\");\n/* __next_internal_client_entry_do_not_use__ TamboComponentProvider,useTamboComponent auto */ \n\n\nconst TamboComponentContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({\n    /**\n     *\n     */ registerComponent: ()=>{},\n    /**\n     *\n     */ registerTool: ()=>{},\n    /**\n     *\n     */ registerTools: ()=>{},\n    /**\n     *\n     */ addToolAssociation: ()=>{}\n});\n/**\n * The TamboComponentProvider is a React provider that provides component\n * registration services to the descendants of the provider.\n * @param props - The props for the TamboComponentProvider\n * @param props.children - The children to wrap\n * @returns The TamboComponentProvider component\n */ const TamboComponentProvider = ({ children })=>{\n    const client = (0,_tambo_client_provider__WEBPACK_IMPORTED_MODULE_1__.useTamboClient)();\n    const { registerComponent, addToolAssociation, registerTool, registerTools } = (0,_tambo_registry_provider__WEBPACK_IMPORTED_MODULE_2__.useTamboRegistry)();\n    const value = {\n        client,\n        registerComponent,\n        registerTool,\n        registerTools,\n        addToolAssociation\n    };\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(TamboComponentContext.Provider, {\n        value: value\n    }, children);\n};\n/**\n * The useTamboComponent hook provides access to the component registration\n * services to the descendants of the TamboComponentProvider.\n * @returns The component registration services\n */ const useTamboComponent = ()=>{\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(TamboComponentContext);\n}; //# sourceMappingURL=tambo-component-provider.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHRhbWJvLWFpK3JlYWN0QDAuMzQuMF9AdHlwXzk0ZmU0NjU3YzA5OGVmNmEwNzFlZGQ3OGRiMjI3NzRhL25vZGVfbW9kdWxlcy9AdGFtYm8tYWkvcmVhY3QvZXNtL3Byb3ZpZGVycy90YW1iby1jb21wb25lbnQtcHJvdmlkZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OzhGQUM0RTtBQUVuQjtBQUNJO0FBUzdELE1BQU0scUJBQXFCLGlCQUFHLG9EQUFhLENBQTZCO0lBQ3RFOztPQUVHLENBQ0gsaUJBQWlCLEVBQUUsR0FBRyxFQUFFLENBQUc7SUFDM0I7O09BRUcsQ0FDSCxZQUFZLEVBQUUsR0FBRyxFQUFFLENBQUc7SUFDdEI7O09BRUcsQ0FDSCxhQUFhLEVBQUUsR0FBRyxFQUFFLENBQUc7SUFDdkI7O09BRUcsQ0FDSCxrQkFBa0IsRUFBRSxHQUFHLEVBQUUsQ0FBRztDQUM3QixDQUFDLENBQUM7QUFFSDs7Ozs7O0dBTUcsQ0FDSSxNQUFNLHNCQUFzQixHQUFnQyxDQUFDLEVBQ2xFLFFBQVEsRUFDVCxFQUFFLEVBQUU7SUFDSCxNQUFNLE1BQU0sR0FBRyxzRUFBYyxFQUFFLENBQUM7SUFDaEMsTUFBTSxFQUFFLGlCQUFpQixFQUFFLGtCQUFrQixFQUFFLFlBQVksRUFBRSxhQUFhLEVBQUUsR0FDMUUsMEVBQWdCLEVBQUUsQ0FBQztJQUVyQixNQUFNLEtBQUssR0FBRztRQUNaLE1BQU07UUFDTixpQkFBaUI7UUFDakIsWUFBWTtRQUNaLGFBQWE7UUFDYixrQkFBa0I7S0FDbkIsQ0FBQztJQUVGLE9BQU8sY0FDTCwyREFBQyxxQkFBcUIsQ0FBQyxRQUFRO1FBQUMsS0FBSyxFQUFFLEtBQUs7SUFBQSxHQUN6QyxRQUFRLENBQ3NCLENBQ2xDO0FBQ0gsQ0FBQyxDQUFDO0FBRUY7Ozs7R0FJRyxDQUNJLE1BQU0saUJBQWlCLEdBQUcsR0FBRyxFQUFFO0lBQ3BDLE9BQU8saURBQVUsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO0FBQzNDLENBQUMsQ0FBQyIsInNvdXJjZXMiOlsiRTpcXHdvcmtTcGFjZVxcQ1VSU09SXFxzcmNcXHByb3ZpZGVyc1xcdGFtYm8tY29tcG9uZW50LXByb3ZpZGVyLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcbmltcG9ydCBSZWFjdCwgeyBjcmVhdGVDb250ZXh0LCBQcm9wc1dpdGhDaGlsZHJlbiwgdXNlQ29udGV4dCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgVGFtYm9Db21wb25lbnQsIFRhbWJvVG9vbCB9IGZyb20gXCIuLi9tb2RlbC9jb21wb25lbnQtbWV0YWRhdGFcIjtcbmltcG9ydCB7IHVzZVRhbWJvQ2xpZW50IH0gZnJvbSBcIi4vdGFtYm8tY2xpZW50LXByb3ZpZGVyXCI7XG5pbXBvcnQgeyB1c2VUYW1ib1JlZ2lzdHJ5IH0gZnJvbSBcIi4vdGFtYm8tcmVnaXN0cnktcHJvdmlkZXJcIjtcblxuZXhwb3J0IGludGVyZmFjZSBUYW1ib0NvbXBvbmVudENvbnRleHRQcm9wcyB7XG4gIHJlZ2lzdGVyQ29tcG9uZW50OiAob3B0aW9uczogVGFtYm9Db21wb25lbnQpID0+IHZvaWQ7XG4gIHJlZ2lzdGVyVG9vbDogKHRvb2w6IFRhbWJvVG9vbCkgPT4gdm9pZDtcbiAgcmVnaXN0ZXJUb29sczogKHRvb2xzOiBUYW1ib1Rvb2xbXSkgPT4gdm9pZDtcbiAgYWRkVG9vbEFzc29jaWF0aW9uOiAoY29tcG9uZW50TmFtZTogc3RyaW5nLCB0b29sOiBUYW1ib1Rvb2wpID0+IHZvaWQ7XG59XG5cbmNvbnN0IFRhbWJvQ29tcG9uZW50Q29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8VGFtYm9Db21wb25lbnRDb250ZXh0UHJvcHM+KHtcbiAgLyoqXG4gICAqXG4gICAqL1xuICByZWdpc3RlckNvbXBvbmVudDogKCkgPT4ge30sXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgcmVnaXN0ZXJUb29sOiAoKSA9PiB7fSxcbiAgLyoqXG4gICAqXG4gICAqL1xuICByZWdpc3RlclRvb2xzOiAoKSA9PiB7fSxcbiAgLyoqXG4gICAqXG4gICAqL1xuICBhZGRUb29sQXNzb2NpYXRpb246ICgpID0+IHt9LFxufSk7XG5cbi8qKlxuICogVGhlIFRhbWJvQ29tcG9uZW50UHJvdmlkZXIgaXMgYSBSZWFjdCBwcm92aWRlciB0aGF0IHByb3ZpZGVzIGNvbXBvbmVudFxuICogcmVnaXN0cmF0aW9uIHNlcnZpY2VzIHRvIHRoZSBkZXNjZW5kYW50cyBvZiB0aGUgcHJvdmlkZXIuXG4gKiBAcGFyYW0gcHJvcHMgLSBUaGUgcHJvcHMgZm9yIHRoZSBUYW1ib0NvbXBvbmVudFByb3ZpZGVyXG4gKiBAcGFyYW0gcHJvcHMuY2hpbGRyZW4gLSBUaGUgY2hpbGRyZW4gdG8gd3JhcFxuICogQHJldHVybnMgVGhlIFRhbWJvQ29tcG9uZW50UHJvdmlkZXIgY29tcG9uZW50XG4gKi9cbmV4cG9ydCBjb25zdCBUYW1ib0NvbXBvbmVudFByb3ZpZGVyOiBSZWFjdC5GQzxQcm9wc1dpdGhDaGlsZHJlbj4gPSAoe1xuICBjaGlsZHJlbixcbn0pID0+IHtcbiAgY29uc3QgY2xpZW50ID0gdXNlVGFtYm9DbGllbnQoKTtcbiAgY29uc3QgeyByZWdpc3RlckNvbXBvbmVudCwgYWRkVG9vbEFzc29jaWF0aW9uLCByZWdpc3RlclRvb2wsIHJlZ2lzdGVyVG9vbHMgfSA9XG4gICAgdXNlVGFtYm9SZWdpc3RyeSgpO1xuXG4gIGNvbnN0IHZhbHVlID0ge1xuICAgIGNsaWVudCxcbiAgICByZWdpc3RlckNvbXBvbmVudCxcbiAgICByZWdpc3RlclRvb2wsXG4gICAgcmVnaXN0ZXJUb29scyxcbiAgICBhZGRUb29sQXNzb2NpYXRpb24sXG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8VGFtYm9Db21wb25lbnRDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt2YWx1ZX0+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9UYW1ib0NvbXBvbmVudENvbnRleHQuUHJvdmlkZXI+XG4gICk7XG59O1xuXG4vKipcbiAqIFRoZSB1c2VUYW1ib0NvbXBvbmVudCBob29rIHByb3ZpZGVzIGFjY2VzcyB0byB0aGUgY29tcG9uZW50IHJlZ2lzdHJhdGlvblxuICogc2VydmljZXMgdG8gdGhlIGRlc2NlbmRhbnRzIG9mIHRoZSBUYW1ib0NvbXBvbmVudFByb3ZpZGVyLlxuICogQHJldHVybnMgVGhlIGNvbXBvbmVudCByZWdpc3RyYXRpb24gc2VydmljZXNcbiAqL1xuZXhwb3J0IGNvbnN0IHVzZVRhbWJvQ29tcG9uZW50ID0gKCkgPT4ge1xuICByZXR1cm4gdXNlQ29udGV4dChUYW1ib0NvbXBvbmVudENvbnRleHQpO1xufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/providers/tambo-component-provider.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/providers/tambo-provider.js":
/*!******************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/providers/tambo-provider.js ***!
  \******************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TamboCompositeProvider: () => (/* binding */ TamboCompositeProvider),\n/* harmony export */   TamboContext: () => (/* binding */ TamboContext),\n/* harmony export */   TamboProvider: () => (/* binding */ TamboProvider),\n/* harmony export */   useTambo: () => (/* binding */ useTambo)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.1.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _tambo_client_provider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./tambo-client-provider */ \"(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/providers/tambo-client-provider.js\");\n/* harmony import */ var _tambo_component_provider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./tambo-component-provider */ \"(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/providers/tambo-component-provider.js\");\n/* harmony import */ var _tambo_registry_provider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./tambo-registry-provider */ \"(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/providers/tambo-registry-provider.js\");\n/* harmony import */ var _tambo_thread_provider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./tambo-thread-provider */ \"(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/providers/tambo-thread-provider.js\");\n/* __next_internal_client_entry_do_not_use__ TamboProvider,TamboContext,TamboCompositeProvider,useTambo auto */ \n\n\n\n\n/**\n * The TamboProvider gives full access to the whole Tambo API. This includes the\n * TamboAI client, the component registry, and the current thread context.\n * @param props - The props for the TamboProvider\n * @param props.children - The children to wrap\n * @param props.tamboUrl - The URL of the Tambo API\n * @param props.apiKey - The API key for the Tambo API\n * @param props.components - The components to register\n * @param props.environment - The environment to use for the Tambo API\n * @param props.tools - The tools to register\n * @param props.streaming - Whether to stream the response by default. Defaults to true.\n * @returns The TamboProvider component\n */ const TamboProvider = ({ children, tamboUrl, apiKey, components, environment, tools, streaming })=>{\n    // Should only be used in browser\n    if (true) {\n        console.error(\"TamboProvider must be used within a browser\");\n    }\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_tambo_client_provider__WEBPACK_IMPORTED_MODULE_1__.TamboClientProvider, {\n        tamboUrl: tamboUrl,\n        apiKey: apiKey,\n        environment: environment\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_tambo_registry_provider__WEBPACK_IMPORTED_MODULE_2__.TamboRegistryProvider, {\n        components: components,\n        tools: tools\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_tambo_thread_provider__WEBPACK_IMPORTED_MODULE_3__.TamboThreadProvider, {\n        streaming: streaming\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_tambo_component_provider__WEBPACK_IMPORTED_MODULE_4__.TamboComponentProvider, null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(TamboCompositeProvider, null, children)))));\n};\nconst TamboContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({});\n/**\n * TamboCompositeProvider is a provider that combines the TamboClient,\n * TamboThread, and TamboComponent providers\n * @param props - The props for the TamboCompositeProvider\n * @param props.children - The children to wrap\n * @returns The wrapped component\n */ const TamboCompositeProvider = ({ children })=>{\n    const threads = (0,_tambo_thread_provider__WEBPACK_IMPORTED_MODULE_3__.useTamboThread)();\n    const client = (0,_tambo_client_provider__WEBPACK_IMPORTED_MODULE_1__.useTamboClient)();\n    const queryClient = (0,_tambo_client_provider__WEBPACK_IMPORTED_MODULE_1__.useTamboQueryClient)();\n    const componentRegistry = (0,_tambo_component_provider__WEBPACK_IMPORTED_MODULE_4__.useTamboComponent)();\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(TamboContext.Provider, {\n        value: {\n            client,\n            queryClient,\n            ...componentRegistry,\n            ...threads\n        }\n    }, children);\n};\n/**\n * The useTambo hook provides access to the Tambo API. This is the primary entrypoint\n * for the Tambo React SDK.\n *\n * This includes the TamboAI client, the component registry, and the current thread context.\n * @returns The Tambo API\n */ const useTambo = ()=>{\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(TamboContext);\n}; //# sourceMappingURL=tambo-provider.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHRhbWJvLWFpK3JlYWN0QDAuMzQuMF9AdHlwXzk0ZmU0NjU3YzA5OGVmNmEwNzFlZGQ3OGRiMjI3NzRhL25vZGVfbW9kdWxlcy9AdGFtYm8tYWkvcmVhY3QvZXNtL3Byb3ZpZGVycy90YW1iby1wcm92aWRlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O2dIQUM0RTtBQU8zQztBQUtHO0FBSUQ7QUFNRjtBQUVqQzs7Ozs7Ozs7Ozs7O0dBWUcsQ0FDSSxNQUFNLGFBQWEsR0FNdEIsQ0FBQyxFQUNILFFBQVEsRUFDUixRQUFRLEVBQ1IsTUFBTSxFQUNOLFVBQVUsRUFDVixXQUFXLEVBQ1gsS0FBSyxFQUNMLFNBQVMsRUFDVixFQUFFLEVBQUU7SUFDSCxpQ0FBaUM7SUFDakMsSUFBSSxJQUE2QixFQUFFLENBQUM7UUFDbEMsT0FBTyxDQUFDLEtBQUssQ0FBQyw2Q0FBNkMsQ0FBQyxDQUFDO0lBQy9ELENBQUM7SUFFRCxPQUFPLGNBQ0wsMkRBQUMsdUVBQW1CO1FBQ2xCLFFBQVEsRUFBRSxRQUFRO1FBQ2xCLE1BQU0sRUFBRSxNQUFNO1FBQ2QsV0FBVyxFQUFFLFdBQVc7SUFBQSxpQkFFeEIsMkRBQUMsMkVBQXFCO1FBQUMsVUFBVSxFQUFFLFVBQVU7UUFBRSxLQUFLLEVBQUUsS0FBSztJQUFBLGlCQUN6RCwyREFBQyx1RUFBbUI7UUFBQyxTQUFTLEVBQUUsU0FBUztJQUFBLGlCQUN2QywyREFBQyw2RUFBc0Isc0JBQ3JCLDJEQUFDLHNCQUFzQixRQUFFLFFBQVEsQ0FBMEIsQ0FDcEMsQ0FDTCxDQUNBLENBQ0osQ0FDdkI7QUFDSCxDQUFDLENBQUM7QUFLSyxNQUFNLFlBQVksaUJBQUcsb0RBQWEsQ0FDdkMsRUFBdUIsQ0FDeEIsQ0FBQztBQUVGOzs7Ozs7R0FNRyxDQUNJLE1BQU0sc0JBQXNCLEdBQWdDLENBQUMsRUFDbEUsUUFBUSxFQUNULEVBQUUsRUFBRTtJQUNILE1BQU0sT0FBTyxHQUFHLHNFQUFjLEVBQUUsQ0FBQztJQUNqQyxNQUFNLE1BQU0sR0FBRyxzRUFBYyxFQUFFLENBQUM7SUFDaEMsTUFBTSxXQUFXLEdBQUcsMkVBQW1CLEVBQUUsQ0FBQztJQUMxQyxNQUFNLGlCQUFpQixHQUFHLDRFQUFpQixFQUFFLENBQUM7SUFFOUMsT0FBTyxjQUNMLDJEQUFDLFlBQVksQ0FBQyxRQUFRO1FBQ3BCLEtBQUssRUFBRTtZQUNMLE1BQU07WUFDTixXQUFXO1lBQ1gsR0FBRyxpQkFBaUI7WUFDcEIsR0FBRyxPQUFPO1NBQ1g7SUFBQSxHQUVBLFFBQVEsQ0FDYSxDQUN6QjtBQUNILENBQUMsQ0FBQztBQUVGOzs7Ozs7R0FNRyxDQUNJLE1BQU0sUUFBUSxHQUFHLEdBQUcsRUFBRTtJQUMzQixPQUFPLGlEQUFVLENBQUMsWUFBWSxDQUFDLENBQUM7QUFDbEMsQ0FBQyxDQUFDIiwic291cmNlcyI6WyJFOlxcd29ya1NwYWNlXFxDVVJTT1JcXHNyY1xccHJvdmlkZXJzXFx0YW1iby1wcm92aWRlci50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5pbXBvcnQgUmVhY3QsIHsgUHJvcHNXaXRoQ2hpbGRyZW4sIGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7XG4gIFRhbWJvQ2xpZW50Q29udGV4dFByb3BzLFxuICBUYW1ib0NsaWVudFByb3ZpZGVyLFxuICBUYW1ib0NsaWVudFByb3ZpZGVyUHJvcHMsXG4gIHVzZVRhbWJvQ2xpZW50LFxuICB1c2VUYW1ib1F1ZXJ5Q2xpZW50LFxufSBmcm9tIFwiLi90YW1iby1jbGllbnQtcHJvdmlkZXJcIjtcbmltcG9ydCB7XG4gIFRhbWJvQ29tcG9uZW50Q29udGV4dFByb3BzLFxuICBUYW1ib0NvbXBvbmVudFByb3ZpZGVyLFxuICB1c2VUYW1ib0NvbXBvbmVudCxcbn0gZnJvbSBcIi4vdGFtYm8tY29tcG9uZW50LXByb3ZpZGVyXCI7XG5pbXBvcnQge1xuICBUYW1ib1JlZ2lzdHJ5UHJvdmlkZXIsXG4gIFRhbWJvUmVnaXN0cnlQcm92aWRlclByb3BzLFxufSBmcm9tIFwiLi90YW1iby1yZWdpc3RyeS1wcm92aWRlclwiO1xuaW1wb3J0IHtcbiAgVGFtYm9UaHJlYWRDb250ZXh0UHJvcHMsXG4gIFRhbWJvVGhyZWFkUHJvdmlkZXIsXG4gIFRhbWJvVGhyZWFkUHJvdmlkZXJQcm9wcyxcbiAgdXNlVGFtYm9UaHJlYWQsXG59IGZyb20gXCIuL3RhbWJvLXRocmVhZC1wcm92aWRlclwiO1xuXG4vKipcbiAqIFRoZSBUYW1ib1Byb3ZpZGVyIGdpdmVzIGZ1bGwgYWNjZXNzIHRvIHRoZSB3aG9sZSBUYW1ibyBBUEkuIFRoaXMgaW5jbHVkZXMgdGhlXG4gKiBUYW1ib0FJIGNsaWVudCwgdGhlIGNvbXBvbmVudCByZWdpc3RyeSwgYW5kIHRoZSBjdXJyZW50IHRocmVhZCBjb250ZXh0LlxuICogQHBhcmFtIHByb3BzIC0gVGhlIHByb3BzIGZvciB0aGUgVGFtYm9Qcm92aWRlclxuICogQHBhcmFtIHByb3BzLmNoaWxkcmVuIC0gVGhlIGNoaWxkcmVuIHRvIHdyYXBcbiAqIEBwYXJhbSBwcm9wcy50YW1ib1VybCAtIFRoZSBVUkwgb2YgdGhlIFRhbWJvIEFQSVxuICogQHBhcmFtIHByb3BzLmFwaUtleSAtIFRoZSBBUEkga2V5IGZvciB0aGUgVGFtYm8gQVBJXG4gKiBAcGFyYW0gcHJvcHMuY29tcG9uZW50cyAtIFRoZSBjb21wb25lbnRzIHRvIHJlZ2lzdGVyXG4gKiBAcGFyYW0gcHJvcHMuZW52aXJvbm1lbnQgLSBUaGUgZW52aXJvbm1lbnQgdG8gdXNlIGZvciB0aGUgVGFtYm8gQVBJXG4gKiBAcGFyYW0gcHJvcHMudG9vbHMgLSBUaGUgdG9vbHMgdG8gcmVnaXN0ZXJcbiAqIEBwYXJhbSBwcm9wcy5zdHJlYW1pbmcgLSBXaGV0aGVyIHRvIHN0cmVhbSB0aGUgcmVzcG9uc2UgYnkgZGVmYXVsdC4gRGVmYXVsdHMgdG8gdHJ1ZS5cbiAqIEByZXR1cm5zIFRoZSBUYW1ib1Byb3ZpZGVyIGNvbXBvbmVudFxuICovXG5leHBvcnQgY29uc3QgVGFtYm9Qcm92aWRlcjogUmVhY3QuRkM8XG4gIFByb3BzV2l0aENoaWxkcmVuPFxuICAgIFRhbWJvQ2xpZW50UHJvdmlkZXJQcm9wcyAmXG4gICAgICBUYW1ib1JlZ2lzdHJ5UHJvdmlkZXJQcm9wcyAmXG4gICAgICBUYW1ib1RocmVhZFByb3ZpZGVyUHJvcHNcbiAgPlxuPiA9ICh7XG4gIGNoaWxkcmVuLFxuICB0YW1ib1VybCxcbiAgYXBpS2V5LFxuICBjb21wb25lbnRzLFxuICBlbnZpcm9ubWVudCxcbiAgdG9vbHMsXG4gIHN0cmVhbWluZyxcbn0pID0+IHtcbiAgLy8gU2hvdWxkIG9ubHkgYmUgdXNlZCBpbiBicm93c2VyXG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgY29uc29sZS5lcnJvcihcIlRhbWJvUHJvdmlkZXIgbXVzdCBiZSB1c2VkIHdpdGhpbiBhIGJyb3dzZXJcIik7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxUYW1ib0NsaWVudFByb3ZpZGVyXG4gICAgICB0YW1ib1VybD17dGFtYm9Vcmx9XG4gICAgICBhcGlLZXk9e2FwaUtleX1cbiAgICAgIGVudmlyb25tZW50PXtlbnZpcm9ubWVudH1cbiAgICA+XG4gICAgICA8VGFtYm9SZWdpc3RyeVByb3ZpZGVyIGNvbXBvbmVudHM9e2NvbXBvbmVudHN9IHRvb2xzPXt0b29sc30+XG4gICAgICAgIDxUYW1ib1RocmVhZFByb3ZpZGVyIHN0cmVhbWluZz17c3RyZWFtaW5nfT5cbiAgICAgICAgICA8VGFtYm9Db21wb25lbnRQcm92aWRlcj5cbiAgICAgICAgICAgIDxUYW1ib0NvbXBvc2l0ZVByb3ZpZGVyPntjaGlsZHJlbn08L1RhbWJvQ29tcG9zaXRlUHJvdmlkZXI+XG4gICAgICAgICAgPC9UYW1ib0NvbXBvbmVudFByb3ZpZGVyPlxuICAgICAgICA8L1RhbWJvVGhyZWFkUHJvdmlkZXI+XG4gICAgICA8L1RhbWJvUmVnaXN0cnlQcm92aWRlcj5cbiAgICA8L1RhbWJvQ2xpZW50UHJvdmlkZXI+XG4gICk7XG59O1xuZXhwb3J0IHR5cGUgVGFtYm9Db250ZXh0UHJvcHMgPSBUYW1ib0NsaWVudENvbnRleHRQcm9wcyAmXG4gIFRhbWJvVGhyZWFkQ29udGV4dFByb3BzICZcbiAgVGFtYm9Db21wb25lbnRDb250ZXh0UHJvcHM7XG5cbmV4cG9ydCBjb25zdCBUYW1ib0NvbnRleHQgPSBjcmVhdGVDb250ZXh0PFRhbWJvQ29udGV4dFByb3BzPihcbiAge30gYXMgVGFtYm9Db250ZXh0UHJvcHMsXG4pO1xuXG4vKipcbiAqIFRhbWJvQ29tcG9zaXRlUHJvdmlkZXIgaXMgYSBwcm92aWRlciB0aGF0IGNvbWJpbmVzIHRoZSBUYW1ib0NsaWVudCxcbiAqIFRhbWJvVGhyZWFkLCBhbmQgVGFtYm9Db21wb25lbnQgcHJvdmlkZXJzXG4gKiBAcGFyYW0gcHJvcHMgLSBUaGUgcHJvcHMgZm9yIHRoZSBUYW1ib0NvbXBvc2l0ZVByb3ZpZGVyXG4gKiBAcGFyYW0gcHJvcHMuY2hpbGRyZW4gLSBUaGUgY2hpbGRyZW4gdG8gd3JhcFxuICogQHJldHVybnMgVGhlIHdyYXBwZWQgY29tcG9uZW50XG4gKi9cbmV4cG9ydCBjb25zdCBUYW1ib0NvbXBvc2l0ZVByb3ZpZGVyOiBSZWFjdC5GQzxQcm9wc1dpdGhDaGlsZHJlbj4gPSAoe1xuICBjaGlsZHJlbixcbn0pID0+IHtcbiAgY29uc3QgdGhyZWFkcyA9IHVzZVRhbWJvVGhyZWFkKCk7XG4gIGNvbnN0IGNsaWVudCA9IHVzZVRhbWJvQ2xpZW50KCk7XG4gIGNvbnN0IHF1ZXJ5Q2xpZW50ID0gdXNlVGFtYm9RdWVyeUNsaWVudCgpO1xuICBjb25zdCBjb21wb25lbnRSZWdpc3RyeSA9IHVzZVRhbWJvQ29tcG9uZW50KCk7XG5cbiAgcmV0dXJuIChcbiAgICA8VGFtYm9Db250ZXh0LlByb3ZpZGVyXG4gICAgICB2YWx1ZT17e1xuICAgICAgICBjbGllbnQsXG4gICAgICAgIHF1ZXJ5Q2xpZW50LFxuICAgICAgICAuLi5jb21wb25lbnRSZWdpc3RyeSxcbiAgICAgICAgLi4udGhyZWFkcyxcbiAgICAgIH19XG4gICAgPlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvVGFtYm9Db250ZXh0LlByb3ZpZGVyPlxuICApO1xufTtcblxuLyoqXG4gKiBUaGUgdXNlVGFtYm8gaG9vayBwcm92aWRlcyBhY2Nlc3MgdG8gdGhlIFRhbWJvIEFQSS4gVGhpcyBpcyB0aGUgcHJpbWFyeSBlbnRyeXBvaW50XG4gKiBmb3IgdGhlIFRhbWJvIFJlYWN0IFNESy5cbiAqXG4gKiBUaGlzIGluY2x1ZGVzIHRoZSBUYW1ib0FJIGNsaWVudCwgdGhlIGNvbXBvbmVudCByZWdpc3RyeSwgYW5kIHRoZSBjdXJyZW50IHRocmVhZCBjb250ZXh0LlxuICogQHJldHVybnMgVGhlIFRhbWJvIEFQSVxuICovXG5leHBvcnQgY29uc3QgdXNlVGFtYm8gPSAoKSA9PiB7XG4gIHJldHVybiB1c2VDb250ZXh0KFRhbWJvQ29udGV4dCk7XG59O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/providers/tambo-provider.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/providers/tambo-registry-provider.js":
/*!***************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/providers/tambo-registry-provider.js ***!
  \***************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TamboRegistryContext: () => (/* binding */ TamboRegistryContext),\n/* harmony export */   TamboRegistryProvider: () => (/* binding */ TamboRegistryProvider),\n/* harmony export */   useTamboRegistry: () => (/* binding */ useTamboRegistry)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.1.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! zod */ \"(ssr)/./node_modules/.pnpm/zod@3.25.74/node_modules/zod/v3/types.js\");\n/* harmony import */ var zod_to_json_schema__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zod-to-json-schema */ \"(ssr)/./node_modules/.pnpm/zod-to-json-schema@3.24.6_zod@3.25.74/node_modules/zod-to-json-schema/dist/esm/index.js\");\n/* harmony import */ var _util_validate_zod_schema__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/validate-zod-schema */ \"(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/util/validate-zod-schema.js\");\n/* __next_internal_client_entry_do_not_use__ TamboRegistryContext,TamboRegistryProvider,useTamboRegistry auto */ \n\n\n\nconst TamboRegistryContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({\n    componentList: {},\n    toolRegistry: {},\n    componentToolAssociations: {},\n    /**\n     *\n     */ registerComponent: ()=>{},\n    /**\n     *\n     */ registerTool: ()=>{},\n    /**\n     *\n     */ registerTools: ()=>{},\n    /**\n     *\n     */ addToolAssociation: ()=>{}\n});\n/**\n * The TamboRegistryProvider is a React provider that provides a component\n * registry to the descendants of the provider.\n * @param props - The props for the TamboRegistryProvider\n * @param props.children - The children to wrap\n * @param props.components - The components to register\n * @param props.tools - The tools to register\n * @returns The TamboRegistryProvider component\n */ const TamboRegistryProvider = ({ children, components: userComponents, tools: userTools })=>{\n    const [componentList, setComponentList] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n    const [toolRegistry, setToolRegistry] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n    const [componentToolAssociations, setComponentToolAssociations] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n    const registerTool = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"TamboRegistryProvider.useCallback[registerTool]\": (tool, warnOnOverwrite = true)=>{\n            // Validate tool schemas\n            if (tool.toolSchema && isZodSchema(tool.toolSchema)) {\n                (0,_util_validate_zod_schema__WEBPACK_IMPORTED_MODULE_2__.assertNoZodRecord)(tool.toolSchema, `toolSchema of tool \"${tool.name}\"`);\n            }\n            setToolRegistry({\n                \"TamboRegistryProvider.useCallback[registerTool]\": (prev)=>{\n                    if (prev[tool.name] && warnOnOverwrite) {\n                        console.warn(`Overwriting tool ${tool.name}`);\n                    }\n                    return {\n                        ...prev,\n                        [tool.name]: tool\n                    };\n                }\n            }[\"TamboRegistryProvider.useCallback[registerTool]\"]);\n        }\n    }[\"TamboRegistryProvider.useCallback[registerTool]\"], []);\n    const registerTools = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"TamboRegistryProvider.useCallback[registerTools]\": (tools, warnOnOverwrite = true)=>{\n            tools.forEach({\n                \"TamboRegistryProvider.useCallback[registerTools]\": (tool)=>registerTool(tool, warnOnOverwrite)\n            }[\"TamboRegistryProvider.useCallback[registerTools]\"]);\n        }\n    }[\"TamboRegistryProvider.useCallback[registerTools]\"], [\n        registerTool\n    ]);\n    const addToolAssociation = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"TamboRegistryProvider.useCallback[addToolAssociation]\": (componentName, tool)=>{\n            if (!componentList[componentName]) {\n                throw new Error(`Component ${componentName} not found in registry`);\n            }\n            setComponentToolAssociations({\n                \"TamboRegistryProvider.useCallback[addToolAssociation]\": (prev)=>({\n                        ...prev,\n                        [componentName]: [\n                            ...prev[componentName] || [],\n                            tool.name\n                        ]\n                    })\n            }[\"TamboRegistryProvider.useCallback[addToolAssociation]\"]);\n        }\n    }[\"TamboRegistryProvider.useCallback[addToolAssociation]\"], [\n        componentList\n    ]);\n    const registerComponent = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"TamboRegistryProvider.useCallback[registerComponent]\": (options, warnOnOverwrite = true)=>{\n            const { name, description, component, propsSchema, propsDefinition, loadingComponent, associatedTools } = options;\n            // Validate that at least one props definition is provided\n            if (!propsSchema && !propsDefinition) {\n                throw new Error(`Component ${name} must have either propsSchema (recommended) or propsDefinition defined`);\n            }\n            // Validate that only one props definition is provided\n            if (propsSchema && propsDefinition) {\n                throw new Error(`Component ${name} cannot have both propsSchema and propsDefinition defined. Use only one. We recommend using propsSchema.`);\n            }\n            // Validate that the propsSchema does not include z.record()\n            if (propsSchema && isZodSchema(propsSchema)) {\n                (0,_util_validate_zod_schema__WEBPACK_IMPORTED_MODULE_2__.assertNoZodRecord)(propsSchema, `propsSchema of component \"${name}\"`);\n            }\n            // Convert propsSchema to JSON Schema if it exists\n            const props = getSerializedProps(propsDefinition, propsSchema, name);\n            setComponentList({\n                \"TamboRegistryProvider.useCallback[registerComponent]\": (prev)=>{\n                    if (prev[name] && warnOnOverwrite) {\n                        console.warn(`overwriting component ${name}`);\n                    }\n                    return {\n                        ...prev,\n                        [name]: {\n                            component,\n                            loadingComponent,\n                            name,\n                            description,\n                            props,\n                            contextTools: []\n                        }\n                    };\n                }\n            }[\"TamboRegistryProvider.useCallback[registerComponent]\"]);\n            if (associatedTools) {\n                registerTools(associatedTools);\n                setComponentToolAssociations({\n                    \"TamboRegistryProvider.useCallback[registerComponent]\": (prev)=>({\n                            ...prev,\n                            [name]: associatedTools.map({\n                                \"TamboRegistryProvider.useCallback[registerComponent]\": (tool)=>tool.name\n                            }[\"TamboRegistryProvider.useCallback[registerComponent]\"])\n                        })\n                }[\"TamboRegistryProvider.useCallback[registerComponent]\"]);\n            }\n        }\n    }[\"TamboRegistryProvider.useCallback[registerComponent]\"], [\n        registerTools\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"TamboRegistryProvider.useEffect\": ()=>{\n            if (userComponents) {\n                userComponents.forEach({\n                    \"TamboRegistryProvider.useEffect\": (component)=>{\n                        registerComponent(component, false);\n                    }\n                }[\"TamboRegistryProvider.useEffect\"]);\n            }\n        }\n    }[\"TamboRegistryProvider.useEffect\"], [\n        registerComponent,\n        userComponents\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"TamboRegistryProvider.useEffect\": ()=>{\n            if (userTools) {\n                registerTools(userTools, false);\n            }\n        }\n    }[\"TamboRegistryProvider.useEffect\"], [\n        registerTools,\n        userTools\n    ]);\n    const value = {\n        componentList,\n        toolRegistry,\n        componentToolAssociations,\n        registerComponent,\n        registerTool,\n        registerTools,\n        addToolAssociation\n    };\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(TamboRegistryContext.Provider, {\n        value: value\n    }, children);\n};\n/**\n * The useTamboRegistry hook provides access to the component registry\n * to the descendants of the TamboRegistryProvider.\n * @returns The component registry\n */ const useTamboRegistry = ()=>{\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(TamboRegistryContext);\n};\nfunction getSerializedProps(propsDefinition, propsSchema, name) {\n    if (propsDefinition) {\n        console.warn(`propsDefinition is deprecated. Use propsSchema instead.`);\n        return propsDefinition;\n    }\n    if (isZodSchema(propsSchema)) {\n        try {\n            return (0,zod_to_json_schema__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(propsSchema);\n        } catch (error) {\n            console.error(`Error converting ${name} props schema to JSON Schema:`, error);\n        }\n    }\n    // try to roughly detect JSONSchema, should always be an object with a properties key\n    if (isJSONSchema(propsSchema)) {\n        return propsSchema;\n    }\n    throw new Error(`Invalid props schema for ${name}`);\n}\n/**\n * Checks if the propsSchema is a JSON Schema. This is a rough check, and the\n * server will provide the definitive check.\n * @param propsSchema - The props schema to check\n * @returns True if the props schema is a JSON Schema, false otherwise\n */ function isJSONSchema(propsSchema) {\n    return propsSchema && typeof propsSchema === \"object\" && propsSchema.type === \"object\" && propsSchema.properties;\n}\n/**\n * Since we require a certain zod version, we need to check if the object is a ZodSchema\n * @param obj - The object to check\n * @returns True if the object is a ZodSchema, false otherwise\n */ function isZodSchema(obj) {\n    if (obj instanceof zod__WEBPACK_IMPORTED_MODULE_3__.ZodSchema) {\n        return true;\n    }\n    // try to detect if the object is a ZodSchema\n    return typeof obj === \"object\" && obj !== null && typeof obj.safeParse === \"function\" && typeof obj._def === \"object\";\n} //# sourceMappingURL=tambo-registry-provider.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHRhbWJvLWFpK3JlYWN0QDAuMzQuMF9AdHlwXzk0ZmU0NjU3YzA5OGVmNmEwNzFlZGQ3OGRiMjI3NzRhL25vZGVfbW9kdWxlcy9AdGFtYm8tYWkvcmVhY3QvZXNtL3Byb3ZpZGVycy90YW1iby1yZWdpc3RyeS1wcm92aWRlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztpSEFRZTtBQUNpQjtBQUNpQjtBQU1lO0FBWXpELE1BQU0sb0JBQW9CLGlCQUFHLG9EQUFhLENBQXVCO0lBQ3RFLGFBQWEsRUFBRSxFQUFFO0lBQ2pCLFlBQVksRUFBRSxFQUFFO0lBQ2hCLHlCQUF5QixFQUFFLEVBQUU7SUFDN0I7O09BRUcsQ0FDSCxpQkFBaUIsRUFBRSxHQUFHLEVBQUUsQ0FBRztJQUMzQjs7T0FFRyxDQUNILFlBQVksRUFBRSxHQUFHLEVBQUUsQ0FBRztJQUN0Qjs7T0FFRyxDQUNILGFBQWEsRUFBRSxHQUFHLEVBQUUsQ0FBRztJQUN2Qjs7T0FFRyxDQUNILGtCQUFrQixFQUFFLEdBQUcsRUFBRSxDQUFHO0NBQzdCLENBQUMsQ0FBQztBQVNIOzs7Ozs7OztHQVFHLENBQ0ksTUFBTSxxQkFBcUIsR0FFOUIsQ0FBQyxFQUFFLFFBQVEsRUFBRSxVQUFVLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsRUFBRSxFQUFFO0lBQ2pFLE1BQU0sQ0FBQyxhQUFhLEVBQUUsZ0JBQWdCLENBQUMsR0FBRywrQ0FBUSxDQUFvQixFQUFFLENBQUMsQ0FBQztJQUMxRSxNQUFNLENBQUMsWUFBWSxFQUFFLGVBQWUsQ0FBQyxHQUFHLCtDQUFRLENBQzlDLEVBQUUsQ0FDSCxDQUFDO0lBQ0YsTUFBTSxDQUFDLHlCQUF5QixFQUFFLDRCQUE0QixDQUFDLEdBQUcsK0NBQVEsQ0FFeEUsRUFBRSxDQUFDLENBQUM7SUFFTixNQUFNLFlBQVksR0FBRyxrREFBVzsyREFDOUIsQ0FBQyxJQUFlLEVBQUUsZUFBZSxHQUFHLElBQUksRUFB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LFVBQVUsQ0FDdkI7QUFDSCxDQUFDO0FBRUQ7Ozs7R0FJRyxDQUNILFNBQVMsV0FBVyxDQUFDLEdBQVk7SUFDL0IsSUFBSSxHQUFHLFlBQVksMENBQVMsRUFBRSxDQUFDO1FBQzdCLE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUNELDZDQUE2QztJQUM3QyxPQUFPLE9BQ0UsR0FBRyxLQUFLLFFBQVEsSUFDdkIsR0FBRyxLQUFLLElBQUksSUFDWixPQUFRLEdBQVcsQ0FBQyxTQUFTLEtBQUssVUFBVSxJQUM1QyxPQUFRLEdBQVcsQ0FBQyxJQUFJLEtBQUssUUFBUSxDQUN0QztBQUNILENBQUMiLCJzb3VyY2VzIjpbIkU6XFx3b3JrU3BhY2VcXENVUlNPUlxcc3JjXFxwcm92aWRlcnNcXHRhbWJvLXJlZ2lzdHJ5LXByb3ZpZGVyLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcbmltcG9ydCBSZWFjdCwge1xuICBjcmVhdGVDb250ZXh0LFxuICBQcm9wc1dpdGhDaGlsZHJlbixcbiAgdXNlQ2FsbGJhY2ssXG4gIHVzZUNvbnRleHQsXG4gIHVzZUVmZmVjdCxcbiAgdXNlU3RhdGUsXG59IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgWm9kU2NoZW1hIH0gZnJvbSBcInpvZFwiO1xuaW1wb3J0IHpvZFRvSnNvblNjaGVtYSBmcm9tIFwiem9kLXRvLWpzb24tc2NoZW1hXCI7XG5pbXBvcnQge1xuICBDb21wb25lbnRSZWdpc3RyeSxcbiAgVGFtYm9Db21wb25lbnQsXG4gIFRhbWJvVG9vbCxcbn0gZnJvbSBcIi4uL21vZGVsL2NvbXBvbmVudC1tZXRhZGF0YVwiO1xuaW1wb3J0IHsgYXNzZXJ0Tm9ab2RSZWNvcmQgfSBmcm9tIFwiLi4vdXRpbC92YWxpZGF0ZS16b2Qtc2NoZW1hXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGFtYm9SZWdpc3RyeUNvbnRleHQge1xuICBjb21wb25lbnRMaXN0OiBDb21wb25lbnRSZWdpc3RyeTtcbiAgdG9vbFJlZ2lzdHJ5OiBSZWNvcmQ8c3RyaW5nLCBUYW1ib1Rvb2w+O1xuICBjb21wb25lbnRUb29sQXNzb2NpYXRpb25zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmdbXT47XG4gIHJlZ2lzdGVyQ29tcG9uZW50OiAob3B0aW9uczogVGFtYm9Db21wb25lbnQpID0+IHZvaWQ7XG4gIHJlZ2lzdGVyVG9vbDogKHRvb2w6IFRhbWJvVG9vbCkgPT4gdm9pZDtcbiAgcmVnaXN0ZXJUb29sczogKHRvb2xzOiBUYW1ib1Rvb2xbXSkgPT4gdm9pZDtcbiAgYWRkVG9vbEFzc29jaWF0aW9uOiAoY29tcG9uZW50TmFtZTogc3RyaW5nLCB0b29sOiBUYW1ib1Rvb2wpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBjb25zdCBUYW1ib1JlZ2lzdHJ5Q29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8VGFtYm9SZWdpc3RyeUNvbnRleHQ+KHtcbiAgY29tcG9uZW50TGlzdDoge30sXG4gIHRvb2xSZWdpc3RyeToge30sXG4gIGNvbXBvbmVudFRvb2xBc3NvY2lhdGlvbnM6IHt9LFxuICAvKipcbiAgICpcbiAgICovXG4gIHJlZ2lzdGVyQ29tcG9uZW50OiAoKSA9PiB7fSxcbiAgLyoqXG4gICAqXG4gICAqL1xuICByZWdpc3RlclRvb2w6ICgpID0+IHt9LFxuICAvKipcbiAgICpcbiAgICovXG4gIHJlZ2lzdGVyVG9vbHM6ICgpID0+IHt9LFxuICAvKipcbiAgICpcbiAgICovXG4gIGFkZFRvb2xBc3NvY2lhdGlvbjogKCkgPT4ge30sXG59KTtcblxuZXhwb3J0IGludGVyZmFjZSBUYW1ib1JlZ2lzdHJ5UHJvdmlkZXJQcm9wcyB7XG4gIC8qKiBUaGUgY29tcG9uZW50cyB0byByZWdpc3RlciAqL1xuICBjb21wb25lbnRzPzogVGFtYm9Db21wb25lbnRbXTtcbiAgLyoqIFRoZSB0b29scyB0byByZWdpc3RlciAqL1xuICB0b29scz86IFRhbWJvVG9vbFtdO1xufVxuXG4vKipcbiAqIFRoZSBUYW1ib1JlZ2lzdHJ5UHJvdmlkZXIgaXMgYSBSZWFjdCBwcm92aWRlciB0aGF0IHByb3ZpZGVzIGEgY29tcG9uZW50XG4gKiByZWdpc3RyeSB0byB0aGUgZGVzY2VuZGFudHMgb2YgdGhlIHByb3ZpZGVyLlxuICogQHBhcmFtIHByb3BzIC0gVGhlIHByb3BzIGZvciB0aGUgVGFtYm9SZWdpc3RyeVByb3ZpZGVyXG4gKiBAcGFyYW0gcHJvcHMuY2hpbGRyZW4gLSBUaGUgY2hpbGRyZW4gdG8gd3JhcFxuICogQHBhcmFtIHByb3BzLmNvbXBvbmVudHMgLSBUaGUgY29tcG9uZW50cyB0byByZWdpc3RlclxuICogQHBhcmFtIHByb3BzLnRvb2xzIC0gVGhlIHRvb2xzIHRvIHJlZ2lzdGVyXG4gKiBAcmV0dXJucyBUaGUgVGFtYm9SZWdpc3RyeVByb3ZpZGVyIGNvbXBvbmVudFxuICovXG5leHBvcnQgY29uc3QgVGFtYm9SZWdpc3RyeVByb3ZpZGVyOiBSZWFjdC5GQzxcbiAgUHJvcHNXaXRoQ2hpbGRyZW48VGFtYm9SZWdpc3RyeVByb3ZpZGVyUHJvcHM+XG4+ID0gKHsgY2hpbGRyZW4sIGNvbXBvbmVudHM6IHVzZXJDb21wb25lbnRzLCB0b29sczogdXNlclRvb2xzIH0pID0+IHtcbiAgY29uc3QgW2NvbXBvbmVudExpc3QsIHNldENvbXBvbmVudExpc3RdID0gdXNlU3RhdGU8Q29tcG9uZW50UmVnaXN0cnk+KHt9KTtcbiAgY29uc3QgW3Rvb2xSZWdpc3RyeSwgc2V0VG9vbFJlZ2lzdHJ5XSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIFRhbWJvVG9vbD4+KFxuICAgIHt9LFxuICApO1xuICBjb25zdCBbY29tcG9uZW50VG9vbEFzc29jaWF0aW9ucywgc2V0Q29tcG9uZW50VG9vbEFzc29jaWF0aW9uc10gPSB1c2VTdGF0ZTxcbiAgICBSZWNvcmQ8c3RyaW5nLCBzdHJpbmdbXT5cbiAgPih7fSk7XG5cbiAgY29uc3QgcmVnaXN0ZXJUb29sID0gdXNlQ2FsbGJhY2soXG4gICAgKHRvb2w6IFRhbWJvVG9vbCwgd2Fybk9uT3ZlcndyaXRlID0gdHJ1ZSkgPT4ge1xuICAgICAgLy8gVmFsaWRhdGUgdG9vbCBzY2hlbWFzXG4gICAgICBpZiAodG9vbC50b29sU2NoZW1hICYmIGlzWm9kU2NoZW1hKHRvb2wudG9vbFNjaGVtYSkpIHtcbiAgICAgICAgYXNzZXJ0Tm9ab2RSZWNvcmQodG9vbC50b29sU2NoZW1hLCBgdG9vbFNjaGVtYSBvZiB0b29sIFwiJHt0b29sLm5hbWV9XCJgKTtcbiAgICAgIH1cbiAgICAgIHNldFRvb2xSZWdpc3RyeSgocHJldikgPT4ge1xuICAgICAgICBpZiAocHJldlt0b29sLm5hbWVdICYmIHdhcm5Pbk92ZXJ3cml0ZSkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihgT3ZlcndyaXRpbmcgdG9vbCAke3Rvb2wubmFtZX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgW3Rvb2wubmFtZV06IHRvb2wsXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9LFxuICAgIFtdLFxuICApO1xuXG4gIGNvbnN0IHJlZ2lzdGVyVG9vbHMgPSB1c2VDYWxsYmFjayhcbiAgICAodG9vbHM6IFRhbWJvVG9vbFtdLCB3YXJuT25PdmVyd3JpdGUgPSB0cnVlKSA9PiB7XG4gICAgICB0b29scy5mb3JFYWNoKCh0b29sKSA9PiByZWdpc3RlclRvb2wodG9vbCwgd2Fybk9uT3ZlcndyaXRlKSk7XG4gICAgfSxcbiAgICBbcmVnaXN0ZXJUb29sXSxcbiAgKTtcblxuICBjb25zdCBhZGRUb29sQXNzb2NpYXRpb24gPSB1c2VDYWxsYmFjayhcbiAgICAoY29tcG9uZW50TmFtZTogc3RyaW5nLCB0b29sOiBUYW1ib1Rvb2wpID0+IHtcbiAgICAgIGlmICghY29tcG9uZW50TGlzdFtjb21wb25lbnROYW1lXSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvbXBvbmVudCAke2NvbXBvbmVudE5hbWV9IG5vdCBmb3VuZCBpbiByZWdpc3RyeWApO1xuICAgICAgfVxuICAgICAgc2V0Q29tcG9uZW50VG9vbEFzc29jaWF0aW9ucygocHJldikgPT4gKHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgW2NvbXBvbmVudE5hbWVdOiBbLi4uKHByZXZbY29tcG9uZW50TmFtZV0gfHwgW10pLCB0b29sLm5hbWVdLFxuICAgICAgfSkpO1xuICAgIH0sXG4gICAgW2NvbXBvbmVudExpc3RdLFxuICApO1xuXG4gIGNvbnN0IHJlZ2lzdGVyQ29tcG9uZW50ID0gdXNlQ2FsbGJhY2soXG4gICAgKG9wdGlvbnM6IFRhbWJvQ29tcG9uZW50LCB3YXJuT25PdmVyd3JpdGUgPSB0cnVlKSA9PiB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICBjb21wb25lbnQsXG4gICAgICAgIHByb3BzU2NoZW1hLFxuICAgICAgICBwcm9wc0RlZmluaXRpb24sXG4gICAgICAgIGxvYWRpbmdDb21wb25lbnQsXG4gICAgICAgIGFzc29jaWF0ZWRUb29scyxcbiAgICAgIH0gPSBvcHRpb25zO1xuXG4gICAgICAvLyBWYWxpZGF0ZSB0aGF0IGF0IGxlYXN0IG9uZSBwcm9wcyBkZWZpbml0aW9uIGlzIHByb3ZpZGVkXG4gICAgICBpZiAoIXByb3BzU2NoZW1hICYmICFwcm9wc0RlZmluaXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBDb21wb25lbnQgJHtuYW1lfSBtdXN0IGhhdmUgZWl0aGVyIHByb3BzU2NoZW1hIChyZWNvbW1lbmRlZCkgb3IgcHJvcHNEZWZpbml0aW9uIGRlZmluZWRgLFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAvLyBWYWxpZGF0ZSB0aGF0IG9ubHkgb25lIHByb3BzIGRlZmluaXRpb24gaXMgcHJvdmlkZWRcbiAgICAgIGlmIChwcm9wc1NjaGVtYSAmJiBwcm9wc0RlZmluaXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBDb21wb25lbnQgJHtuYW1lfSBjYW5ub3QgaGF2ZSBib3RoIHByb3BzU2NoZW1hIGFuZCBwcm9wc0RlZmluaXRpb24gZGVmaW5lZC4gVXNlIG9ubHkgb25lLiBXZSByZWNvbW1lbmQgdXNpbmcgcHJvcHNTY2hlbWEuYCxcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgLy8gVmFsaWRhdGUgdGhhdCB0aGUgcHJvcHNTY2hlbWEgZG9lcyBub3QgaW5jbHVkZSB6LnJlY29yZCgpXG4gICAgICBpZiAocHJvcHNTY2hlbWEgJiYgaXNab2RTY2hlbWEocHJvcHNTY2hlbWEpKSB7XG4gICAgICAgIGFzc2VydE5vWm9kUmVjb3JkKHByb3BzU2NoZW1hLCBgcHJvcHNTY2hlbWEgb2YgY29tcG9uZW50IFwiJHtuYW1lfVwiYCk7XG4gICAgICB9XG5cbiAgICAgIC8vIENvbnZlcnQgcHJvcHNTY2hlbWEgdG8gSlNPTiBTY2hlbWEgaWYgaXQgZXhpc3RzXG4gICAgICBjb25zdCBwcm9wcyA9IGdldFNlcmlhbGl6ZWRQcm9wcyhwcm9wc0RlZmluaXRpb24sIHByb3BzU2NoZW1hLCBuYW1lKTtcblxuICAgICAgc2V0Q29tcG9uZW50TGlzdCgocHJldikgPT4ge1xuICAgICAgICBpZiAocHJldltuYW1lXSAmJiB3YXJuT25PdmVyd3JpdGUpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oYG92ZXJ3cml0aW5nIGNvbXBvbmVudCAke25hbWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgIFtuYW1lXToge1xuICAgICAgICAgICAgY29tcG9uZW50LFxuICAgICAgICAgICAgbG9hZGluZ0NvbXBvbmVudCxcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgICAgIHByb3BzLFxuICAgICAgICAgICAgY29udGV4dFRvb2xzOiBbXSxcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgICBpZiAoYXNzb2NpYXRlZFRvb2xzKSB7XG4gICAgICAgIHJlZ2lzdGVyVG9vbHMoYXNzb2NpYXRlZFRvb2xzKTtcbiAgICAgICAgc2V0Q29tcG9uZW50VG9vbEFzc29jaWF0aW9ucygocHJldikgPT4gKHtcbiAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgIFtuYW1lXTogYXNzb2NpYXRlZFRvb2xzLm1hcCgodG9vbCkgPT4gdG9vbC5uYW1lKSxcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH0sXG4gICAgW3JlZ2lzdGVyVG9vbHNdLFxuICApO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh1c2VyQ29tcG9uZW50cykge1xuICAgICAgdXNlckNvbXBvbmVudHMuZm9yRWFjaCgoY29tcG9uZW50KSA9PiB7XG4gICAgICAgIHJlZ2lzdGVyQ29tcG9uZW50KGNvbXBvbmVudCwgZmFsc2UpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbcmVnaXN0ZXJDb21wb25lbnQsIHVzZXJDb21wb25lbnRzXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodXNlclRvb2xzKSB7XG4gICAgICByZWdpc3RlclRvb2xzKHVzZXJUb29scywgZmFsc2UpO1xuICAgIH1cbiAgfSwgW3JlZ2lzdGVyVG9vbHMsIHVzZXJUb29sc10pO1xuXG4gIGNvbnN0IHZhbHVlID0ge1xuICAgIGNvbXBvbmVudExpc3QsXG4gICAgdG9vbFJlZ2lzdHJ5LFxuICAgIGNvbXBvbmVudFRvb2xBc3NvY2lhdGlvbnMsXG4gICAgcmVnaXN0ZXJDb21wb25lbnQsXG4gICAgcmVnaXN0ZXJUb29sLFxuICAgIHJlZ2lzdGVyVG9vbHMsXG4gICAgYWRkVG9vbEFzc29jaWF0aW9uLFxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPFRhbWJvUmVnaXN0cnlDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt2YWx1ZX0+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9UYW1ib1JlZ2lzdHJ5Q29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn07XG5cbi8qKlxuICogVGhlIHVzZVRhbWJvUmVnaXN0cnkgaG9vayBwcm92aWRlcyBhY2Nlc3MgdG8gdGhlIGNvbXBvbmVudCByZWdpc3RyeVxuICogdG8gdGhlIGRlc2NlbmRhbnRzIG9mIHRoZSBUYW1ib1JlZ2lzdHJ5UHJvdmlkZXIuXG4gKiBAcmV0dXJucyBUaGUgY29tcG9uZW50IHJlZ2lzdHJ5XG4gKi9cbmV4cG9ydCBjb25zdCB1c2VUYW1ib1JlZ2lzdHJ5ID0gKCkgPT4ge1xuICByZXR1cm4gdXNlQ29udGV4dChUYW1ib1JlZ2lzdHJ5Q29udGV4dCk7XG59O1xuZnVuY3Rpb24gZ2V0U2VyaWFsaXplZFByb3BzKFxuICBwcm9wc0RlZmluaXRpb246IGFueSxcbiAgcHJvcHNTY2hlbWE6IGFueSxcbiAgbmFtZTogc3RyaW5nLFxuKSB7XG4gIGlmIChwcm9wc0RlZmluaXRpb24pIHtcbiAgICBjb25zb2xlLndhcm4oYHByb3BzRGVmaW5pdGlvbiBpcyBkZXByZWNhdGVkLiBVc2UgcHJvcHNTY2hlbWEgaW5zdGVhZC5gKTtcbiAgICByZXR1cm4gcHJvcHNEZWZpbml0aW9uO1xuICB9XG5cbiAgaWYgKGlzWm9kU2NoZW1hKHByb3BzU2NoZW1hKSkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gem9kVG9Kc29uU2NoZW1hKHByb3BzU2NoZW1hKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgYEVycm9yIGNvbnZlcnRpbmcgJHtuYW1lfSBwcm9wcyBzY2hlbWEgdG8gSlNPTiBTY2hlbWE6YCxcbiAgICAgICAgZXJyb3IsXG4gICAgICApO1xuICAgIH1cbiAgfVxuICAvLyB0cnkgdG8gcm91Z2hseSBkZXRlY3QgSlNPTlNjaGVtYSwgc2hvdWxkIGFsd2F5cyBiZSBhbiBvYmplY3Qgd2l0aCBhIHByb3BlcnRpZXMga2V5XG4gIGlmIChpc0pTT05TY2hlbWEocHJvcHNTY2hlbWEpKSB7XG4gICAgcmV0dXJuIHByb3BzU2NoZW1hO1xuICB9XG5cbiAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHByb3BzIHNjaGVtYSBmb3IgJHtuYW1lfWApO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiB0aGUgcHJvcHNTY2hlbWEgaXMgYSBKU09OIFNjaGVtYS4gVGhpcyBpcyBhIHJvdWdoIGNoZWNrLCBhbmQgdGhlXG4gKiBzZXJ2ZXIgd2lsbCBwcm92aWRlIHRoZSBkZWZpbml0aXZlIGNoZWNrLlxuICogQHBhcmFtIHByb3BzU2NoZW1hIC0gVGhlIHByb3BzIHNjaGVtYSB0byBjaGVja1xuICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgcHJvcHMgc2NoZW1hIGlzIGEgSlNPTiBTY2hlbWEsIGZhbHNlIG90aGVyd2lzZVxuICovXG5mdW5jdGlvbiBpc0pTT05TY2hlbWEocHJvcHNTY2hlbWE6IGFueSkge1xuICByZXR1cm4gKFxuICAgIHByb3BzU2NoZW1hICYmXG4gICAgdHlwZW9mIHByb3BzU2NoZW1hID09PSBcIm9iamVjdFwiICYmXG4gICAgcHJvcHNTY2hlbWEudHlwZSA9PT0gXCJvYmplY3RcIiAmJlxuICAgIHByb3BzU2NoZW1hLnByb3BlcnRpZXNcbiAgKTtcbn1cblxuLyoqXG4gKiBTaW5jZSB3ZSByZXF1aXJlIGEgY2VydGFpbiB6b2QgdmVyc2lvbiwgd2UgbmVlZCB0byBjaGVjayBpZiB0aGUgb2JqZWN0IGlzIGEgWm9kU2NoZW1hXG4gKiBAcGFyYW0gb2JqIC0gVGhlIG9iamVjdCB0byBjaGVja1xuICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgb2JqZWN0IGlzIGEgWm9kU2NoZW1hLCBmYWxzZSBvdGhlcndpc2VcbiAqL1xuZnVuY3Rpb24gaXNab2RTY2hlbWEob2JqOiB1bmtub3duKTogb2JqIGlzIFpvZFNjaGVtYSB7XG4gIGlmIChvYmogaW5zdGFuY2VvZiBab2RTY2hlbWEpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICAvLyB0cnkgdG8gZGV0ZWN0IGlmIHRoZSBvYmplY3QgaXMgYSBab2RTY2hlbWFcbiAgcmV0dXJuIChcbiAgICB0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiICYmXG4gICAgb2JqICE9PSBudWxsICYmXG4gICAgdHlwZW9mIChvYmogYXMgYW55KS5zYWZlUGFyc2UgPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgIHR5cGVvZiAob2JqIGFzIGFueSkuX2RlZiA9PT0gXCJvYmplY3RcIlxuICApO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/providers/tambo-registry-provider.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/providers/tambo-thread-provider.js":
/*!*************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/providers/tambo-thread-provider.js ***!
  \*************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PLACEHOLDER_THREAD: () => (/* binding */ PLACEHOLDER_THREAD),\n/* harmony export */   TamboThreadContext: () => (/* binding */ TamboThreadContext),\n/* harmony export */   TamboThreadProvider: () => (/* binding */ TamboThreadProvider),\n/* harmony export */   useTamboThread: () => (/* binding */ useTamboThread)\n/* harmony export */ });\n/* harmony import */ var _tambo_ai_typescript_sdk__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @tambo-ai/typescript-sdk */ \"(ssr)/./node_modules/.pnpm/@tambo-ai+typescript-sdk@0.58.0/node_modules/@tambo-ai/typescript-sdk/lib/advance-stream.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.1.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _model_generate_component_response__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model/generate-component-response */ \"(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/model/generate-component-response.js\");\n/* harmony import */ var _util_generate_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/generate-component */ \"(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/util/generate-component.js\");\n/* harmony import */ var _util_registry__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/registry */ \"(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/util/registry.js\");\n/* harmony import */ var _util_tool_caller__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../util/tool-caller */ \"(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/util/tool-caller.js\");\n/* harmony import */ var _tambo_client_provider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./tambo-client-provider */ \"(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/providers/tambo-client-provider.js\");\n/* harmony import */ var _tambo_registry_provider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./tambo-registry-provider */ \"(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/providers/tambo-registry-provider.js\");\n/* __next_internal_client_entry_do_not_use__ PLACEHOLDER_THREAD,TamboThreadContext,TamboThreadProvider,useTamboThread auto */ \n\n\n\n\n\n\n\n/**\n * This is a stub entry for when the thread is not yet created, the first time\n * the user sends a message\n *\n * Note that the consumer needs to be careful never to send `PLACEHOLDER_THREAD.id` to the server,\n * as this doesn't really exist on the server side.\n */ const PLACEHOLDER_THREAD = {\n    id: \"placeholder\",\n    messages: [],\n    createdAt: \"\",\n    projectId: \"\",\n    updatedAt: \"\",\n    metadata: {}\n};\nconst TamboThreadContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({\n    thread: PLACEHOLDER_THREAD,\n    /**\n     *\n     */ switchCurrentThread: ()=>{\n        throw new Error(\"switchCurrentThread not implemented\");\n    },\n    /**\n     *\n     */ startNewThread: ()=>{\n        throw new Error(\"startNewThread not implemented\");\n    },\n    /**\n     *\n     */ updateThreadName: ()=>{\n        throw new Error(\"updateThreadName not implemented\");\n    },\n    /**\n     *\n     */ generateThreadName: ()=>{\n        throw new Error(\"generateThreadName not implemented\");\n    },\n    /**\n     *\n     */ addThreadMessage: ()=>{\n        throw new Error(\"updateThreadMessageHistory not implemented\");\n    },\n    inputValue: \"\",\n    streaming: true,\n    /**\n     *\n     */ setInputValue: ()=>{\n        throw new Error(\"setInputValue not implemented\");\n    },\n    /**\n     *\n     */ updateThreadMessage: ()=>{\n        throw new Error(\"updateThreadMessage not implemented\");\n    },\n    /**\n     *\n     */ sendThreadMessage: ()=>{\n        throw new Error(\"advance not implemented\");\n    },\n    generationStage: _model_generate_component_response__WEBPACK_IMPORTED_MODULE_1__.GenerationStage.IDLE,\n    generationStatusMessage: \"\",\n    isIdle: true,\n    cancel: ()=>{\n        throw new Error(\"cancel not implemented\");\n    }\n});\n/**\n * The TamboThreadProvider is a React provider that provides a thread context\n * to the descendants of the provider.\n * @param props - The props for the TamboThreadProvider\n * @param props.children - The children to wrap\n * @param props.streaming - Whether to stream the response by default. Defaults to true.\n * @returns The TamboThreadProvider component\n */ const TamboThreadProvider = ({ children, streaming = true })=>{\n    const [threadMap, setThreadMap] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        [PLACEHOLDER_THREAD.id]: PLACEHOLDER_THREAD\n    });\n    const client = (0,_tambo_client_provider__WEBPACK_IMPORTED_MODULE_2__.useTamboClient)();\n    const { componentList, toolRegistry, componentToolAssociations } = (0,_tambo_registry_provider__WEBPACK_IMPORTED_MODULE_3__.useTamboRegistry)();\n    const [inputValue, setInputValue] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [ignoreResponse, setIgnoreResponse] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const ignoreResponseRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(ignoreResponse);\n    const [currentThreadId, setCurrentThreadId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(PLACEHOLDER_THREAD.id);\n    const currentThread = threadMap[currentThreadId];\n    // Use existing messages from the current thread to avoid re-generating any components\n    const currentMessageCache = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"TamboThreadProvider.useMemo[currentMessageCache]\": ()=>{\n            const messageCache = new Map();\n            if (currentThread) {\n                for (const message of currentThread.messages){\n                    messageCache.set(message.id, message);\n                }\n            }\n            return messageCache;\n        }\n    }[\"TamboThreadProvider.useMemo[currentMessageCache]\"], [\n        currentThread\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"TamboThreadProvider.useEffect\": ()=>{\n            ignoreResponseRef.current = ignoreResponse;\n        }\n    }[\"TamboThreadProvider.useEffect\"], [\n        ignoreResponse\n    ]);\n    const isIdle = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"TamboThreadProvider.useMemo[isIdle]\": ()=>(0,_model_generate_component_response__WEBPACK_IMPORTED_MODULE_1__.isIdleStage)(currentThread?.generationStage ?? _model_generate_component_response__WEBPACK_IMPORTED_MODULE_1__.GenerationStage.IDLE)\n    }[\"TamboThreadProvider.useMemo[isIdle]\"], [\n        currentThread?.generationStage\n    ]);\n    const fetchThread = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"TamboThreadProvider.useCallback[fetchThread]\": async (threadId)=>{\n            const thread = await client.beta.threads.retrieve(threadId);\n            const threadWithRenderedComponents = {\n                ...thread,\n                messages: thread.messages.map({\n                    \"TamboThreadProvider.useCallback[fetchThread]\": (message)=>{\n                        if (currentMessageCache.has(message.id)) {\n                            const renderedMessage = currentMessageCache.get(message.id);\n                            return {\n                                ...renderedMessage,\n                                ...message\n                            };\n                        }\n                        if (message.component?.componentName) {\n                            const messageWithComponent = (0,_util_generate_component__WEBPACK_IMPORTED_MODULE_4__.renderComponentIntoMessage)(message, componentList);\n                            return messageWithComponent;\n                        }\n                        return message;\n                    }\n                }[\"TamboThreadProvider.useCallback[fetchThread]\"])\n            };\n            setThreadMap({\n                \"TamboThreadProvider.useCallback[fetchThread]\": (prevMap)=>{\n                    const updatedThreadMap = {\n                        ...prevMap,\n                        [threadId]: threadWithRenderedComponents\n                    };\n                    return updatedThreadMap;\n                }\n            }[\"TamboThreadProvider.useCallback[fetchThread]\"]);\n        }\n    }[\"TamboThreadProvider.useCallback[fetchThread]\"], [\n        client.beta.threads,\n        componentList,\n        currentMessageCache\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"TamboThreadProvider.useEffect\": ()=>{\n            if (currentThreadId && currentThreadId !== PLACEHOLDER_THREAD.id && !threadMap[currentThreadId]) {\n                fetchThread(currentThreadId);\n            }\n        }\n    }[\"TamboThreadProvider.useEffect\"], [\n        currentThreadId,\n        fetchThread,\n        threadMap\n    ]);\n    const addThreadMessage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"TamboThreadProvider.useCallback[addThreadMessage]\": async (message, sendToServer = true, createdAt = new Date().toISOString())=>{\n            if (!currentThread) {\n                console.warn(\"Cannot add messages if we do not have a current thread\");\n                return [];\n            }\n            const chatMessage = {\n                ...message,\n                additionalContext: message.role === \"user\" ? (0,_util_registry__WEBPACK_IMPORTED_MODULE_5__.getClientContext)() : undefined,\n                createdAt\n            };\n            const threadId = message.threadId;\n            const messageId = chatMessage.id;\n            // optimistically update the thread in the local state\n            setThreadMap({\n                \"TamboThreadProvider.useCallback[addThreadMessage]\": (prevMap)=>{\n                    if (!threadId) {\n                        return prevMap;\n                    }\n                    const prevMessages = prevMap[threadId]?.messages || [];\n                    const haveMessage = prevMessages.find({\n                        \"TamboThreadProvider.useCallback[addThreadMessage].haveMessage\": (msg)=>msg.id === messageId\n                    }[\"TamboThreadProvider.useCallback[addThreadMessage].haveMessage\"]);\n                    // Update in place if the message already exists\n                    const updatedMessages = haveMessage ? prevMessages.map({\n                        \"TamboThreadProvider.useCallback[addThreadMessage]\": (msg)=>{\n                            if (msg.id === messageId) {\n                                return chatMessage;\n                            }\n                            return msg;\n                        }\n                    }[\"TamboThreadProvider.useCallback[addThreadMessage]\"]) : [\n                        ...prevMessages,\n                        chatMessage\n                    ];\n                    const updatedThreadMap = {\n                        ...prevMap,\n                        [threadId]: {\n                            ...prevMap[threadId],\n                            messages: updatedMessages\n                        }\n                    };\n                    return updatedThreadMap;\n                }\n            }[\"TamboThreadProvider.useCallback[addThreadMessage]\"]);\n            if (sendToServer) {\n                // TODO: if this fails, we need to revert the local state update\n                await client.beta.threads.messages.create(message.threadId, {\n                    content: message.content,\n                    role: message.role\n                });\n            }\n            return threadMap[threadId]?.messages || [];\n        }\n    }[\"TamboThreadProvider.useCallback[addThreadMessage]\"], [\n        client.beta.threads.messages,\n        currentThread,\n        threadMap\n    ]);\n    const updateThreadMessage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"TamboThreadProvider.useCallback[updateThreadMessage]\": async (id, message, sendToServer = true, createdAt = new Date().toISOString())=>{\n            const chatMessage = {\n                ...message,\n                createdAt\n            };\n            setThreadMap({\n                \"TamboThreadProvider.useCallback[updateThreadMessage]\": (prevMap)=>{\n                    if (!message.threadId) {\n                        return prevMap;\n                    }\n                    const prevMessages = prevMap[message.threadId]?.messages || [];\n                    const updatedMessages = prevMessages.map({\n                        \"TamboThreadProvider.useCallback[updateThreadMessage].updatedMessages\": (msg)=>{\n                            if (msg.id === id) {\n                                return chatMessage;\n                            }\n                            return msg;\n                        }\n                    }[\"TamboThreadProvider.useCallback[updateThreadMessage].updatedMessages\"]);\n                    return {\n                        ...prevMap,\n                        [message.threadId]: {\n                            ...prevMap[message.threadId],\n                            messages: updatedMessages\n                        }\n                    };\n                }\n            }[\"TamboThreadProvider.useCallback[updateThreadMessage]\"]);\n            if (sendToServer) {\n                // TODO: if this fails, we need to revert the local state update\n                await client.beta.threads.messages.create(message.threadId, {\n                    content: message.content,\n                    role: message.role\n                });\n            }\n        }\n    }[\"TamboThreadProvider.useCallback[updateThreadMessage]\"], [\n        client.beta.threads.messages\n    ]);\n    const startNewThread = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"TamboThreadProvider.useCallback[startNewThread]\": ()=>{\n            setCurrentThreadId(PLACEHOLDER_THREAD.id);\n            setThreadMap({\n                \"TamboThreadProvider.useCallback[startNewThread]\": (prevMap)=>{\n                    return {\n                        ...prevMap,\n                        [PLACEHOLDER_THREAD.id]: PLACEHOLDER_THREAD\n                    };\n                }\n            }[\"TamboThreadProvider.useCallback[startNewThread]\"]);\n        }\n    }[\"TamboThreadProvider.useCallback[startNewThread]\"], []);\n    const updateThreadName = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"TamboThreadProvider.useCallback[updateThreadName]\": async (name, threadId)=>{\n            threadId ??= currentThreadId;\n            setThreadMap({\n                \"TamboThreadProvider.useCallback[updateThreadName]\": (prevMap)=>{\n                    if (!prevMap[threadId]) {\n                        return prevMap;\n                    }\n                    return {\n                        ...prevMap,\n                        [threadId]: {\n                            ...prevMap[threadId],\n                            name\n                        }\n                    };\n                }\n            }[\"TamboThreadProvider.useCallback[updateThreadName]\"]);\n            if (threadId !== PLACEHOLDER_THREAD.id) {\n                const currentProject = await client.beta.projects.getCurrent();\n                await client.beta.threads.update(threadId, {\n                    name,\n                    projectId: currentProject.id\n                });\n            }\n        }\n    }[\"TamboThreadProvider.useCallback[updateThreadName]\"], [\n        currentThreadId,\n        client.beta.projects,\n        client.beta.threads\n    ]);\n    const generateThreadName = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"TamboThreadProvider.useCallback[generateThreadName]\": async (threadId)=>{\n            threadId ??= currentThreadId;\n            if (threadId === PLACEHOLDER_THREAD.id) {\n                console.warn(\"Cannot generate name for empty thread\");\n                return threadMap[threadId];\n            }\n            const threadWithGeneratedName = await client.beta.threads.generateName(threadId);\n            setThreadMap({\n                \"TamboThreadProvider.useCallback[generateThreadName]\": (prevMap)=>{\n                    if (!prevMap[threadId]) {\n                        return prevMap;\n                    }\n                    return {\n                        ...prevMap,\n                        [threadId]: {\n                            ...prevMap[threadId],\n                            name: threadWithGeneratedName.name\n                        }\n                    };\n                }\n            }[\"TamboThreadProvider.useCallback[generateThreadName]\"]);\n            return threadWithGeneratedName;\n        }\n    }[\"TamboThreadProvider.useCallback[generateThreadName]\"], [\n        client.beta.threads,\n        currentThreadId,\n        threadMap\n    ]);\n    const switchCurrentThread = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"TamboThreadProvider.useCallback[switchCurrentThread]\": async (threadId, fetch = true)=>{\n            if (threadId === PLACEHOLDER_THREAD.id) {\n                console.warn(\"Switching to placeholder thread, may be a bug.\");\n                return;\n            }\n            setCurrentThreadId(threadId);\n            setThreadMap({\n                \"TamboThreadProvider.useCallback[switchCurrentThread]\": (prevMap)=>{\n                    if (prevMap[threadId]) {\n                        return prevMap;\n                    }\n                    // If this is a new thread, add placeholder thread messages to the thread\n                    const updatedThreadMap = {\n                        ...prevMap,\n                        [threadId]: {\n                            ...prevMap[PLACEHOLDER_THREAD.id],\n                            id: threadId\n                        }\n                    };\n                    return updatedThreadMap;\n                }\n            }[\"TamboThreadProvider.useCallback[switchCurrentThread]\"]);\n            if (fetch) {\n                await fetchThread(threadId);\n            }\n        }\n    }[\"TamboThreadProvider.useCallback[switchCurrentThread]\"], [\n        fetchThread\n    ]);\n    const updateThreadStatus = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"TamboThreadProvider.useCallback[updateThreadStatus]\": (threadId, stage, statusMessage)=>{\n            setThreadMap({\n                \"TamboThreadProvider.useCallback[updateThreadStatus]\": (prevMap)=>{\n                    const updatedThreadMap = {\n                        ...prevMap,\n                        [threadId]: {\n                            ...prevMap[threadId],\n                            generationStage: stage,\n                            statusMessage: statusMessage\n                        }\n                    };\n                    return updatedThreadMap;\n                }\n            }[\"TamboThreadProvider.useCallback[updateThreadStatus]\"]);\n        }\n    }[\"TamboThreadProvider.useCallback[updateThreadStatus]\"], []);\n    const cancel = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"TamboThreadProvider.useCallback[cancel]\": async (threadId)=>{\n            threadId ??= currentThreadId;\n            if (isIdle) {\n                return;\n            }\n            setIgnoreResponse(true);\n            setThreadMap({\n                \"TamboThreadProvider.useCallback[cancel]\": (prevMap)=>{\n                    if (!prevMap[threadId]) {\n                        return prevMap;\n                    }\n                    return {\n                        ...prevMap,\n                        [threadId]: {\n                            ...prevMap[threadId],\n                            generationStage: _model_generate_component_response__WEBPACK_IMPORTED_MODULE_1__.GenerationStage.CANCELLED,\n                            messages: prevMap[threadId].messages.map({\n                                \"TamboThreadProvider.useCallback[cancel]\": (message)=>{\n                                    if (message.id === prevMap[threadId].messages[prevMap[threadId].messages.length - 1].id) {\n                                        return {\n                                            ...message,\n                                            isCancelled: true\n                                        };\n                                    }\n                                    return message;\n                                }\n                            }[\"TamboThreadProvider.useCallback[cancel]\"])\n                        }\n                    };\n                }\n            }[\"TamboThreadProvider.useCallback[cancel]\"]);\n            await client.beta.threads.cancel(threadId);\n        }\n    }[\"TamboThreadProvider.useCallback[cancel]\"], [\n        client.beta.threads,\n        currentThreadId,\n        isIdle\n    ]);\n    const handleAdvanceStream = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"TamboThreadProvider.useCallback[handleAdvanceStream]\": async (stream, params, threadId)=>{\n            if (ignoreResponseRef.current) {\n                setIgnoreResponse(false);\n                return {\n                    threadId: threadId,\n                    content: [\n                        {\n                            type: \"text\",\n                            text: \"\"\n                        }\n                    ],\n                    role: \"assistant\",\n                    createdAt: new Date().toISOString(),\n                    id: crypto.randomUUID(),\n                    componentState: {}\n                };\n            }\n            let finalMessage;\n            let hasSetThreadId = false;\n            updateThreadStatus(threadId, _model_generate_component_response__WEBPACK_IMPORTED_MODULE_1__.GenerationStage.STREAMING_RESPONSE);\n            for await (const chunk of stream){\n                if (chunk.responseMessageDto.toolCallRequest) {\n                    updateThreadStatus(chunk.responseMessageDto.threadId, _model_generate_component_response__WEBPACK_IMPORTED_MODULE_1__.GenerationStage.FETCHING_CONTEXT);\n                    const toolCallResponse = await (0,_util_tool_caller__WEBPACK_IMPORTED_MODULE_6__.handleToolCall)(chunk.responseMessageDto, toolRegistry);\n                    if (ignoreResponseRef.current) {\n                        setIgnoreResponse(false);\n                        {\n                            return {\n                                threadId: threadId,\n                                content: [\n                                    {\n                                        type: \"text\",\n                                        text: \"\"\n                                    }\n                                ],\n                                role: \"assistant\",\n                                createdAt: new Date().toISOString(),\n                                id: crypto.randomUUID(),\n                                componentState: {}\n                            };\n                        }\n                    }\n                    const toolCallResponseString = typeof toolCallResponse.result === \"string\" ? toolCallResponse.result : JSON.stringify(toolCallResponse.result);\n                    const toolCallResponseParams = {\n                        ...params,\n                        messageToAppend: {\n                            content: [\n                                {\n                                    type: \"text\",\n                                    text: toolCallResponseString\n                                }\n                            ],\n                            role: \"tool\",\n                            actionType: \"tool_response\",\n                            component: chunk.responseMessageDto.component,\n                            tool_call_id: chunk.responseMessageDto.tool_call_id,\n                            error: toolCallResponse.error\n                        }\n                    };\n                    updateThreadMessage(chunk.responseMessageDto.id, {\n                        ...chunk.responseMessageDto,\n                        error: toolCallResponse.error\n                    }, false);\n                    updateThreadStatus(chunk.responseMessageDto.threadId, _model_generate_component_response__WEBPACK_IMPORTED_MODULE_1__.GenerationStage.STREAMING_RESPONSE);\n                    const toolCallResponseStream = await (0,_tambo_ai_typescript_sdk__WEBPACK_IMPORTED_MODULE_7__.advanceStream)(client, toolCallResponseParams, chunk.responseMessageDto.threadId);\n                    return await handleAdvanceStream(toolCallResponseStream, toolCallResponseParams, chunk.responseMessageDto.threadId);\n                } else {\n                    if (ignoreResponseRef.current) {\n                        setIgnoreResponse(false);\n                        return finalMessage ?? {\n                            threadId: threadId,\n                            content: [\n                                {\n                                    type: \"text\",\n                                    text: \"\"\n                                }\n                            ],\n                            role: \"assistant\",\n                            createdAt: new Date().toISOString(),\n                            id: crypto.randomUUID(),\n                            componentState: {}\n                        };\n                    }\n                    if (!hasSetThreadId && chunk.responseMessageDto.threadId && chunk.responseMessageDto.threadId !== currentThread?.id) {\n                        hasSetThreadId = true;\n                        await switchCurrentThread(chunk.responseMessageDto.threadId, false);\n                    }\n                    if (!finalMessage) {\n                        finalMessage = chunk.responseMessageDto.component?.componentName ? (0,_util_generate_component__WEBPACK_IMPORTED_MODULE_4__.renderComponentIntoMessage)(chunk.responseMessageDto, componentList) : chunk.responseMessageDto;\n                        await addThreadMessage(finalMessage, false);\n                    } else {\n                        // if we start getting a new message mid-stream, put the previous one on screen\n                        const isNewMessage = chunk.responseMessageDto.id !== finalMessage.id;\n                        finalMessage = chunk.responseMessageDto.component?.componentName ? (0,_util_generate_component__WEBPACK_IMPORTED_MODULE_4__.renderComponentIntoMessage)(chunk.responseMessageDto, componentList) : chunk.responseMessageDto;\n                        if (isNewMessage) {\n                            await addThreadMessage(finalMessage, false);\n                        } else {\n                            await updateThreadMessage(finalMessage.id, finalMessage, false);\n                        }\n                    }\n                }\n            }\n            updateThreadStatus(finalMessage?.threadId ?? threadId, _model_generate_component_response__WEBPACK_IMPORTED_MODULE_1__.GenerationStage.COMPLETE);\n            return finalMessage ?? {\n                threadId: \"\",\n                content: [\n                    {\n                        type: \"text\",\n                        text: `Error processing stream`\n                    }\n                ],\n                role: \"assistant\",\n                createdAt: new Date().toISOString(),\n                id: crypto.randomUUID(),\n                componentState: {}\n            };\n        }\n    }[\"TamboThreadProvider.useCallback[handleAdvanceStream]\"], [\n        addThreadMessage,\n        client,\n        componentList,\n        currentThread?.id,\n        switchCurrentThread,\n        toolRegistry,\n        updateThreadMessage,\n        updateThreadStatus\n    ]);\n    const currentThreadContextKey = currentThread?.contextKey;\n    const sendThreadMessage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"TamboThreadProvider.useCallback[sendThreadMessage]\": async (message, options = {})=>{\n            setIgnoreResponse(false);\n            const { threadId = currentThreadId ?? PLACEHOLDER_THREAD.id, streamResponse = streaming, forceToolChoice, contextKey = currentThreadContextKey } = options;\n            updateThreadStatus(threadId, _model_generate_component_response__WEBPACK_IMPORTED_MODULE_1__.GenerationStage.FETCHING_CONTEXT);\n            addThreadMessage({\n                content: [\n                    {\n                        type: \"text\",\n                        text: message\n                    }\n                ],\n                renderedComponent: null,\n                role: \"user\",\n                threadId: threadId,\n                id: crypto.randomUUID(),\n                createdAt: new Date().toISOString(),\n                componentState: {}\n            }, false);\n            const availableComponents = (0,_util_registry__WEBPACK_IMPORTED_MODULE_5__.getAvailableComponents)(componentList, toolRegistry, componentToolAssociations);\n            const unassociatedTools = (0,_util_registry__WEBPACK_IMPORTED_MODULE_5__.getUnassociatedTools)(toolRegistry, componentToolAssociations);\n            const params = {\n                messageToAppend: {\n                    content: [\n                        {\n                            type: \"text\",\n                            text: message\n                        }\n                    ],\n                    role: \"user\"\n                },\n                contextKey,\n                availableComponents: availableComponents,\n                clientTools: unassociatedTools.map({\n                    \"TamboThreadProvider.useCallback[sendThreadMessage]\": (tool)=>(0,_util_registry__WEBPACK_IMPORTED_MODULE_5__.mapTamboToolToContextTool)(tool)\n                }[\"TamboThreadProvider.useCallback[sendThreadMessage]\"]),\n                forceToolChoice: forceToolChoice\n            };\n            if (streamResponse) {\n                const advanceStreamResponse = await (0,_tambo_ai_typescript_sdk__WEBPACK_IMPORTED_MODULE_7__.advanceStream)(client, params, threadId === PLACEHOLDER_THREAD.id ? undefined : threadId);\n                return await handleAdvanceStream(advanceStreamResponse, params, threadId);\n            }\n            let advanceResponse = await (threadId === PLACEHOLDER_THREAD.id ? client.beta.threads.advance(params) : client.beta.threads.advanceById(threadId, params));\n            //handle tool calls\n            while(advanceResponse.responseMessageDto.toolCallRequest){\n                updateThreadStatus(threadId, _model_generate_component_response__WEBPACK_IMPORTED_MODULE_1__.GenerationStage.FETCHING_CONTEXT);\n                const toolCallResponse = await (0,_util_tool_caller__WEBPACK_IMPORTED_MODULE_6__.handleToolCall)(advanceResponse.responseMessageDto, toolRegistry);\n                const toolResponseString = typeof toolCallResponse.result === \"string\" ? toolCallResponse.result : JSON.stringify(toolCallResponse.result);\n                const toolCallResponseParams = {\n                    ...params,\n                    messageToAppend: {\n                        ...params.messageToAppend,\n                        content: [\n                            {\n                                type: \"text\",\n                                text: toolResponseString\n                            }\n                        ],\n                        role: \"tool\",\n                        actionType: \"tool_response\",\n                        component: advanceResponse.responseMessageDto.component,\n                        tool_call_id: advanceResponse.responseMessageDto.tool_call_id,\n                        error: toolCallResponse.error\n                    }\n                };\n                if (toolCallResponse.error) {\n                    //update toolcall message with error\n                    const toolCallMessage = {\n                        ...advanceResponse.responseMessageDto,\n                        error: toolCallResponse.error\n                    };\n                    updateThreadMessage(toolCallMessage.id, toolCallMessage, false);\n                }\n                updateThreadStatus(threadId, _model_generate_component_response__WEBPACK_IMPORTED_MODULE_1__.GenerationStage.HYDRATING_COMPONENT);\n                advanceResponse = await client.beta.threads.advanceById(advanceResponse.responseMessageDto.threadId, toolCallResponseParams);\n            }\n            const finalMessage = advanceResponse.responseMessageDto.component?.componentName ? (0,_util_generate_component__WEBPACK_IMPORTED_MODULE_4__.renderComponentIntoMessage)(advanceResponse.responseMessageDto, componentList) : advanceResponse.responseMessageDto;\n            await switchCurrentThread(advanceResponse.responseMessageDto.threadId);\n            updateThreadStatus(advanceResponse.responseMessageDto.threadId, _model_generate_component_response__WEBPACK_IMPORTED_MODULE_1__.GenerationStage.COMPLETE);\n            return finalMessage;\n        }\n    }[\"TamboThreadProvider.useCallback[sendThreadMessage]\"], [\n        componentList,\n        toolRegistry,\n        componentToolAssociations,\n        currentThreadId,\n        currentThreadContextKey,\n        switchCurrentThread,\n        addThreadMessage,\n        client,\n        updateThreadMessage,\n        updateThreadStatus,\n        handleAdvanceStream,\n        streaming\n    ]);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(TamboThreadContext.Provider, {\n        value: {\n            thread: currentThread,\n            switchCurrentThread,\n            startNewThread,\n            updateThreadName,\n            generateThreadName,\n            addThreadMessage,\n            updateThreadMessage,\n            inputValue,\n            setInputValue,\n            sendThreadMessage,\n            streaming,\n            generationStage: currentThread?.generationStage ?? _model_generate_component_response__WEBPACK_IMPORTED_MODULE_1__.GenerationStage.IDLE,\n            generationStatusMessage: currentThread?.statusMessage ?? \"\",\n            isIdle,\n            cancel\n        }\n    }, children);\n};\n/**\n * The useTamboThread hook provides access to the current thread context\n * to the descendants of the TamboThreadProvider.\n * @returns All state and actions for the current thread\n */ const useTamboThread = ()=>{\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(TamboThreadContext);\n    if (context === undefined) {\n        throw new Error(\"useTamboThread must be used within a TamboThreadProvider\");\n    }\n    return context;\n}; //# sourceMappingURL=tambo-thread-provider.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHRhbWJvLWFpK3JlYWN0QDAuMzQuMF9AdHlwXzk0ZmU0NjU3YzA5OGVmNmEwNzFlZGQ3OGRiMjI3NzRhL25vZGVfbW9kdWxlcy9AdGFtYm8tYWkvcmVhY3QvZXNtL3Byb3ZpZGVycy90YW1iby10aHJlYWQtcHJvdmlkZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs4SEFDa0U7QUFXbkQ7QUFLK0I7QUFFMEI7QUFNOUM7QUFDMkI7QUFDSTtBQUNJO0FBa0Q3RDs7Ozs7O0dBTUcsQ0FDSSxNQUFNLGtCQUFrQixHQUFnQjtJQUM3QyxFQUFFLEVBQUUsYUFBYTtJQUNqQixRQUFRLEVBQUUsRUFBRTtJQUNaLFNBQVMsRUFBRSxFQUFFO0lBQ2IsU0FBUyxFQUFFLEVBQUU7SUFDYixTQUFTLEVBQUUsRUFBRTtJQUNiLFFBQVEsRUFBRSxFQUFFO0NBQ2IsQ0FBQztBQUVLLE1BQU0sa0JBQWtCLGlCQUFHLG9EQUFhLENBQTBCO0lBQ3ZFLE1BQU0sRUFBRSxrQkFBa0I7SUFDMUI7O09BRUcsQ0FDSCxtQkFBbUIsRUFBRSxHQUFHLEVBQUU7UUFDeEIsTUFBTSxJQUFJLEtBQUssQ0FBQyxxQ0FBcUMsQ0FBQyxDQUFDO0lBQ3pELENBQUM7SUFDRDs7T0FFRyxDQUNILGNBQWMsRUFBRSxHQUFHLEVBQUU7UUFDbkIsTUFBTSxJQUFJLEtBQUssQ0FBQyxnQ0FBZ0MsQ0FBQyxDQUFDO0lBQ3BELENBQUM7SUFDRDs7T0FFRyxDQUNILGdCQUFnQixFQUFFLEdBQUcsRUFBRTtRQUNyQixNQUFNLElBQUksS0FBSyxDQUFDLGtDQUFrQyxDQUFDLENBQUM7SUFDdEQsQ0FBQztJQUNEOztPQUVHLENBQ0gsa0JBQWtCLEVBQUUsR0FBRyxFQUFFO1FBQ3ZCLE1BQU0sSUFBSSxLQUFLLENBQUMsb0NBQW9DLENBQUMsQ0FBQztJQUN4RCxDQUFDO0lBQ0Q7O09BRUcsQ0FDSCxnQkFBZ0IsRUFBRSxHQUFHLEVBQUU7UUFDckIsTUFBTSxJ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SUFDOUUsQ0FBQztJQUNELE9BQU8sT0FBTyxDQUFDO0FBQ2pCLENBQUMsQ0FBQyIsInNvdXJjZXMiOlsiRTpcXHdvcmtTcGFjZVxcQ1VSU09SXFxzcmNcXHByb3ZpZGVyc1xcdGFtYm8tdGhyZWFkLXByb3ZpZGVyLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcbmltcG9ydCBUYW1ib0FJLCB7IGFkdmFuY2VTdHJlYW0gfSBmcm9tIFwiQHRhbWJvLWFpL3R5cGVzY3JpcHQtc2RrXCI7XG5pbXBvcnQgeyBUaHJlYWQgfSBmcm9tIFwiQHRhbWJvLWFpL3R5cGVzY3JpcHQtc2RrL3Jlc291cmNlcy9iZXRhL3RocmVhZHMvdGhyZWFkc1wiO1xuaW1wb3J0IFJlYWN0LCB7XG4gIGNyZWF0ZUNvbnRleHQsXG4gIFByb3BzV2l0aENoaWxkcmVuLFxuICB1c2VDYWxsYmFjayxcbiAgdXNlQ29udGV4dCxcbiAgdXNlRWZmZWN0LFxuICB1c2VNZW1vLFxuICB1c2VSZWYsXG4gIHVzZVN0YXRlLFxufSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7XG4gIEdlbmVyYXRpb25TdGFnZSxcbiAgaXNJZGxlU3RhZ2UsXG4gIFRhbWJvVGhyZWFkTWVzc2FnZSxcbn0gZnJvbSBcIi4uL21vZGVsL2dlbmVyYXRlLWNvbXBvbmVudC1yZXNwb25zZVwiO1xuaW1wb3J0IHsgVGFtYm9UaHJlYWQgfSBmcm9tIFwiLi4vbW9kZWwvdGFtYm8tdGhyZWFkXCI7XG5pbXBvcnQgeyByZW5kZXJDb21wb25lbnRJbnRvTWVzc2FnZSB9IGZyb20gXCIuLi91dGlsL2dlbmVyYXRlLWNvbXBvbmVudFwiO1xuaW1wb3J0IHtcbiAgZ2V0QXZhaWxhYmxlQ29tcG9uZW50cyxcbiAgZ2V0Q2xpZW50Q29udGV4dCxcbiAgZ2V0VW5hc3NvY2lhdGVkVG9vbHMsXG4gIG1hcFRhbWJvVG9vbFRvQ29udGV4dFRvb2wsXG59IGZyb20gXCIuLi91dGlsL3JlZ2lzdHJ5XCI7XG5pbXBvcnQgeyBoYW5kbGVUb29sQ2FsbCB9IGZyb20gXCIuLi91dGlsL3Rvb2wtY2FsbGVyXCI7XG5pbXBvcnQgeyB1c2VUYW1ib0NsaWVudCB9IGZyb20gXCIuL3RhbWJvLWNsaWVudC1wcm92aWRlclwiO1xuaW1wb3J0IHsgdXNlVGFtYm9SZWdpc3RyeSB9IGZyb20gXCIuL3RhbWJvLXJlZ2lzdHJ5LXByb3ZpZGVyXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGFtYm9UaHJlYWRDb250ZXh0UHJvcHMge1xuICAvKiogVGhlIGN1cnJlbnQgdGhyZWFkICovXG4gIHRocmVhZDogVGFtYm9UaHJlYWQ7XG4gIC8qKiBTd2l0Y2ggdG8gYSBkaWZmZXJlbnQgdGhyZWFkICovXG4gIHN3aXRjaEN1cnJlbnRUaHJlYWQ6ICh0aHJlYWRJZDogc3RyaW5nLCBmZXRjaD86IGJvb2xlYW4pID0+IHZvaWQ7XG4gIC8qKiBTdGFydCBhIG5ldyB0aHJlYWQgKi9cbiAgc3RhcnROZXdUaHJlYWQ6ICgpID0+IHZvaWQ7XG4gIC8qKiBVcGRhdGUgYSB0aHJlYWQncyBuYW1lICovXG4gIHVwZGF0ZVRocmVhZE5hbWU6IChuYW1lOiBzdHJpbmcsIHRocmVhZElkPzogc3RyaW5nKSA9PiB2b2lkO1xuICAvKiogTGV0IFRhbWJvIGdlbmVyYXRlIGFuZCBzZXQgYSB0aHJlYWQncyBuYW1lIGJhc2VkIG9uIHRoZSB0aHJlYWQncyBtZXNzYWdlcyAqL1xuICBnZW5lcmF0ZVRocmVhZE5hbWU6ICh0aHJlYWRJZD86IHN0cmluZykgPT4gUHJvbWlzZTxUaHJlYWQ+O1xuICAvKiogQWRkIGEgbWVzc2FnZSB0byB0aGUgY3VycmVudCB0aHJlYWQgKi9cbiAgYWRkVGhyZWFkTWVzc2FnZTogKFxuICAgIG1lc3NhZ2U6IFRhbWJvVGhyZWFkTWVzc2FnZSxcbiAgICBzZW5kVG9TZXJ2ZXI6IGJvb2xlYW4sXG4gICkgPT4gUHJvbWlzZTxUYW1ib0FJLkJldGEuVGhyZWFkcy5UaHJlYWRNZXNzYWdlW10+O1xuICAvKiogVXBkYXRlIGEgbWVzc2FnZSBpbiB0aGUgY3VycmVudCB0aHJlYWQgKi9cbiAgdXBkYXRlVGhyZWFkTWVzc2FnZTogKFxuICAgIGlkOiBzdHJpbmcsXG4gICAgbWVzc2FnZTogVGFtYm9UaHJlYWRNZXNzYWdlLFxuICAgIHNlbmRUb1NlcnZlcjogYm9vbGVhbixcbiAgKSA9PiBQcm9taXNlPHZvaWQ+O1xuICAvKiogQ2FuY2VsIGEgdGhyZWFkICovXG4gIGNhbmNlbDogKHRocmVhZElkPzogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xuICAvKiogVGhlIGlucHV0IHZhbHVlIG9mIHRoZSBjdXJyZW50IHRocmVhZCAqL1xuICBpbnB1dFZhbHVlOiBzdHJpbmc7XG4gIC8qKiBXaGV0aGVyIHRoZSB0aHJlYWQgaXMgc3RyZWFtaW5nICovXG4gIHN0cmVhbWluZzogYm9vbGVhbjtcbiAgLyoqIFNldCB0aGUgaW5wdXQgdmFsdWUgb2YgdGhlIGN1cnJlbnQgdGhyZWFkICovXG4gIHNldElucHV0VmFsdWU6ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkO1xuICAvKiogU2VuZCBhIG1lc3NhZ2UgdG8gdGhlIGN1cnJlbnQgdGhyZWFkICovXG4gIHNlbmRUaHJlYWRNZXNzYWdlOiAoXG4gICAgbWVzc2FnZTogc3RyaW5nLFxuICAgIG9wdGlvbnM/OiB7XG4gICAgICB0aHJlYWRJZD86IHN0cmluZztcbiAgICAgIHN0cmVhbVJlc3BvbnNlPzogYm9vbGVhbjtcbiAgICAgIGNvbnRleHRLZXk/OiBzdHJpbmc7XG4gICAgICBmb3JjZVRvb2xDaG9pY2U/OiBzdHJpbmc7XG4gICAgfSxcbiAgKSA9PiBQcm9taXNlPFRhbWJvVGhyZWFkTWVzc2FnZT47XG4gIC8qKiBUaGUgZ2VuZXJhdGlvbiBzdGFnZSBvZiB0aGUgY3VycmVudCB0aHJlYWQgLSB1cGRhdGVkIGFzIHRoZSB0aHJlYWQgcHJvZ3Jlc3NlcyAqL1xuICBnZW5lcmF0aW9uU3RhZ2U6IEdlbmVyYXRpb25TdGFnZTtcbiAgLyoqIFRoZSBnZW5lcmF0aW9uIHN0YXR1cyBtZXNzYWdlIG9mIHRoZSBjdXJyZW50IHRocmVhZCAtIHVwZGF0ZWQgYXMgdGhlIHRocmVhZCBwcm9ncmVzc2VzICovXG4gIGdlbmVyYXRpb25TdGF0dXNNZXNzYWdlOiBzdHJpbmc7XG4gIC8qKiBXaGV0aGVyIHRoZSB0aHJlYWQgaXMgaWRsZSAqL1xuICBpc0lkbGU6IGJvb2xlYW47XG59XG5cbi8qKlxuICogVGhpcyBpcyBhIHN0dWIgZW50cnkgZm9yIHdoZW4gdGhlIHRocmVhZCBpcyBub3QgeWV0IGNyZWF0ZWQsIHRoZSBmaXJzdCB0aW1lXG4gKiB0aGUgdXNlciBzZW5kcyBhIG1lc3NhZ2VcbiAqXG4gKiBOb3RlIHRoYXQgdGhlIGNvbnN1bWVyIG5lZWRzIHRvIGJlIGNhcmVmdWwgbmV2ZXIgdG8gc2VuZCBgUExBQ0VIT0xERVJfVEhSRUFELmlkYCB0byB0aGUgc2VydmVyLFxuICogYXMgdGhpcyBkb2Vzbid0IHJlYWxseSBleGlzdCBvbiB0aGUgc2VydmVyIHNpZGUuXG4gKi9cbmV4cG9ydCBjb25zdCBQTEFDRUhPTERFUl9USFJFQUQ6IFRhbWJvVGhyZWFkID0ge1xuICBpZDogXCJwbGFjZWhvbGRlclwiLFxuICBtZXNzYWdlczogW10sXG4gIGNyZWF0ZWRBdDogXCJcIixcbiAgcHJvamVjdElkOiBcIlwiLFxuICB1cGRhdGVkQXQ6IFwiXCIsXG4gIG1ldGFkYXRhOiB7fSxcbn07XG5cbmV4cG9ydCBjb25zdCBUYW1ib1RocmVhZENvbnRleHQgPSBjcmVhdGVDb250ZXh0PFRhbWJvVGhyZWFkQ29udGV4dFByb3BzPih7XG4gIHRocmVhZDogUExBQ0VIT0xERVJfVEhSRUFELFxuICAvKipcbiAgICpcbiAgICovXG4gIHN3aXRjaEN1cnJlbnRUaHJlYWQ6ICgpID0+IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJzd2l0Y2hDdXJyZW50VGhyZWFkIG5vdCBpbXBsZW1lbnRlZFwiKTtcbiAgfSxcbiAgLyoqXG4gICAqXG4gICAqL1xuICBzdGFydE5ld1RocmVhZDogKCkgPT4ge1xuICAgIHRocm93IG5ldyBFcnJvcihcInN0YXJ0TmV3VGhyZWFkIG5vdCBpbXBsZW1lbnRlZFwiKTtcbiAgfSxcbiAgLyoqXG4gICAqXG4gICAqL1xuICB1cGRhdGVUaHJlYWROYW1lOiAoKSA9PiB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwidXBkYXRlVGhyZWFkTmFtZSBub3QgaW1wbGVtZW50ZWRcIik7XG4gIH0sXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgZ2VuZXJhdGVUaHJlYWROYW1lOiAoKSA9PiB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiZ2VuZXJhdGVUaHJlYWROYW1lIG5vdCBpbXBsZW1lbnRlZFwiKTtcbiAgfSxcbiAgLyoqXG4gICAqXG4gICAqL1xuICBhZGRUaHJlYWRNZXNzYWdlOiAoKSA9PiB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwidXBkYXRlVGhyZWFkTWVzc2FnZUhpc3Rvcnkgbm90IGltcGxlbWVudGVkXCIpO1xuICB9LFxuICBpbnB1dFZhbHVlOiBcIlwiLFxuICBzdHJlYW1pbmc6IHRydWUsXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgc2V0SW5wdXRWYWx1ZTogKCkgPT4ge1xuICAgIHRocm93IG5ldyBFcnJvcihcInNldElucHV0VmFsdWUgbm90IGltcGxlbWVudGVkXCIpO1xuICB9LFxuICAvKipcbiAgICpcbiAgICovXG4gIHVwZGF0ZVRocmVhZE1lc3NhZ2U6ICgpID0+IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1cGRhdGVUaHJlYWRNZXNzYWdlIG5vdCBpbXBsZW1lbnRlZFwiKTtcbiAgfSxcbiAgLyoqXG4gICAqXG4gICAqL1xuICBzZW5kVGhyZWFkTWVzc2FnZTogKCkgPT4ge1xuICAgIHRocm93IG5ldyBFcnJvcihcImFkdmFuY2Ugbm90IGltcGxlbWVudGVkXCIpO1xuICB9LFxuICBnZW5lcmF0aW9uU3RhZ2U6IEdlbmVyYXRpb25TdGFnZS5JRExFLFxuICBnZW5lcmF0aW9uU3RhdHVzTWVzc2FnZTogXCJcIixcbiAgaXNJZGxlOiB0cnVlLFxuICBjYW5jZWw6ICgpID0+IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJjYW5jZWwgbm90IGltcGxlbWVudGVkXCIpO1xuICB9LFxufSk7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGFtYm9UaHJlYWRQcm92aWRlclByb3BzIHtcbiAgLyoqIFdoZXRoZXIgdG8gc3RyZWFtIHRoZSByZXNwb25zZSAqL1xuICBzdHJlYW1pbmc/OiBib29sZWFuO1xufVxuXG4vKipcbiAqIFRoZSBUYW1ib1RocmVhZFByb3ZpZGVyIGlzIGEgUmVhY3QgcHJvdmlkZXIgdGhhdCBwcm92aWRlcyBhIHRocmVhZCBjb250ZXh0XG4gKiB0byB0aGUgZGVzY2VuZGFudHMgb2YgdGhlIHByb3ZpZGVyLlxuICogQHBhcmFtIHByb3BzIC0gVGhlIHByb3BzIGZvciB0aGUgVGFtYm9UaHJlYWRQcm92aWRlclxuICogQHBhcmFtIHByb3BzLmNoaWxkcmVuIC0gVGhlIGNoaWxkcmVuIHRvIHdyYXBcbiAqIEBwYXJhbSBwcm9wcy5zdHJlYW1pbmcgLSBXaGV0aGVyIHRvIHN0cmVhbSB0aGUgcmVzcG9uc2UgYnkgZGVmYXVsdC4gRGVmYXVsdHMgdG8gdHJ1ZS5cbiAqIEByZXR1cm5zIFRoZSBUYW1ib1RocmVhZFByb3ZpZGVyIGNvbXBvbmVudFxuICovXG5leHBvcnQgY29uc3QgVGFtYm9UaHJlYWRQcm92aWRlcjogUmVhY3QuRkM8XG4gIFByb3BzV2l0aENoaWxkcmVuPFRhbWJvVGhyZWFkUHJvdmlkZXJQcm9wcz5cbj4gPSAoeyBjaGlsZHJlbiwgc3RyZWFtaW5nID0gdHJ1ZSB9KSA9PiB7XG4gIGNvbnN0IFt0aHJlYWRNYXAsIHNldFRocmVhZE1hcF0gPSB1c2VTdGF0ZTxSZWNvcmQ8c3RyaW5nLCBUYW1ib1RocmVhZD4+KHtcbiAgICBbUExBQ0VIT0xERVJfVEhSRUFELmlkXTogUExBQ0VIT0xERVJfVEhSRUFELFxuICB9KTtcbiAgY29uc3QgY2xpZW50ID0gdXNlVGFtYm9DbGllbnQoKTtcbiAgY29uc3QgeyBjb21wb25lbnRMaXN0LCB0b29sUmVnaXN0cnksIGNvbXBvbmVudFRvb2xBc3NvY2lhdGlvbnMgfSA9XG4gICAgdXNlVGFtYm9SZWdpc3RyeSgpO1xuICBjb25zdCBbaW5wdXRWYWx1ZSwgc2V0SW5wdXRWYWx1ZV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2lnbm9yZVJlc3BvbnNlLCBzZXRJZ25vcmVSZXNwb25zZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IGlnbm9yZVJlc3BvbnNlUmVmID0gdXNlUmVmKGlnbm9yZVJlc3BvbnNlKTtcbiAgY29uc3QgW2N1cnJlbnRUaHJlYWRJZCwgc2V0Q3VycmVudFRocmVhZElkXSA9IHVzZVN0YXRlPHN0cmluZz4oXG4gICAgUExBQ0VIT0xERVJfVEhSRUFELmlkLFxuICApO1xuICBjb25zdCBjdXJyZW50VGhyZWFkOiBUYW1ib1RocmVhZCB8IHVuZGVmaW5lZCA9IHRocmVhZE1hcFtjdXJyZW50VGhyZWFkSWRdO1xuXG4gIC8vIFVzZSBleGlzdGluZyBtZXNzYWdlcyBmcm9tIHRoZSBjdXJyZW50IHRocmVhZCB0byBhdm9pZCByZS1nZW5lcmF0aW5nIGFueSBjb21wb25lbnRzXG4gIGNvbnN0IGN1cnJlbnRNZXNzYWdlQ2FjaGUgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBtZXNzYWdlQ2FjaGUgPSBuZXcgTWFwPHN0cmluZywgVGFtYm9UaHJlYWRNZXNzYWdlPigpO1xuICAgIGlmIChjdXJyZW50VGhyZWFkKSB7XG4gICAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgY3VycmVudFRocmVhZC5tZXNzYWdlcykge1xuICAgICAgICBtZXNzYWdlQ2FjaGUuc2V0KG1lc3NhZ2UuaWQsIG1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZUNhY2hlO1xuICB9LCBbY3VycmVudFRocmVhZF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWdub3JlUmVzcG9uc2VSZWYuY3VycmVudCA9IGlnbm9yZVJlc3BvbnNlO1xuICB9LCBbaWdub3JlUmVzcG9uc2VdKTtcblxuICBjb25zdCBpc0lkbGUgPSB1c2VNZW1vKFxuICAgICgpID0+XG4gICAgICBpc0lkbGVTdGFnZShcbiAgICAgICAgKGN1cnJlbnRUaHJlYWQ/LmdlbmVyYXRpb25TdGFnZSA/P1xuICAgICAgICAgIEdlbmVyYXRpb25TdGFnZS5JRExFKSBhcyBHZW5lcmF0aW9uU3RhZ2UsXG4gICAgICApLFxuICAgIFtjdXJyZW50VGhyZWFkPy5nZW5lcmF0aW9uU3RhZ2VdLFxuICApO1xuXG4gIGNvbnN0IGZldGNoVGhyZWFkID0gdXNlQ2FsbGJhY2soXG4gICAgYXN5bmMgKHRocmVhZElkOiBzdHJpbmcpID0+IHtcbiAgICAgIGNvbnN0IHRocmVhZCA9IGF3YWl0IGNsaWVudC5iZXRhLnRocmVhZHMucmV0cmlldmUodGhyZWFkSWQpO1xuICAgICAgY29uc3QgdGhyZWFkV2l0aFJlbmRlcmVkQ29tcG9uZW50cyA9IHtcbiAgICAgICAgLi4udGhyZWFkLFxuICAgICAgICBtZXNzYWdlczogdGhyZWFkLm1lc3NhZ2VzLm1hcCgobWVzc2FnZSkgPT4ge1xuICAgICAgICAgIGlmIChjdXJyZW50TWVzc2FnZUNhY2hlLmhhcyhtZXNzYWdlLmlkKSkge1xuICAgICAgICAgICAgY29uc3QgcmVuZGVyZWRNZXNzYWdlID0gY3VycmVudE1lc3NhZ2VDYWNoZS5nZXQobWVzc2FnZS5pZCk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5yZW5kZXJlZE1lc3NhZ2UsXG4gICAgICAgICAgICAgIC4uLm1lc3NhZ2UsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobWVzc2FnZS5jb21wb25lbnQ/LmNvbXBvbmVudE5hbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VXaXRoQ29tcG9uZW50ID0gcmVuZGVyQ29tcG9uZW50SW50b01lc3NhZ2UoXG4gICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgIGNvbXBvbmVudExpc3QsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2VXaXRoQ29tcG9uZW50O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgfSksXG4gICAgICB9O1xuXG4gICAgICBzZXRUaHJlYWRNYXAoKHByZXZNYXApID0+IHtcbiAgICAgICAgY29uc3QgdXBkYXRlZFRocmVhZE1hcCA9IHtcbiAgICAgICAgICAuLi5wcmV2TWFwLFxuICAgICAgICAgIFt0aHJlYWRJZF06IHRocmVhZFdpdGhSZW5kZXJlZENvbXBvbmVudHMsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB1cGRhdGVkVGhyZWFkTWFwO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBbY2xpZW50LmJldGEudGhyZWFkcywgY29tcG9uZW50TGlzdCwgY3VycmVudE1lc3NhZ2VDYWNoZV0sXG4gICk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoXG4gICAgICBjdXJyZW50VGhyZWFkSWQgJiZcbiAgICAgIGN1cnJlbnRUaHJlYWRJZCAhPT0gUExBQ0VIT0xERVJfVEhSRUFELmlkICYmXG4gICAgICAhdGhyZWFkTWFwW2N1cnJlbnRUaHJlYWRJZF1cbiAgICApIHtcbiAgICAgIGZldGNoVGhyZWFkKGN1cnJlbnRUaHJlYWRJZCk7XG4gICAgfVxuICB9LCBbY3VycmVudFRocmVhZElkLCBmZXRjaFRocmVhZCwgdGhyZWFkTWFwXSk7XG5cbiAgY29uc3QgYWRkVGhyZWFkTWVzc2FnZSA9IHVzZUNhbGxiYWNrKFxuICAgIGFzeW5jIChcbiAgICAgIG1lc3NhZ2U6IFRhbWJvVGhyZWFkTWVzc2FnZSxcbiAgICAgIHNlbmRUb1NlcnZlciA9IHRydWUsXG4gICAgICBjcmVhdGVkQXQ6IHN0cmluZyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICApID0+IHtcbiAgICAgIGlmICghY3VycmVudFRocmVhZCkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJDYW5ub3QgYWRkIG1lc3NhZ2VzIGlmIHdlIGRvIG5vdCBoYXZlIGEgY3VycmVudCB0aHJlYWRcIik7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNoYXRNZXNzYWdlOiBUYW1ib1RocmVhZE1lc3NhZ2UgJiB7XG4gICAgICAgIGFkZGl0aW9uYWxDb250ZXh0Pzogc3RyaW5nO1xuICAgICAgfSA9IHtcbiAgICAgICAgLi4ubWVzc2FnZSxcbiAgICAgICAgYWRkaXRpb25hbENvbnRleHQ6XG4gICAgICAgICAgbWVzc2FnZS5yb2xlID09PSBcInVzZXJcIiA/IGdldENsaWVudENvbnRleHQoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgY3JlYXRlZEF0LFxuICAgICAgfTtcbiAgICAgIGNvbnN0IHRocmVhZElkID0gbWVzc2FnZS50aHJlYWRJZDtcbiAgICAgIGNvbnN0IG1lc3NhZ2VJZCA9IGNoYXRNZXNzYWdlLmlkO1xuICAgICAgLy8gb3B0aW1pc3RpY2FsbHkgdXBkYXRlIHRoZSB0aHJlYWQgaW4gdGhlIGxvY2FsIHN0YXRlXG4gICAgICBzZXRUaHJlYWRNYXAoKHByZXZNYXApID0+IHtcbiAgICAgICAgaWYgKCF0aHJlYWRJZCkge1xuICAgICAgICAgIHJldHVybiBwcmV2TWFwO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByZXZNZXNzYWdlcyA9IHByZXZNYXBbdGhyZWFkSWRdPy5tZXNzYWdlcyB8fCBbXTtcbiAgICAgICAgY29uc3QgaGF2ZU1lc3NhZ2UgPSBwcmV2TWVzc2FnZXMuZmluZCgobXNnKSA9PiBtc2cuaWQgPT09IG1lc3NhZ2VJZCk7XG4gICAgICAgIC8vIFVwZGF0ZSBpbiBwbGFjZSBpZiB0aGUgbWVzc2FnZSBhbHJlYWR5IGV4aXN0c1xuICAgICAgICBjb25zdCB1cGRhdGVkTWVzc2FnZXMgPSBoYXZlTWVzc2FnZVxuICAgICAgICAgID8gcHJldk1lc3NhZ2VzLm1hcCgobXNnKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChtc2cuaWQgPT09IG1lc3NhZ2VJZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjaGF0TWVzc2FnZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gbXNnO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICA6IFsuLi5wcmV2TWVzc2FnZXMsIGNoYXRNZXNzYWdlXTtcblxuICAgICAgICBjb25zdCB1cGRhdGVkVGhyZWFkTWFwID0ge1xuICAgICAgICAgIC4uLnByZXZNYXAsXG4gICAgICAgICAgW3RocmVhZElkXToge1xuICAgICAgICAgICAgLi4ucHJldk1hcFt0aHJlYWRJZF0sXG4gICAgICAgICAgICBtZXNzYWdlczogdXBkYXRlZE1lc3NhZ2VzLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB1cGRhdGVkVGhyZWFkTWFwO1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChzZW5kVG9TZXJ2ZXIpIHtcbiAgICAgICAgLy8gVE9ETzogaWYgdGhpcyBmYWlscywgd2UgbmVlZCB0byByZXZlcnQgdGhlIGxvY2FsIHN0YXRlIHVwZGF0ZVxuICAgICAgICBhd2FpdCBjbGllbnQuYmV0YS50aHJlYWRzLm1lc3NhZ2VzLmNyZWF0ZShtZXNzYWdlLnRocmVhZElkLCB7XG4gICAgICAgICAgY29udGVudDogbWVzc2FnZS5jb250ZW50LFxuICAgICAgICAgIHJvbGU6IG1lc3NhZ2Uucm9sZSxcbiAgICAgICAgICAvLyBhZGRpdGlvbmFsQ29udGV4dDogY2hhdE1lc3NhZ2UuYWRkaXRpb25hbENvbnRleHQsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRocmVhZE1hcFt0aHJlYWRJZF0/Lm1lc3NhZ2VzIHx8IFtdO1xuICAgIH0sXG4gICAgW2NsaWVudC5iZXRhLnRocmVhZHMubWVzc2FnZXMsIGN1cnJlbnRUaHJlYWQsIHRocmVhZE1hcF0sXG4gICk7XG5cbiAgY29uc3QgdXBkYXRlVGhyZWFkTWVzc2FnZSA9IHVzZUNhbGxiYWNrKFxuICAgIGFzeW5jIChcbiAgICAgIGlkOiBzdHJpbmcsXG4gICAgICBtZXNzYWdlOiBUYW1ib1RocmVhZE1lc3NhZ2UsXG4gICAgICBzZW5kVG9TZXJ2ZXIgPSB0cnVlLFxuICAgICAgY3JlYXRlZEF0OiBzdHJpbmcgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgKSA9PiB7XG4gICAgICBjb25zdCBjaGF0TWVzc2FnZTogVGFtYm9UaHJlYWRNZXNzYWdlID0ge1xuICAgICAgICAuLi5tZXNzYWdlLFxuICAgICAgICBjcmVhdGVkQXQsXG4gICAgICB9O1xuXG4gICAgICBzZXRUaHJlYWRNYXAoKHByZXZNYXApID0+IHtcbiAgICAgICAgaWYgKCFtZXNzYWdlLnRocmVhZElkKSB7XG4gICAgICAgICAgcmV0dXJuIHByZXZNYXA7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJldk1lc3NhZ2VzID0gcHJldk1hcFttZXNzYWdlLnRocmVhZElkXT8ubWVzc2FnZXMgfHwgW107XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRNZXNzYWdlcyA9IHByZXZNZXNzYWdlcy5tYXAoKG1zZykgPT4ge1xuICAgICAgICAgIGlmIChtc2cuaWQgPT09IGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hhdE1lc3NhZ2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBtc2c7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnByZXZNYXAsXG4gICAgICAgICAgW21lc3NhZ2UudGhyZWFkSWRdOiB7XG4gICAgICAgICAgICAuLi5wcmV2TWFwW21lc3NhZ2UudGhyZWFkSWRdLFxuICAgICAgICAgICAgbWVzc2FnZXM6IHVwZGF0ZWRNZXNzYWdlcyxcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgICBpZiAoc2VuZFRvU2VydmVyKSB7XG4gICAgICAgIC8vIFRPRE86IGlmIHRoaXMgZmFpbHMsIHdlIG5lZWQgdG8gcmV2ZXJ0IHRoZSBsb2NhbCBzdGF0ZSB1cGRhdGVcbiAgICAgICAgYXdhaXQgY2xpZW50LmJldGEudGhyZWFkcy5tZXNzYWdlcy5jcmVhdGUobWVzc2FnZS50aHJlYWRJZCwge1xuICAgICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudCxcbiAgICAgICAgICByb2xlOiBtZXNzYWdlLnJvbGUsXG4gICAgICAgICAgLy8gYWRkaXRpb25hbENvbnRleHQ6IGNoYXRNZXNzYWdlLmFkZGl0aW9uYWxDb250ZXh0LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtjbGllbnQuYmV0YS50aHJlYWRzLm1lc3NhZ2VzXSxcbiAgKTtcblxuICBjb25zdCBzdGFydE5ld1RocmVhZCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRDdXJyZW50VGhyZWFkSWQoUExBQ0VIT0xERVJfVEhSRUFELmlkKTtcbiAgICBzZXRUaHJlYWRNYXAoKHByZXZNYXApID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZNYXAsXG4gICAgICAgIFtQTEFDRUhPTERFUl9USFJFQUQuaWRdOiBQTEFDRUhPTERFUl9USFJFQUQsXG4gICAgICB9O1xuICAgIH0pO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgdXBkYXRlVGhyZWFkTmFtZSA9IHVzZUNhbGxiYWNrKFxuICAgIGFzeW5jIChuYW1lOiBzdHJpbmcsIHRocmVhZElkPzogc3RyaW5nKSA9PiB7XG4gICAgICB0aHJlYWRJZCA/Pz0gY3VycmVudFRocmVhZElkO1xuXG4gICAgICBzZXRUaHJlYWRNYXAoKHByZXZNYXApID0+IHtcbiAgICAgICAgaWYgKCFwcmV2TWFwW3RocmVhZElkXSkge1xuICAgICAgICAgIHJldHVybiBwcmV2TWFwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IC4uLnByZXZNYXAsIFt0aHJlYWRJZF06IHsgLi4ucHJldk1hcFt0aHJlYWRJZF0sIG5hbWUgfSB9O1xuICAgICAgfSk7XG5cbiAgICAgIGlmICh0aHJlYWRJZCAhPT0gUExBQ0VIT0xERVJfVEhSRUFELmlkKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQcm9qZWN0ID0gYXdhaXQgY2xpZW50LmJldGEucHJvamVjdHMuZ2V0Q3VycmVudCgpO1xuICAgICAgICBhd2FpdCBjbGllbnQuYmV0YS50aHJlYWRzLnVwZGF0ZSh0aHJlYWRJZCwge1xuICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgcHJvamVjdElkOiBjdXJyZW50UHJvamVjdC5pZCxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbY3VycmVudFRocmVhZElkLCBjbGllbnQuYmV0YS5wcm9qZWN0cywgY2xpZW50LmJldGEudGhyZWFkc10sXG4gICk7XG5cbiAgY29uc3QgZ2VuZXJhdGVUaHJlYWROYW1lID0gdXNlQ2FsbGJhY2soXG4gICAgYXN5bmMgKHRocmVhZElkPzogc3RyaW5nKSA9PiB7XG4gICAgICB0aHJlYWRJZCA/Pz0gY3VycmVudFRocmVhZElkO1xuICAgICAgaWYgKHRocmVhZElkID09PSBQTEFDRUhPTERFUl9USFJFQUQuaWQpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiQ2Fubm90IGdlbmVyYXRlIG5hbWUgZm9yIGVtcHR5IHRocmVhZFwiKTtcbiAgICAgICAgcmV0dXJuIHRocmVhZE1hcFt0aHJlYWRJZF07XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRocmVhZFdpdGhHZW5lcmF0ZWROYW1lID1cbiAgICAgICAgYXdhaXQgY2xpZW50LmJldGEudGhyZWFkcy5nZW5lcmF0ZU5hbWUodGhyZWFkSWQpO1xuXG4gICAgICBzZXRUaHJlYWRNYXAoKHByZXZNYXApID0+IHtcbiAgICAgICAgaWYgKCFwcmV2TWFwW3RocmVhZElkXSkge1xuICAgICAgICAgIHJldHVybiBwcmV2TWFwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4ucHJldk1hcCxcbiAgICAgICAgICBbdGhyZWFkSWRdOiB7XG4gICAgICAgICAgICAuLi5wcmV2TWFwW3RocmVhZElkXSxcbiAgICAgICAgICAgIG5hbWU6IHRocmVhZFdpdGhHZW5lcmF0ZWROYW1lLm5hbWUsXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRocmVhZFdpdGhHZW5lcmF0ZWROYW1lO1xuICAgIH0sXG4gICAgW2NsaWVudC5iZXRhLnRocmVhZHMsIGN1cnJlbnRUaHJlYWRJZCwgdGhyZWFkTWFwXSxcbiAgKTtcblxuICBjb25zdCBzd2l0Y2hDdXJyZW50VGhyZWFkID0gdXNlQ2FsbGJhY2soXG4gICAgYXN5bmMgKHRocmVhZElkOiBzdHJpbmcsIGZldGNoID0gdHJ1ZSkgPT4ge1xuICAgICAgaWYgKHRocmVhZElkID09PSBQTEFDRUhPTERFUl9USFJFQUQuaWQpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiU3dpdGNoaW5nIHRvIHBsYWNlaG9sZGVyIHRocmVhZCwgbWF5IGJlIGEgYnVnLlwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0Q3VycmVudFRocmVhZElkKHRocmVhZElkKTtcbiAgICAgIHNldFRocmVhZE1hcCgocHJldk1hcCkgPT4ge1xuICAgICAgICBpZiAocHJldk1hcFt0aHJlYWRJZF0pIHtcbiAgICAgICAgICByZXR1cm4gcHJldk1hcDtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGlzIGlzIGEgbmV3IHRocmVhZCwgYWRkIHBsYWNlaG9sZGVyIHRocmVhZCBtZXNzYWdlcyB0byB0aGUgdGhyZWFkXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRUaHJlYWRNYXAgPSB7XG4gICAgICAgICAgLi4ucHJldk1hcCxcbiAgICAgICAgICBbdGhyZWFkSWRdOiB7XG4gICAgICAgICAgICAuLi5wcmV2TWFwW1BMQUNFSE9MREVSX1RIUkVBRC5pZF0sXG4gICAgICAgICAgICBpZDogdGhyZWFkSWQsXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZWRUaHJlYWRNYXA7XG4gICAgICB9KTtcbiAgICAgIGlmIChmZXRjaCkge1xuICAgICAgICBhd2FpdCBmZXRjaFRocmVhZCh0aHJlYWRJZCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbZmV0Y2hUaHJlYWRdLFxuICApO1xuXG4gIGNvbnN0IHVwZGF0ZVRocmVhZFN0YXR1cyA9IHVzZUNhbGxiYWNrKFxuICAgICh0aHJlYWRJZDogc3RyaW5nLCBzdGFnZTogR2VuZXJhdGlvblN0YWdlLCBzdGF0dXNNZXNzYWdlPzogc3RyaW5nKSA9PiB7XG4gICAgICBzZXRUaHJlYWRNYXAoKHByZXZNYXApID0+IHtcbiAgICAgICAgY29uc3QgdXBkYXRlZFRocmVhZE1hcCA9IHtcbiAgICAgICAgICAuLi5wcmV2TWFwLFxuICAgICAgICAgIFt0aHJlYWRJZF06IHtcbiAgICAgICAgICAgIC4uLnByZXZNYXBbdGhyZWFkSWRdLFxuICAgICAgICAgICAgZ2VuZXJhdGlvblN0YWdlOiBzdGFnZSxcbiAgICAgICAgICAgIHN0YXR1c01lc3NhZ2U6IHN0YXR1c01lc3NhZ2UsXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZWRUaHJlYWRNYXA7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIFtdLFxuICApO1xuXG4gIGNvbnN0IGNhbmNlbCA9IHVzZUNhbGxiYWNrKFxuICAgIGFzeW5jICh0aHJlYWRJZD86IHN0cmluZykgPT4ge1xuICAgICAgdGhyZWFkSWQgPz89IGN1cnJlbnRUaHJlYWRJZDtcbiAgICAgIGlmIChpc0lkbGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0SWdub3JlUmVzcG9uc2UodHJ1ZSk7XG4gICAgICBzZXRUaHJlYWRNYXAoKHByZXZNYXApID0+IHtcbiAgICAgICAgaWYgKCFwcmV2TWFwW3RocmVhZElkXSkge1xuICAgICAgICAgIHJldHVybiBwcmV2TWFwO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5wcmV2TWFwLFxuICAgICAgICAgIFt0aHJlYWRJZF06IHtcbiAgICAgICAgICAgIC4uLnByZXZNYXBbdGhyZWFkSWRdLFxuICAgICAgICAgICAgZ2VuZXJhdGlvblN0YWdlOiBHZW5lcmF0aW9uU3RhZ2UuQ0FOQ0VMTEVELFxuICAgICAgICAgICAgbWVzc2FnZXM6IHByZXZNYXBbdGhyZWFkSWRdLm1lc3NhZ2VzLm1hcCgobWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgbWVzc2FnZS5pZCA9PT1cbiAgICAgICAgICAgICAgICBwcmV2TWFwW3RocmVhZElkXS5tZXNzYWdlc1tcbiAgICAgICAgICAgICAgICAgIHByZXZNYXBbdGhyZWFkSWRdLm1lc3NhZ2VzLmxlbmd0aCAtIDFcbiAgICAgICAgICAgICAgICBdLmlkXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAuLi5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgaXNDYW5jZWxsZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgY2xpZW50LmJldGEudGhyZWFkcy5jYW5jZWwodGhyZWFkSWQpO1xuICAgIH0sXG4gICAgW2NsaWVudC5iZXRhLnRocmVhZHMsIGN1cnJlbnRUaHJlYWRJZCwgaXNJZGxlXSxcbiAgKTtcblxuICBjb25zdCBoYW5kbGVBZHZhbmNlU3RyZWFtID0gdXNlQ2FsbGJhY2soXG4gICAgYXN5bmMgKFxuICAgICAgc3RyZWFtOiBBc3luY0l0ZXJhYmxlPFRhbWJvQUkuQmV0YS5UaHJlYWRzLlRocmVhZEFkdmFuY2VSZXNwb25zZT4sXG4gICAgICBwYXJhbXM6IFRhbWJvQUkuQmV0YS5UaHJlYWRzLlRocmVhZEFkdmFuY2VQYXJhbXMsXG4gICAgICB0aHJlYWRJZDogc3RyaW5nLFxuICAgICk6IFByb21pc2U8VGFtYm9UaHJlYWRNZXNzYWdlPiA9PiB7XG4gICAgICBpZiAoaWdub3JlUmVzcG9uc2VSZWYuY3VycmVudCkge1xuICAgICAgICBzZXRJZ25vcmVSZXNwb25zZShmYWxzZSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdGhyZWFkSWQ6IHRocmVhZElkLFxuICAgICAgICAgIGNvbnRlbnQ6IFt7IHR5cGU6IFwidGV4dFwiLCB0ZXh0OiBcIlwiIH1dLFxuICAgICAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXG4gICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgaWQ6IGNyeXB0by5yYW5kb21VVUlEKCksXG4gICAgICAgICAgY29tcG9uZW50U3RhdGU6IHt9LFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgbGV0IGZpbmFsTWVzc2FnZTogUmVhZG9ubHk8VGFtYm9UaHJlYWRNZXNzYWdlPiB8IHVuZGVmaW5lZDtcbiAgICAgIGxldCBoYXNTZXRUaHJlYWRJZCA9IGZhbHNlO1xuICAgICAgdXBkYXRlVGhyZWFkU3RhdHVzKHRocmVhZElkLCBHZW5lcmF0aW9uU3RhZ2UuU1RSRUFNSU5HX1JFU1BPTlNFKTtcblxuICAgICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBzdHJlYW0pIHtcbiAgICAgICAgaWYgKGNodW5rLnJlc3BvbnNlTWVzc2FnZUR0by50b29sQ2FsbFJlcXVlc3QpIHtcbiAgICAgICAgICB1cGRhdGVUaHJlYWRTdGF0dXMoXG4gICAgICAgICAgICBjaHVuay5yZXNwb25zZU1lc3NhZ2VEdG8udGhyZWFkSWQsXG4gICAgICAgICAgICBHZW5lcmF0aW9uU3RhZ2UuRkVUQ0hJTkdfQ09OVEVYVCxcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgY29uc3QgdG9vbENhbGxSZXNwb25zZSA9IGF3YWl0IGhhbmRsZVRvb2xDYWxsKFxuICAgICAgICAgICAgY2h1bmsucmVzcG9uc2VNZXNzYWdlRHRvLFxuICAgICAgICAgICAgdG9vbFJlZ2lzdHJ5LFxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKGlnbm9yZVJlc3BvbnNlUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIHNldElnbm9yZVJlc3BvbnNlKGZhbHNlKTtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0aHJlYWRJZDogdGhyZWFkSWQsXG4gICAgICAgICAgICAgICAgY29udGVudDogW3sgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IFwiXCIgfV0sXG4gICAgICAgICAgICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBpZDogY3J5cHRvLnJhbmRvbVVVSUQoKSxcbiAgICAgICAgICAgICAgICBjb21wb25lbnRTdGF0ZToge30sXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHRvb2xDYWxsUmVzcG9uc2VTdHJpbmcgPVxuICAgICAgICAgICAgdHlwZW9mIHRvb2xDYWxsUmVzcG9uc2UucmVzdWx0ID09PSBcInN0cmluZ1wiXG4gICAgICAgICAgICAgID8gdG9vbENhbGxSZXNwb25zZS5yZXN1bHRcbiAgICAgICAgICAgICAgOiBKU09OLnN0cmluZ2lmeSh0b29sQ2FsbFJlc3BvbnNlLnJlc3VsdCk7XG4gICAgICAgICAgY29uc3QgdG9vbENhbGxSZXNwb25zZVBhcmFtczogVGFtYm9BSS5CZXRhLlRocmVhZHMuVGhyZWFkQWR2YW5jZVBhcmFtcyA9XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgICAgICAgbWVzc2FnZVRvQXBwZW5kOiB7XG4gICAgICAgICAgICAgICAgY29udGVudDogW3sgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IHRvb2xDYWxsUmVzcG9uc2VTdHJpbmcgfV0sXG4gICAgICAgICAgICAgICAgcm9sZTogXCJ0b29sXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uVHlwZTogXCJ0b29sX3Jlc3BvbnNlXCIsXG4gICAgICAgICAgICAgICAgY29tcG9uZW50OiBjaHVuay5yZXNwb25zZU1lc3NhZ2VEdG8uY29tcG9uZW50LFxuICAgICAgICAgICAgICAgIHRvb2xfY2FsbF9pZDogY2h1bmsucmVzcG9uc2VNZXNzYWdlRHRvLnRvb2xfY2FsbF9pZCxcbiAgICAgICAgICAgICAgICBlcnJvcjogdG9vbENhbGxSZXNwb25zZS5lcnJvcixcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICB1cGRhdGVUaHJlYWRNZXNzYWdlKFxuICAgICAgICAgICAgY2h1bmsucmVzcG9uc2VNZXNzYWdlRHRvLmlkLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAuLi5jaHVuay5yZXNwb25zZU1lc3NhZ2VEdG8sXG4gICAgICAgICAgICAgIGVycm9yOiB0b29sQ2FsbFJlc3BvbnNlLmVycm9yLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICB1cGRhdGVUaHJlYWRTdGF0dXMoXG4gICAgICAgICAgICBjaHVuay5yZXNwb25zZU1lc3NhZ2VEdG8udGhyZWFkSWQsXG4gICAgICAgICAgICBHZW5lcmF0aW9uU3RhZ2UuU1RSRUFNSU5HX1JFU1BPTlNFLFxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3QgdG9vbENhbGxSZXNwb25zZVN0cmVhbSA9IGF3YWl0IGFkdmFuY2VTdHJlYW0oXG4gICAgICAgICAgICBjbGllbnQsXG4gICAgICAgICAgICB0b29sQ2FsbFJlc3BvbnNlUGFyYW1zLFxuICAgICAgICAgICAgY2h1bmsucmVzcG9uc2VNZXNzYWdlRHRvLnRocmVhZElkLFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICByZXR1cm4gYXdhaXQgaGFuZGxlQWR2YW5jZVN0cmVhbShcbiAgICAgICAgICAgIHRvb2xDYWxsUmVzcG9uc2VTdHJlYW0sXG4gICAgICAgICAgICB0b29sQ2FsbFJlc3BvbnNlUGFyYW1zLFxuICAgICAgICAgICAgY2h1bmsucmVzcG9uc2VNZXNzYWdlRHRvLnRocmVhZElkLFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGlnbm9yZVJlc3BvbnNlUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIHNldElnbm9yZVJlc3BvbnNlKGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIGZpbmFsTWVzc2FnZSA/PyB7XG4gICAgICAgICAgICAgICAgdGhyZWFkSWQ6IHRocmVhZElkLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFt7IHR5cGU6IFwidGV4dFwiLCB0ZXh0OiBcIlwiIH1dLFxuICAgICAgICAgICAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXG4gICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgaWQ6IGNyeXB0by5yYW5kb21VVUlEKCksXG4gICAgICAgICAgICAgICAgY29tcG9uZW50U3RhdGU6IHt9LFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAhaGFzU2V0VGhyZWFkSWQgJiZcbiAgICAgICAgICAgIGNodW5rLnJlc3BvbnNlTWVzc2FnZUR0by50aHJlYWRJZCAmJlxuICAgICAgICAgICAgY2h1bmsucmVzcG9uc2VNZXNzYWdlRHRvLnRocmVhZElkICE9PSBjdXJyZW50VGhyZWFkPy5pZFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgaGFzU2V0VGhyZWFkSWQgPSB0cnVlO1xuICAgICAgICAgICAgYXdhaXQgc3dpdGNoQ3VycmVudFRocmVhZChjaHVuay5yZXNwb25zZU1lc3NhZ2VEdG8udGhyZWFkSWQsIGZhbHNlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIWZpbmFsTWVzc2FnZSkge1xuICAgICAgICAgICAgZmluYWxNZXNzYWdlID0gY2h1bmsucmVzcG9uc2VNZXNzYWdlRHRvLmNvbXBvbmVudD8uY29tcG9uZW50TmFtZVxuICAgICAgICAgICAgICA/IHJlbmRlckNvbXBvbmVudEludG9NZXNzYWdlKFxuICAgICAgICAgICAgICAgICAgY2h1bmsucmVzcG9uc2VNZXNzYWdlRHRvLFxuICAgICAgICAgICAgICAgICAgY29tcG9uZW50TGlzdCxcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIDogY2h1bmsucmVzcG9uc2VNZXNzYWdlRHRvO1xuICAgICAgICAgICAgYXdhaXQgYWRkVGhyZWFkTWVzc2FnZShmaW5hbE1lc3NhZ2UsIGZhbHNlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gaWYgd2Ugc3RhcnQgZ2V0dGluZyBhIG5ldyBtZXNzYWdlIG1pZC1zdHJlYW0sIHB1dCB0aGUgcHJldmlvdXMgb25lIG9uIHNjcmVlblxuICAgICAgICAgICAgY29uc3QgaXNOZXdNZXNzYWdlID1cbiAgICAgICAgICAgICAgY2h1bmsucmVzcG9uc2VNZXNzYWdlRHRvLmlkICE9PSBmaW5hbE1lc3NhZ2UuaWQ7XG5cbiAgICAgICAgICAgIGZpbmFsTWVzc2FnZSA9IGNodW5rLnJlc3BvbnNlTWVzc2FnZUR0by5jb21wb25lbnQ/LmNvbXBvbmVudE5hbWVcbiAgICAgICAgICAgICAgPyByZW5kZXJDb21wb25lbnRJbnRvTWVzc2FnZShcbiAgICAgICAgICAgICAgICAgIGNodW5rLnJlc3BvbnNlTWVzc2FnZUR0byxcbiAgICAgICAgICAgICAgICAgIGNvbXBvbmVudExpc3QsXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICA6IGNodW5rLnJlc3BvbnNlTWVzc2FnZUR0bztcblxuICAgICAgICAgICAgaWYgKGlzTmV3TWVzc2FnZSkge1xuICAgICAgICAgICAgICBhd2FpdCBhZGRUaHJlYWRNZXNzYWdlKGZpbmFsTWVzc2FnZSwgZmFsc2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYXdhaXQgdXBkYXRlVGhyZWFkTWVzc2FnZShmaW5hbE1lc3NhZ2UuaWQsIGZpbmFsTWVzc2FnZSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB1cGRhdGVUaHJlYWRTdGF0dXMoXG4gICAgICAgIGZpbmFsTWVzc2FnZT8udGhyZWFkSWQgPz8gdGhyZWFkSWQsXG4gICAgICAgIEdlbmVyYXRpb25TdGFnZS5DT01QTEVURSxcbiAgICAgICk7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBmaW5hbE1lc3NhZ2UgPz8ge1xuICAgICAgICAgIHRocmVhZElkOiBcIlwiLFxuICAgICAgICAgIGNvbnRlbnQ6IFt7IHR5cGU6IFwidGV4dFwiLCB0ZXh0OiBgRXJyb3IgcHJvY2Vzc2luZyBzdHJlYW1gIH1dLFxuICAgICAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXG4gICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgaWQ6IGNyeXB0by5yYW5kb21VVUlEKCksXG4gICAgICAgICAgY29tcG9uZW50U3RhdGU6IHt9LFxuICAgICAgICB9XG4gICAgICApO1xuICAgIH0sXG4gICAgW1xuICAgICAgYWRkVGhyZWFkTWVzc2FnZSxcbiAgICAgIGNsaWVudCxcbiAgICAgIGNvbXBvbmVudExpc3QsXG4gICAgICBjdXJyZW50VGhyZWFkPy5pZCxcbiAgICAgIHN3aXRjaEN1cnJlbnRUaHJlYWQsXG4gICAgICB0b29sUmVnaXN0cnksXG4gICAgICB1cGRhdGVUaHJlYWRNZXNzYWdlLFxuICAgICAgdXBkYXRlVGhyZWFkU3RhdHVzLFxuICAgIF0sXG4gICk7XG5cbiAgY29uc3QgY3VycmVudFRocmVhZENvbnRleHRLZXkgPSBjdXJyZW50VGhyZWFkPy5jb250ZXh0S2V5O1xuXG4gIGNvbnN0IHNlbmRUaHJlYWRNZXNzYWdlID0gdXNlQ2FsbGJhY2soXG4gICAgYXN5bmMgKFxuICAgICAgbWVzc2FnZTogc3RyaW5nLFxuICAgICAgb3B0aW9uczoge1xuICAgICAgICB0aHJlYWRJZD86IHN0cmluZztcbiAgICAgICAgc3RyZWFtUmVzcG9uc2U/OiBib29sZWFuO1xuICAgICAgICBmb3JjZVRvb2xDaG9pY2U/OiBzdHJpbmc7XG4gICAgICAgIGNvbnRleHRLZXk/OiBzdHJpbmc7XG4gICAgICB9ID0ge30sXG4gICAgKTogUHJvbWlzZTxUYW1ib1RocmVhZE1lc3NhZ2U+ID0+IHtcbiAgICAgIHNldElnbm9yZVJlc3BvbnNlKGZhbHNlKTtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgdGhyZWFkSWQgPSBjdXJyZW50VGhyZWFkSWQgPz8gUExBQ0VIT0xERVJfVEhSRUFELmlkLFxuICAgICAgICBzdHJlYW1SZXNwb25zZSA9IHN0cmVhbWluZyxcbiAgICAgICAgZm9yY2VUb29sQ2hvaWNlLFxuICAgICAgICBjb250ZXh0S2V5ID0gY3VycmVudFRocmVhZENvbnRleHRLZXksXG4gICAgICB9ID0gb3B0aW9ucztcbiAgICAgIHVwZGF0ZVRocmVhZFN0YXR1cyh0aHJlYWRJZCwgR2VuZXJhdGlvblN0YWdlLkZFVENISU5HX0NPTlRFWFQpO1xuXG4gICAgICBhZGRUaHJlYWRNZXNzYWdlKFxuICAgICAgICB7XG4gICAgICAgICAgY29udGVudDogW3sgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IG1lc3NhZ2UgfV0sXG4gICAgICAgICAgcmVuZGVyZWRDb21wb25lbnQ6IG51bGwsXG4gICAgICAgICAgcm9sZTogXCJ1c2VyXCIsXG4gICAgICAgICAgdGhyZWFkSWQ6IHRocmVhZElkLFxuICAgICAgICAgIGlkOiBjcnlwdG8ucmFuZG9tVVVJRCgpLFxuICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIGNvbXBvbmVudFN0YXRlOiB7fSxcbiAgICAgICAgfSxcbiAgICAgICAgZmFsc2UsXG4gICAgICApO1xuXG4gICAgICBjb25zdCBhdmFpbGFibGVDb21wb25lbnRzID0gZ2V0QXZhaWxhYmxlQ29tcG9uZW50cyhcbiAgICAgICAgY29tcG9uZW50TGlzdCxcbiAgICAgICAgdG9vbFJlZ2lzdHJ5LFxuICAgICAgICBjb21wb25lbnRUb29sQXNzb2NpYXRpb25zLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHVuYXNzb2NpYXRlZFRvb2xzID0gZ2V0VW5hc3NvY2lhdGVkVG9vbHMoXG4gICAgICAgIHRvb2xSZWdpc3RyeSxcbiAgICAgICAgY29tcG9uZW50VG9vbEFzc29jaWF0aW9ucyxcbiAgICAgICk7XG4gICAgICBjb25zdCBwYXJhbXM6IFRhbWJvQUkuQmV0YS5UaHJlYWRzLlRocmVhZEFkdmFuY2VQYXJhbXMgPSB7XG4gICAgICAgIG1lc3NhZ2VUb0FwcGVuZDoge1xuICAgICAgICAgIGNvbnRlbnQ6IFt7IHR5cGU6IFwidGV4dFwiLCB0ZXh0OiBtZXNzYWdlIH1dLFxuICAgICAgICAgIHJvbGU6IFwidXNlclwiLFxuICAgICAgICB9LFxuICAgICAgICBjb250ZXh0S2V5LFxuICAgICAgICBhdmFpbGFibGVDb21wb25lbnRzOiBhdmFpbGFibGVDb21wb25lbnRzLFxuICAgICAgICBjbGllbnRUb29sczogdW5hc3NvY2lhdGVkVG9vbHMubWFwKCh0b29sKSA9PlxuICAgICAgICAgIG1hcFRhbWJvVG9vbFRvQ29udGV4dFRvb2wodG9vbCksXG4gICAgICAgICksXG4gICAgICAgIGZvcmNlVG9vbENob2ljZTogZm9yY2VUb29sQ2hvaWNlLFxuICAgICAgfTtcblxuICAgICAgaWYgKHN0cmVhbVJlc3BvbnNlKSB7XG4gICAgICAgIGNvbnN0IGFkdmFuY2VTdHJlYW1SZXNwb25zZSA9IGF3YWl0IGFkdmFuY2VTdHJlYW0oXG4gICAgICAgICAgY2xpZW50LFxuICAgICAgICAgIHBhcmFtcyxcbiAgICAgICAgICB0aHJlYWRJZCA9PT0gUExBQ0VIT0xERVJfVEhSRUFELmlkID8gdW5kZWZpbmVkIDogdGhyZWFkSWQsXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBhd2FpdCBoYW5kbGVBZHZhbmNlU3RyZWFtKFxuICAgICAgICAgIGFkdmFuY2VTdHJlYW1SZXNwb25zZSxcbiAgICAgICAgICBwYXJhbXMsXG4gICAgICAgICAgdGhyZWFkSWQsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBsZXQgYWR2YW5jZVJlc3BvbnNlID0gYXdhaXQgKHRocmVhZElkID09PSBQTEFDRUhPTERFUl9USFJFQUQuaWRcbiAgICAgICAgPyBjbGllbnQuYmV0YS50aHJlYWRzLmFkdmFuY2UocGFyYW1zKVxuICAgICAgICA6IGNsaWVudC5iZXRhLnRocmVhZHMuYWR2YW5jZUJ5SWQodGhyZWFkSWQsIHBhcmFtcykpO1xuXG4gICAgICAvL2hhbmRsZSB0b29sIGNhbGxzXG4gICAgICB3aGlsZSAoYWR2YW5jZVJlc3BvbnNlLnJlc3BvbnNlTWVzc2FnZUR0by50b29sQ2FsbFJlcXVlc3QpIHtcbiAgICAgICAgdXBkYXRlVGhyZWFkU3RhdHVzKHRocmVhZElkLCBHZW5lcmF0aW9uU3RhZ2UuRkVUQ0hJTkdfQ09OVEVYVCk7XG4gICAgICAgIGNvbnN0IHRvb2xDYWxsUmVzcG9uc2UgPSBhd2FpdCBoYW5kbGVUb29sQ2FsbChcbiAgICAgICAgICBhZHZhbmNlUmVzcG9uc2UucmVzcG9uc2VNZXNzYWdlRHRvLFxuICAgICAgICAgIHRvb2xSZWdpc3RyeSxcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgdG9vbFJlc3BvbnNlU3RyaW5nID1cbiAgICAgICAgICB0eXBlb2YgdG9vbENhbGxSZXNwb25zZS5yZXN1bHQgPT09IFwic3RyaW5nXCJcbiAgICAgICAgICAgID8gdG9vbENhbGxSZXNwb25zZS5yZXN1bHRcbiAgICAgICAgICAgIDogSlNPTi5zdHJpbmdpZnkodG9vbENhbGxSZXNwb25zZS5yZXN1bHQpO1xuICAgICAgICBjb25zdCB0b29sQ2FsbFJlc3BvbnNlUGFyYW1zOiBUYW1ib0FJLkJldGEuVGhyZWFkcy5UaHJlYWRBZHZhbmNlUGFyYW1zID1cbiAgICAgICAgICB7XG4gICAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgICAgICBtZXNzYWdlVG9BcHBlbmQ6IHtcbiAgICAgICAgICAgICAgLi4ucGFyYW1zLm1lc3NhZ2VUb0FwcGVuZCxcbiAgICAgICAgICAgICAgY29udGVudDogW3sgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IHRvb2xSZXNwb25zZVN0cmluZyB9XSxcbiAgICAgICAgICAgICAgcm9sZTogXCJ0b29sXCIsXG4gICAgICAgICAgICAgIGFjdGlvblR5cGU6IFwidG9vbF9yZXNwb25zZVwiLFxuICAgICAgICAgICAgICBjb21wb25lbnQ6IGFkdmFuY2VSZXNwb25zZS5yZXNwb25zZU1lc3NhZ2VEdG8uY29tcG9uZW50LFxuICAgICAgICAgICAgICB0b29sX2NhbGxfaWQ6IGFkdmFuY2VSZXNwb25zZS5yZXNwb25zZU1lc3NhZ2VEdG8udG9vbF9jYWxsX2lkLFxuICAgICAgICAgICAgICBlcnJvcjogdG9vbENhbGxSZXNwb25zZS5lcnJvcixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfTtcbiAgICAgICAgaWYgKHRvb2xDYWxsUmVzcG9uc2UuZXJyb3IpIHtcbiAgICAgICAgICAvL3VwZGF0ZSB0b29sY2FsbCBtZXNzYWdlIHdpdGggZXJyb3JcbiAgICAgICAgICBjb25zdCB0b29sQ2FsbE1lc3NhZ2UgPSB7XG4gICAgICAgICAgICAuLi5hZHZhbmNlUmVzcG9uc2UucmVzcG9uc2VNZXNzYWdlRHRvLFxuICAgICAgICAgICAgZXJyb3I6IHRvb2xDYWxsUmVzcG9uc2UuZXJyb3IsXG4gICAgICAgICAgfTtcbiAgICAgICAgICB1cGRhdGVUaHJlYWRNZXNzYWdlKHRvb2xDYWxsTWVzc2FnZS5pZCwgdG9vbENhbGxNZXNzYWdlLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlVGhyZWFkU3RhdHVzKHRocmVhZElkLCBHZW5lcmF0aW9uU3RhZ2UuSFlEUkFUSU5HX0NPTVBPTkVOVCk7XG4gICAgICAgIGFkdmFuY2VSZXNwb25zZSA9IGF3YWl0IGNsaWVudC5iZXRhLnRocmVhZHMuYWR2YW5jZUJ5SWQoXG4gICAgICAgICAgYWR2YW5jZVJlc3BvbnNlLnJlc3BvbnNlTWVzc2FnZUR0by50aHJlYWRJZCxcbiAgICAgICAgICB0b29sQ2FsbFJlc3BvbnNlUGFyYW1zLFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBmaW5hbE1lc3NhZ2UgPSBhZHZhbmNlUmVzcG9uc2UucmVzcG9uc2VNZXNzYWdlRHRvLmNvbXBvbmVudFxuICAgICAgICA/LmNvbXBvbmVudE5hbWVcbiAgICAgICAgPyByZW5kZXJDb21wb25lbnRJbnRvTWVzc2FnZShcbiAgICAgICAgICAgIGFkdmFuY2VSZXNwb25zZS5yZXNwb25zZU1lc3NhZ2VEdG8sXG4gICAgICAgICAgICBjb21wb25lbnRMaXN0LFxuICAgICAgICAgIClcbiAgICAgICAgOiBhZHZhbmNlUmVzcG9uc2UucmVzcG9uc2VNZXNzYWdlRHRvO1xuICAgICAgYXdhaXQgc3dpdGNoQ3VycmVudFRocmVhZChhZHZhbmNlUmVzcG9uc2UucmVzcG9uc2VNZXNzYWdlRHRvLnRocmVhZElkKTtcbiAgICAgIHVwZGF0ZVRocmVhZFN0YXR1cyhcbiAgICAgICAgYWR2YW5jZVJlc3BvbnNlLnJlc3BvbnNlTWVzc2FnZUR0by50aHJlYWRJZCxcbiAgICAgICAgR2VuZXJhdGlvblN0YWdlLkNPTVBMRVRFLFxuICAgICAgKTtcbiAgICAgIHJldHVybiBmaW5hbE1lc3NhZ2U7XG4gICAgfSxcbiAgICBbXG4gICAgICBjb21wb25lbnRMaXN0LFxuICAgICAgdG9vbFJlZ2lzdHJ5LFxuICAgICAgY29tcG9uZW50VG9vbEFzc29jaWF0aW9ucyxcbiAgICAgIGN1cnJlbnRUaHJlYWRJZCxcbiAgICAgIGN1cnJlbnRUaHJlYWRDb250ZXh0S2V5LFxuICAgICAgc3dpdGNoQ3VycmVudFRocmVhZCxcbiAgICAgIGFkZFRocmVhZE1lc3NhZ2UsXG4gICAgICBjbGllbnQsXG4gICAgICB1cGRhdGVUaHJlYWRNZXNzYWdlLFxuICAgICAgdXBkYXRlVGhyZWFkU3RhdHVzLFxuICAgICAgaGFuZGxlQWR2YW5jZVN0cmVhbSxcbiAgICAgIHN0cmVhbWluZyxcbiAgICBdLFxuICApO1xuXG4gIHJldHVybiAoXG4gICAgPFRhbWJvVGhyZWFkQ29udGV4dC5Qcm92aWRlclxuICAgICAgdmFsdWU9e3tcbiAgICAgICAgdGhyZWFkOiBjdXJyZW50VGhyZWFkLFxuICAgICAgICBzd2l0Y2hDdXJyZW50VGhyZWFkLFxuICAgICAgICBzdGFydE5ld1RocmVhZCxcbiAgICAgICAgdXBkYXRlVGhyZWFkTmFtZSxcbiAgICAgICAgZ2VuZXJhdGVUaHJlYWROYW1lLFxuICAgICAgICBhZGRUaHJlYWRNZXNzYWdlLFxuICAgICAgICB1cGRhdGVUaHJlYWRNZXNzYWdlLFxuICAgICAgICBpbnB1dFZhbHVlLFxuICAgICAgICBzZXRJbnB1dFZhbHVlLFxuICAgICAgICBzZW5kVGhyZWFkTWVzc2FnZSxcbiAgICAgICAgc3RyZWFtaW5nLFxuICAgICAgICBnZW5lcmF0aW9uU3RhZ2U6IChjdXJyZW50VGhyZWFkPy5nZW5lcmF0aW9uU3RhZ2UgPz9cbiAgICAgICAgICBHZW5lcmF0aW9uU3RhZ2UuSURMRSkgYXMgR2VuZXJhdGlvblN0YWdlLFxuICAgICAgICBnZW5lcmF0aW9uU3RhdHVzTWVzc2FnZTogY3VycmVudFRocmVhZD8uc3RhdHVzTWVzc2FnZSA/PyBcIlwiLFxuICAgICAgICBpc0lkbGUsXG4gICAgICAgIGNhbmNlbCxcbiAgICAgIH19XG4gICAgPlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvVGFtYm9UaHJlYWRDb250ZXh0LlByb3ZpZGVyPlxuICApO1xufTtcblxuLyoqXG4gKiBUaGUgdXNlVGFtYm9UaHJlYWQgaG9vayBwcm92aWRlcyBhY2Nlc3MgdG8gdGhlIGN1cnJlbnQgdGhyZWFkIGNvbnRleHRcbiAqIHRvIHRoZSBkZXNjZW5kYW50cyBvZiB0aGUgVGFtYm9UaHJlYWRQcm92aWRlci5cbiAqIEByZXR1cm5zIEFsbCBzdGF0ZSBhbmQgYWN0aW9ucyBmb3IgdGhlIGN1cnJlbnQgdGhyZWFkXG4gKi9cbmV4cG9ydCBjb25zdCB1c2VUYW1ib1RocmVhZCA9ICgpID0+IHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoVGFtYm9UaHJlYWRDb250ZXh0KTtcbiAgaWYgKGNvbnRleHQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcInVzZVRhbWJvVGhyZWFkIG11c3QgYmUgdXNlZCB3aXRoaW4gYSBUYW1ib1RocmVhZFByb3ZpZGVyXCIpO1xuICB9XG4gIHJldHVybiBjb250ZXh0O1xufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/providers/tambo-thread-provider.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/util/generate-component.js":
/*!*****************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/util/generate-component.js ***!
  \*****************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   renderComponentIntoMessage: () => (/* binding */ renderComponentIntoMessage)\n/* harmony export */ });\n/* harmony import */ var partial_json__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! partial-json */ \"(ssr)/./node_modules/.pnpm/partial-json@0.1.7/node_modules/partial-json/dist/index.js\");\n/* harmony import */ var partial_json__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(partial_json__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.1.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! zod */ \"(ssr)/./node_modules/.pnpm/zod@3.25.74/node_modules/zod/v3/types.js\");\n/* harmony import */ var _hooks_use_current_message__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../hooks/use-current-message */ \"(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/hooks/use-current-message.js\");\n/* harmony import */ var _util_registry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/registry */ \"(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/util/registry.js\");\n\n\n\n\n\n/**\n * Generate a message that has a component rendered into it, if the message\n * came with one.\n * @param message - The message that may contain a component\n * @param componentList - the list of available components\n * @returns The updated message with the component rendered into it\n */\nfunction renderComponentIntoMessage(message, componentList) {\n    if (!message.component?.componentName) {\n        throw new Error(\"Component not found\");\n    }\n    const parsedProps = (0,partial_json__WEBPACK_IMPORTED_MODULE_0__.parse)(JSON.stringify(message.component.props));\n    const registeredComponent = (0,_util_registry__WEBPACK_IMPORTED_MODULE_2__.getComponentFromRegistry)(message.component.componentName, componentList);\n    const validatedProps = registeredComponent.props instanceof zod__WEBPACK_IMPORTED_MODULE_3__.ZodType\n        ? registeredComponent.props.parse(parsedProps)\n        : parsedProps;\n    const renderedComponent = react__WEBPACK_IMPORTED_MODULE_1___default().createElement(registeredComponent.component, validatedProps);\n    const wrappedComponent = (0,_hooks_use_current_message__WEBPACK_IMPORTED_MODULE_4__.wrapWithTamboMessageProvider)(renderedComponent, message.threadId, message.id);\n    return {\n        ...message,\n        component: {\n            ...message.component,\n            props: validatedProps,\n        },\n        renderedComponent: wrappedComponent,\n    };\n}\n//# sourceMappingURL=generate-component.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHRhbWJvLWFpK3JlYWN0QDAuMzQuMF9AdHlwXzk0ZmU0NjU3YzA5OGVmNmEwNzFlZGQ3OGRiMjI3NzRhL25vZGVfbW9kdWxlcy9AdGFtYm8tYWkvcmVhY3QvZXNtL3V0aWwvZ2VuZXJhdGUtY29tcG9uZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXFDO0FBQ1g7QUFDRjtBQUNvRDtBQUNoQjtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLG1EQUFLO0FBQzdCLGdDQUFnQyx3RUFBd0I7QUFDeEQsZ0VBQWdFLHdDQUFTO0FBQ3pFO0FBQ0E7QUFDQSw4QkFBOEIsMERBQW1CO0FBQ2pELDZCQUE2Qix3RkFBNEI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiRTpcXHdvcmtTcGFjZVxcQ1VSU09SXFxwZXJzb25hLW1haWwtYWktYWRhcHRcXG5leHQtcGVyc29uYW1haWxcXG5vZGVfbW9kdWxlc1xcLnBucG1cXEB0YW1iby1haStyZWFjdEAwLjM0LjBfQHR5cF85NGZlNDY1N2MwOThlZjZhMDcxZWRkNzhkYjIyNzc0YVxcbm9kZV9tb2R1bGVzXFxAdGFtYm8tYWlcXHJlYWN0XFxlc21cXHV0aWxcXGdlbmVyYXRlLWNvbXBvbmVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwYXJzZSB9IGZyb20gXCJwYXJ0aWFsLWpzb25cIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5pbXBvcnQgeyB3cmFwV2l0aFRhbWJvTWVzc2FnZVByb3ZpZGVyIH0gZnJvbSBcIi4uL2hvb2tzL3VzZS1jdXJyZW50LW1lc3NhZ2VcIjtcbmltcG9ydCB7IGdldENvbXBvbmVudEZyb21SZWdpc3RyeSB9IGZyb20gXCIuLi91dGlsL3JlZ2lzdHJ5XCI7XG4vKipcbiAqIEdlbmVyYXRlIGEgbWVzc2FnZSB0aGF0IGhhcyBhIGNvbXBvbmVudCByZW5kZXJlZCBpbnRvIGl0LCBpZiB0aGUgbWVzc2FnZVxuICogY2FtZSB3aXRoIG9uZS5cbiAqIEBwYXJhbSBtZXNzYWdlIC0gVGhlIG1lc3NhZ2UgdGhhdCBtYXkgY29udGFpbiBhIGNvbXBvbmVudFxuICogQHBhcmFtIGNvbXBvbmVudExpc3QgLSB0aGUgbGlzdCBvZiBhdmFpbGFibGUgY29tcG9uZW50c1xuICogQHJldHVybnMgVGhlIHVwZGF0ZWQgbWVzc2FnZSB3aXRoIHRoZSBjb21wb25lbnQgcmVuZGVyZWQgaW50byBpdFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyQ29tcG9uZW50SW50b01lc3NhZ2UobWVzc2FnZSwgY29tcG9uZW50TGlzdCkge1xuICAgIGlmICghbWVzc2FnZS5jb21wb25lbnQ/LmNvbXBvbmVudE5hbWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ29tcG9uZW50IG5vdCBmb3VuZFwiKTtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkUHJvcHMgPSBwYXJzZShKU09OLnN0cmluZ2lmeShtZXNzYWdlLmNvbXBvbmVudC5wcm9wcykpO1xuICAgIGNvbnN0IHJlZ2lzdGVyZWRDb21wb25lbnQgPSBnZXRDb21wb25lbnRGcm9tUmVnaXN0cnkobWVzc2FnZS5jb21wb25lbnQuY29tcG9uZW50TmFtZSwgY29tcG9uZW50TGlzdCk7XG4gICAgY29uc3QgdmFsaWRhdGVkUHJvcHMgPSByZWdpc3RlcmVkQ29tcG9uZW50LnByb3BzIGluc3RhbmNlb2Ygei5ab2RUeXBlXG4gICAgICAgID8gcmVnaXN0ZXJlZENvbXBvbmVudC5wcm9wcy5wYXJzZShwYXJzZWRQcm9wcylcbiAgICAgICAgOiBwYXJzZWRQcm9wcztcbiAgICBjb25zdCByZW5kZXJlZENvbXBvbmVudCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQocmVnaXN0ZXJlZENvbXBvbmVudC5jb21wb25lbnQsIHZhbGlkYXRlZFByb3BzKTtcbiAgICBjb25zdCB3cmFwcGVkQ29tcG9uZW50ID0gd3JhcFdpdGhUYW1ib01lc3NhZ2VQcm92aWRlcihyZW5kZXJlZENvbXBvbmVudCwgbWVzc2FnZS50aHJlYWRJZCwgbWVzc2FnZS5pZCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4ubWVzc2FnZSxcbiAgICAgICAgY29tcG9uZW50OiB7XG4gICAgICAgICAgICAuLi5tZXNzYWdlLmNvbXBvbmVudCxcbiAgICAgICAgICAgIHByb3BzOiB2YWxpZGF0ZWRQcm9wcyxcbiAgICAgICAgfSxcbiAgICAgICAgcmVuZGVyZWRDb21wb25lbnQ6IHdyYXBwZWRDb21wb25lbnQsXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdlbmVyYXRlLWNvbXBvbmVudC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/util/generate-component.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/util/registry.js":
/*!*******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/util/registry.js ***!
  \*******************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   convertPropsToJsonSchema: () => (/* binding */ convertPropsToJsonSchema),\n/* harmony export */   getAvailableComponents: () => (/* binding */ getAvailableComponents),\n/* harmony export */   getClientContext: () => (/* binding */ getClientContext),\n/* harmony export */   getComponentFromRegistry: () => (/* binding */ getComponentFromRegistry),\n/* harmony export */   getUnassociatedTools: () => (/* binding */ getUnassociatedTools),\n/* harmony export */   mapTamboToolToContextTool: () => (/* binding */ mapTamboToolToContextTool)\n/* harmony export */ });\n/* harmony import */ var zod_to_json_schema__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod-to-json-schema */ \"(ssr)/./node_modules/.pnpm/zod-to-json-schema@3.24.6_zod@3.25.74/node_modules/zod-to-json-schema/dist/esm/index.js\");\n\n/**\n * Get all the available components from the component registry\n * @param componentRegistry - The component registry\n * @param toolRegistry - The tool registry\n * @param toolAssociations - The tool associations\n * @returns The available components\n */\nconst getAvailableComponents = (componentRegistry, toolRegistry, toolAssociations) => {\n    const availableComponents = [];\n    for (const [name, componentEntry] of Object.entries(componentRegistry)) {\n        const associatedToolNames = toolAssociations[name] || [];\n        const contextTools = [\n            ...associatedToolNames.map((toolName) => {\n                const tool = toolRegistry[toolName];\n                if (!tool)\n                    return null;\n                return mapTamboToolToContextTool(tool);\n            }),\n        ].filter((tool) => tool !== null);\n        availableComponents.push({\n            name: componentEntry.name,\n            description: componentEntry.description,\n            props: componentEntry.props,\n            contextTools,\n        });\n    }\n    return availableComponents;\n};\n/**\n * Get tools from tool registry that are not associated with any component\n * @param toolRegistry - The tool registry\n * @param toolAssociations - The tool associations\n * @returns The tools that are not associated with any component\n */\nconst getUnassociatedTools = (toolRegistry, toolAssociations) => {\n    return Object.values(toolRegistry).filter((tool) => {\n        // Check if the tool's name appears in any of the tool association arrays\n        return !Object.values(toolAssociations).flat().includes(tool.name);\n    });\n};\n/**\n * Helper function to convert component props from Zod schema to JSON Schema\n * @param component - The component to convert\n * @returns The converted props\n */\nconst convertPropsToJsonSchema = (component) => {\n    if (!component.props) {\n        return component.props;\n    }\n    // Check if props is a Zod schema (we can't directly check the type, so we check for _def)\n    if (component.props._def && typeof component.props.parse === \"function\") {\n        // Use two-step type assertion for safety\n        return (0,zod_to_json_schema__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(component.props);\n    }\n    return component.props;\n};\n/**\n * Get a component by name from the component registry\n * @param componentName - The name of the component to get\n * @param componentRegistry - The component registry\n * @returns The component registration information\n */\nconst getComponentFromRegistry = (componentName, componentRegistry) => {\n    const componentEntry = componentRegistry[componentName];\n    if (!componentEntry) {\n        throw new Error(`Tambo tried to use Component ${componentName}, but it was not found.`);\n    }\n    return componentEntry;\n};\nconst getDefaultContextAdditions = () => {\n    const utcOffsetHours = new Date().getTimezoneOffset() / 60;\n    const utcOffset = `(UTC${utcOffsetHours > 0 ? \"+\" : \"\"}${utcOffsetHours})`;\n    return [\n        `The current time in user's timezone (${utcOffset}) is: ${new Date().toLocaleString()}`,\n    ];\n};\n/**\n * Get the client context for the current thread, such as the current time in the user's timezone\n * @returns a string of context additions that will be added to the prompt when the thread is advanced.\n */\nconst getClientContext = () => {\n    const contextAdditions = getDefaultContextAdditions();\n    return contextAdditions.join(\"\\n\");\n};\n/**\n * Map a Tambo tool to a context tool\n * @param tool - The tool to map\n * @returns The context tool\n */\nconst mapTamboToolToContextTool = (tool) => {\n    const parameters = getParametersFromZodFunction(tool.toolSchema);\n    return {\n        name: tool.name,\n        description: tool.description,\n        parameters,\n    };\n};\nfunction isJsonSchema(schema) {\n    return (typeof schema === \"object\" &&\n        schema !== null &&\n        \"type\" in schema &&\n        typeof schema.type === \"string\" &&\n        schema.type === \"object\");\n}\nconst getParametersFromZodFunction = (schema) => {\n    if (isJsonSchema(schema)) {\n        return [\n            {\n                name: \"args\",\n                type: \"object\",\n                description: schema.description ?? \"\",\n                isRequired: true,\n                schema: schema,\n            },\n        ];\n    }\n    const parameters = schema.parameters();\n    return parameters.items.map((param, index) => {\n        const name = `param${index + 1}`;\n        const type = getZodBaseType(param);\n        const description = param.description ?? \"\";\n        const isRequired = !param.isOptional();\n        const schema = (0,zod_to_json_schema__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(param);\n        return {\n            name,\n            type,\n            description,\n            isRequired,\n            schema,\n        };\n    });\n};\nconst getZodBaseType = (schema) => {\n    const typeName = schema._def.typeName;\n    switch (typeName) {\n        case \"ZodString\":\n            return \"string\";\n        case \"ZodNumber\":\n            return \"number\";\n        case \"ZodBoolean\":\n            return \"boolean\";\n        case \"ZodArray\":\n            return \"array\";\n        case \"ZodEnum\":\n            return \"enum\";\n        case \"ZodDate\":\n            return \"date\";\n        case \"ZodObject\":\n            return \"object\";\n        default:\n            console.warn(\"falling back to string for\", typeName);\n            return \"string\";\n    }\n};\n//# sourceMappingURL=registry.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHRhbWJvLWFpK3JlYWN0QDAuMzQuMF9AdHlwXzk0ZmU0NjU3YzA5OGVmNmEwNzFlZGQ3OGRiMjI3NzRhL25vZGVfbW9kdWxlcy9AdGFtYm8tYWkvcmVhY3QvZXNtL3V0aWwvcmVnaXN0cnkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFpRDtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsOERBQWU7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0Esd0RBQXdELGNBQWM7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qiw4QkFBOEIsRUFBRSxlQUFlO0FBQzVFO0FBQ0EsZ0RBQWdELFVBQVUsUUFBUSw0QkFBNEI7QUFDOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLFVBQVU7QUFDdkM7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDhEQUFlO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiRTpcXHdvcmtTcGFjZVxcQ1VSU09SXFxwZXJzb25hLW1haWwtYWktYWRhcHRcXG5leHQtcGVyc29uYW1haWxcXG5vZGVfbW9kdWxlc1xcLnBucG1cXEB0YW1iby1haStyZWFjdEAwLjM0LjBfQHR5cF85NGZlNDY1N2MwOThlZjZhMDcxZWRkNzhkYjIyNzc0YVxcbm9kZV9tb2R1bGVzXFxAdGFtYm8tYWlcXHJlYWN0XFxlc21cXHV0aWxcXHJlZ2lzdHJ5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB6b2RUb0pzb25TY2hlbWEgZnJvbSBcInpvZC10by1qc29uLXNjaGVtYVwiO1xuLyoqXG4gKiBHZXQgYWxsIHRoZSBhdmFpbGFibGUgY29tcG9uZW50cyBmcm9tIHRoZSBjb21wb25lbnQgcmVnaXN0cnlcbiAqIEBwYXJhbSBjb21wb25lbnRSZWdpc3RyeSAtIFRoZSBjb21wb25lbnQgcmVnaXN0cnlcbiAqIEBwYXJhbSB0b29sUmVnaXN0cnkgLSBUaGUgdG9vbCByZWdpc3RyeVxuICogQHBhcmFtIHRvb2xBc3NvY2lhdGlvbnMgLSBUaGUgdG9vbCBhc3NvY2lhdGlvbnNcbiAqIEByZXR1cm5zIFRoZSBhdmFpbGFibGUgY29tcG9uZW50c1xuICovXG5leHBvcnQgY29uc3QgZ2V0QXZhaWxhYmxlQ29tcG9uZW50cyA9IChjb21wb25lbnRSZWdpc3RyeSwgdG9vbFJlZ2lzdHJ5LCB0b29sQXNzb2NpYXRpb25zKSA9PiB7XG4gICAgY29uc3QgYXZhaWxhYmxlQ29tcG9uZW50cyA9IFtdO1xuICAgIGZvciAoY29uc3QgW25hbWUsIGNvbXBvbmVudEVudHJ5XSBvZiBPYmplY3QuZW50cmllcyhjb21wb25lbnRSZWdpc3RyeSkpIHtcbiAgICAgICAgY29uc3QgYXNzb2NpYXRlZFRvb2xOYW1lcyA9IHRvb2xBc3NvY2lhdGlvbnNbbmFtZV0gfHwgW107XG4gICAgICAgIGNvbnN0IGNvbnRleHRUb29scyA9IFtcbiAgICAgICAgICAgIC4uLmFzc29jaWF0ZWRUb29sTmFtZXMubWFwKCh0b29sTmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb2wgPSB0b29sUmVnaXN0cnlbdG9vbE5hbWVdO1xuICAgICAgICAgICAgICAgIGlmICghdG9vbClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hcFRhbWJvVG9vbFRvQ29udGV4dFRvb2wodG9vbCk7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgXS5maWx0ZXIoKHRvb2wpID0+IHRvb2wgIT09IG51bGwpO1xuICAgICAgICBhdmFpbGFibGVDb21wb25lbnRzLnB1c2goe1xuICAgICAgICAgICAgbmFtZTogY29tcG9uZW50RW50cnkubmFtZSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBjb21wb25lbnRFbnRyeS5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIHByb3BzOiBjb21wb25lbnRFbnRyeS5wcm9wcyxcbiAgICAgICAgICAgIGNvbnRleHRUb29scyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBhdmFpbGFibGVDb21wb25lbnRzO1xufTtcbi8qKlxuICogR2V0IHRvb2xzIGZyb20gdG9vbCByZWdpc3RyeSB0aGF0IGFyZSBub3QgYXNzb2NpYXRlZCB3aXRoIGFueSBjb21wb25lbnRcbiAqIEBwYXJhbSB0b29sUmVnaXN0cnkgLSBUaGUgdG9vbCByZWdpc3RyeVxuICogQHBhcmFtIHRvb2xBc3NvY2lhdGlvbnMgLSBUaGUgdG9vbCBhc3NvY2lhdGlvbnNcbiAqIEByZXR1cm5zIFRoZSB0b29scyB0aGF0IGFyZSBub3QgYXNzb2NpYXRlZCB3aXRoIGFueSBjb21wb25lbnRcbiAqL1xuZXhwb3J0IGNvbnN0IGdldFVuYXNzb2NpYXRlZFRvb2xzID0gKHRvb2xSZWdpc3RyeSwgdG9vbEFzc29jaWF0aW9ucykgPT4ge1xuICAgIHJldHVybiBPYmplY3QudmFsdWVzKHRvb2xSZWdpc3RyeSkuZmlsdGVyKCh0b29sKSA9PiB7XG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSB0b29sJ3MgbmFtZSBhcHBlYXJzIGluIGFueSBvZiB0aGUgdG9vbCBhc3NvY2lhdGlvbiBhcnJheXNcbiAgICAgICAgcmV0dXJuICFPYmplY3QudmFsdWVzKHRvb2xBc3NvY2lhdGlvbnMpLmZsYXQoKS5pbmNsdWRlcyh0b29sLm5hbWUpO1xuICAgIH0pO1xufTtcbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRvIGNvbnZlcnQgY29tcG9uZW50IHByb3BzIGZyb20gWm9kIHNjaGVtYSB0byBKU09OIFNjaGVtYVxuICogQHBhcmFtIGNvbXBvbmVudCAtIFRoZSBjb21wb25lbnQgdG8gY29udmVydFxuICogQHJldHVybnMgVGhlIGNvbnZlcnRlZCBwcm9wc1xuICovXG5leHBvcnQgY29uc3QgY29udmVydFByb3BzVG9Kc29uU2NoZW1hID0gKGNvbXBvbmVudCkgPT4ge1xuICAgIGlmICghY29tcG9uZW50LnByb3BzKSB7XG4gICAgICAgIHJldHVybiBjb21wb25lbnQucHJvcHM7XG4gICAgfVxuICAgIC8vIENoZWNrIGlmIHByb3BzIGlzIGEgWm9kIHNjaGVtYSAod2UgY2FuJ3QgZGlyZWN0bHkgY2hlY2sgdGhlIHR5cGUsIHNvIHdlIGNoZWNrIGZvciBfZGVmKVxuICAgIGlmIChjb21wb25lbnQucHJvcHMuX2RlZiAmJiB0eXBlb2YgY29tcG9uZW50LnByb3BzLnBhcnNlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgLy8gVXNlIHR3by1zdGVwIHR5cGUgYXNzZXJ0aW9uIGZvciBzYWZldHlcbiAgICAgICAgcmV0dXJuIHpvZFRvSnNvblNjaGVtYShjb21wb25lbnQucHJvcHMpO1xuICAgIH1cbiAgICByZXR1cm4gY29tcG9uZW50LnByb3BzO1xufTtcbi8qKlxuICogR2V0IGEgY29tcG9uZW50IGJ5IG5hbWUgZnJvbSB0aGUgY29tcG9uZW50IHJlZ2lzdHJ5XG4gKiBAcGFyYW0gY29tcG9uZW50TmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBjb21wb25lbnQgdG8gZ2V0XG4gKiBAcGFyYW0gY29tcG9uZW50UmVnaXN0cnkgLSBUaGUgY29tcG9uZW50IHJlZ2lzdHJ5XG4gKiBAcmV0dXJucyBUaGUgY29tcG9uZW50IHJlZ2lzdHJhdGlvbiBpbmZvcm1hdGlvblxuICovXG5leHBvcnQgY29uc3QgZ2V0Q29tcG9uZW50RnJvbVJlZ2lzdHJ5ID0gKGNvbXBvbmVudE5hbWUsIGNvbXBvbmVudFJlZ2lzdHJ5KSA9PiB7XG4gICAgY29uc3QgY29tcG9uZW50RW50cnkgPSBjb21wb25lbnRSZWdpc3RyeVtjb21wb25lbnROYW1lXTtcbiAgICBpZiAoIWNvbXBvbmVudEVudHJ5KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVGFtYm8gdHJpZWQgdG8gdXNlIENvbXBvbmVudCAke2NvbXBvbmVudE5hbWV9LCBidXQgaXQgd2FzIG5vdCBmb3VuZC5gKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbXBvbmVudEVudHJ5O1xufTtcbmNvbnN0IGdldERlZmF1bHRDb250ZXh0QWRkaXRpb25zID0gKCkgPT4ge1xuICAgIGNvbnN0IHV0Y09mZnNldEhvdXJzID0gbmV3IERhdGUoKS5nZXRUaW1lem9uZU9mZnNldCgpIC8gNjA7XG4gICAgY29uc3QgdXRjT2Zmc2V0ID0gYChVVEMke3V0Y09mZnNldEhvdXJzID4gMCA/IFwiK1wiIDogXCJcIn0ke3V0Y09mZnNldEhvdXJzfSlgO1xuICAgIHJldHVybiBbXG4gICAgICAgIGBUaGUgY3VycmVudCB0aW1lIGluIHVzZXIncyB0aW1lem9uZSAoJHt1dGNPZmZzZXR9KSBpczogJHtuZXcgRGF0ZSgpLnRvTG9jYWxlU3RyaW5nKCl9YCxcbiAgICBdO1xufTtcbi8qKlxuICogR2V0IHRoZSBjbGllbnQgY29udGV4dCBmb3IgdGhlIGN1cnJlbnQgdGhyZWFkLCBzdWNoIGFzIHRoZSBjdXJyZW50IHRpbWUgaW4gdGhlIHVzZXIncyB0aW1lem9uZVxuICogQHJldHVybnMgYSBzdHJpbmcgb2YgY29udGV4dCBhZGRpdGlvbnMgdGhhdCB3aWxsIGJlIGFkZGVkIHRvIHRoZSBwcm9tcHQgd2hlbiB0aGUgdGhyZWFkIGlzIGFkdmFuY2VkLlxuICovXG5leHBvcnQgY29uc3QgZ2V0Q2xpZW50Q29udGV4dCA9ICgpID0+IHtcbiAgICBjb25zdCBjb250ZXh0QWRkaXRpb25zID0gZ2V0RGVmYXVsdENvbnRleHRBZGRpdGlvbnMoKTtcbiAgICByZXR1cm4gY29udGV4dEFkZGl0aW9ucy5qb2luKFwiXFxuXCIpO1xufTtcbi8qKlxuICogTWFwIGEgVGFtYm8gdG9vbCB0byBhIGNvbnRleHQgdG9vbFxuICogQHBhcmFtIHRvb2wgLSBUaGUgdG9vbCB0byBtYXBcbiAqIEByZXR1cm5zIFRoZSBjb250ZXh0IHRvb2xcbiAqL1xuZXhwb3J0IGNvbnN0IG1hcFRhbWJvVG9vbFRvQ29udGV4dFRvb2wgPSAodG9vbCkgPT4ge1xuICAgIGNvbnN0IHBhcmFtZXRlcnMgPSBnZXRQYXJhbWV0ZXJzRnJvbVpvZEZ1bmN0aW9uKHRvb2wudG9vbFNjaGVtYSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZTogdG9vbC5uYW1lLFxuICAgICAgICBkZXNjcmlwdGlvbjogdG9vbC5kZXNjcmlwdGlvbixcbiAgICAgICAgcGFyYW1ldGVycyxcbiAgICB9O1xufTtcbmZ1bmN0aW9uIGlzSnNvblNjaGVtYShzY2hlbWEpIHtcbiAgICByZXR1cm4gKHR5cGVvZiBzY2hlbWEgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgc2NoZW1hICE9PSBudWxsICYmXG4gICAgICAgIFwidHlwZVwiIGluIHNjaGVtYSAmJlxuICAgICAgICB0eXBlb2Ygc2NoZW1hLnR5cGUgPT09IFwic3RyaW5nXCIgJiZcbiAgICAgICAgc2NoZW1hLnR5cGUgPT09IFwib2JqZWN0XCIpO1xufVxuY29uc3QgZ2V0UGFyYW1ldGVyc0Zyb21ab2RGdW5jdGlvbiA9IChzY2hlbWEpID0+IHtcbiAgICBpZiAoaXNKc29uU2NoZW1hKHNjaGVtYSkpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImFyZ3NcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBzY2hlbWEuZGVzY3JpcHRpb24gPz8gXCJcIixcbiAgICAgICAgICAgICAgICBpc1JlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNjaGVtYTogc2NoZW1hLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXTtcbiAgICB9XG4gICAgY29uc3QgcGFyYW1ldGVycyA9IHNjaGVtYS5wYXJhbWV0ZXJzKCk7XG4gICAgcmV0dXJuIHBhcmFtZXRlcnMuaXRlbXMubWFwKChwYXJhbSwgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgbmFtZSA9IGBwYXJhbSR7aW5kZXggKyAxfWA7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBnZXRab2RCYXNlVHlwZShwYXJhbSk7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gcGFyYW0uZGVzY3JpcHRpb24gPz8gXCJcIjtcbiAgICAgICAgY29uc3QgaXNSZXF1aXJlZCA9ICFwYXJhbS5pc09wdGlvbmFsKCk7XG4gICAgICAgIGNvbnN0IHNjaGVtYSA9IHpvZFRvSnNvblNjaGVtYShwYXJhbSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIHNjaGVtYSxcbiAgICAgICAgfTtcbiAgICB9KTtcbn07XG5jb25zdCBnZXRab2RCYXNlVHlwZSA9IChzY2hlbWEpID0+IHtcbiAgICBjb25zdCB0eXBlTmFtZSA9IHNjaGVtYS5fZGVmLnR5cGVOYW1lO1xuICAgIHN3aXRjaCAodHlwZU5hbWUpIHtcbiAgICAgICAgY2FzZSBcIlpvZFN0cmluZ1wiOlxuICAgICAgICAgICAgcmV0dXJuIFwic3RyaW5nXCI7XG4gICAgICAgIGNhc2UgXCJab2ROdW1iZXJcIjpcbiAgICAgICAgICAgIHJldHVybiBcIm51bWJlclwiO1xuICAgICAgICBjYXNlIFwiWm9kQm9vbGVhblwiOlxuICAgICAgICAgICAgcmV0dXJuIFwiYm9vbGVhblwiO1xuICAgICAgICBjYXNlIFwiWm9kQXJyYXlcIjpcbiAgICAgICAgICAgIHJldHVybiBcImFycmF5XCI7XG4gICAgICAgIGNhc2UgXCJab2RFbnVtXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJlbnVtXCI7XG4gICAgICAgIGNhc2UgXCJab2REYXRlXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJkYXRlXCI7XG4gICAgICAgIGNhc2UgXCJab2RPYmplY3RcIjpcbiAgICAgICAgICAgIHJldHVybiBcIm9iamVjdFwiO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiZmFsbGluZyBiYWNrIHRvIHN0cmluZyBmb3JcIiwgdHlwZU5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuIFwic3RyaW5nXCI7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlZ2lzdHJ5LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/util/registry.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/util/tool-caller.js":
/*!**********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/util/tool-caller.js ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handleToolCall: () => (/* binding */ handleToolCall)\n/* harmony export */ });\n/* harmony import */ var _registry__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./registry */ \"(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/util/registry.js\");\n\n/**\n * Process a message from the thread, invoking the appropriate tool and returning the result.\n * @param message - The message to handle\n * @param toolRegistry - The tool registry\n * @returns The result of the tool call\n */\nconst handleToolCall = async (message, toolRegistry) => {\n    if (!message?.toolCallRequest?.toolName) {\n        throw new Error(\"Tool name is required\");\n    }\n    try {\n        const tool = findTool(message.toolCallRequest.toolName, toolRegistry);\n        return {\n            result: await runToolChoice(message.toolCallRequest, tool),\n        };\n    }\n    catch (error) {\n        console.error(\"Error in calling tool: \", error);\n        return {\n            result: `When attempting to call tool ${message.toolCallRequest.toolName} the following error occurred: ${error}. Explain to the user that the tool call failed and try again if needed.`,\n            error: error instanceof Error ? error.message : \"Unknown error\",\n        };\n    }\n};\nconst findTool = (toolName, toolRegistry) => {\n    const registryTool = toolRegistry[toolName];\n    if (!registryTool) {\n        throw new Error(`Tool ${toolName} not found in registry`);\n    }\n    const contextTool = (0,_registry__WEBPACK_IMPORTED_MODULE_0__.mapTamboToolToContextTool)(registryTool);\n    return {\n        getComponentContext: registryTool.tool,\n        definition: contextTool,\n    };\n};\nconst runToolChoice = async (toolCallRequest, tool) => {\n    // Assumes parameters are in the order they are defined in the tool\n    const parameterValues = toolCallRequest.parameters?.map((param) => param.parameterValue) ?? [];\n    return await tool.getComponentContext(...parameterValues);\n};\n//# sourceMappingURL=tool-caller.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHRhbWJvLWFpK3JlYWN0QDAuMzQuMF9AdHlwXzk0ZmU0NjU3YzA5OGVmNmEwNzFlZGQ3OGRiMjI3NzRhL25vZGVfbW9kdWxlcy9AdGFtYm8tYWkvcmVhY3QvZXNtL3V0aWwvdG9vbC1jYWxsZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBdUQ7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0Qsa0NBQWtDLGdDQUFnQyxNQUFNO0FBQzVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLFVBQVU7QUFDMUM7QUFDQSx3QkFBd0Isb0VBQXlCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIkU6XFx3b3JrU3BhY2VcXENVUlNPUlxccGVyc29uYS1tYWlsLWFpLWFkYXB0XFxuZXh0LXBlcnNvbmFtYWlsXFxub2RlX21vZHVsZXNcXC5wbnBtXFxAdGFtYm8tYWkrcmVhY3RAMC4zNC4wX0B0eXBfOTRmZTQ2NTdjMDk4ZWY2YTA3MWVkZDc4ZGIyMjc3NGFcXG5vZGVfbW9kdWxlc1xcQHRhbWJvLWFpXFxyZWFjdFxcZXNtXFx1dGlsXFx0b29sLWNhbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBtYXBUYW1ib1Rvb2xUb0NvbnRleHRUb29sIH0gZnJvbSBcIi4vcmVnaXN0cnlcIjtcbi8qKlxuICogUHJvY2VzcyBhIG1lc3NhZ2UgZnJvbSB0aGUgdGhyZWFkLCBpbnZva2luZyB0aGUgYXBwcm9wcmlhdGUgdG9vbCBhbmQgcmV0dXJuaW5nIHRoZSByZXN1bHQuXG4gKiBAcGFyYW0gbWVzc2FnZSAtIFRoZSBtZXNzYWdlIHRvIGhhbmRsZVxuICogQHBhcmFtIHRvb2xSZWdpc3RyeSAtIFRoZSB0b29sIHJlZ2lzdHJ5XG4gKiBAcmV0dXJucyBUaGUgcmVzdWx0IG9mIHRoZSB0b29sIGNhbGxcbiAqL1xuZXhwb3J0IGNvbnN0IGhhbmRsZVRvb2xDYWxsID0gYXN5bmMgKG1lc3NhZ2UsIHRvb2xSZWdpc3RyeSkgPT4ge1xuICAgIGlmICghbWVzc2FnZT8udG9vbENhbGxSZXF1ZXN0Py50b29sTmFtZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUb29sIG5hbWUgaXMgcmVxdWlyZWRcIik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHRvb2wgPSBmaW5kVG9vbChtZXNzYWdlLnRvb2xDYWxsUmVxdWVzdC50b29sTmFtZSwgdG9vbFJlZ2lzdHJ5KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3VsdDogYXdhaXQgcnVuVG9vbENob2ljZShtZXNzYWdlLnRvb2xDYWxsUmVxdWVzdCwgdG9vbCksXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW4gY2FsbGluZyB0b29sOiBcIiwgZXJyb3IpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdWx0OiBgV2hlbiBhdHRlbXB0aW5nIHRvIGNhbGwgdG9vbCAke21lc3NhZ2UudG9vbENhbGxSZXF1ZXN0LnRvb2xOYW1lfSB0aGUgZm9sbG93aW5nIGVycm9yIG9jY3VycmVkOiAke2Vycm9yfS4gRXhwbGFpbiB0byB0aGUgdXNlciB0aGF0IHRoZSB0b29sIGNhbGwgZmFpbGVkIGFuZCB0cnkgYWdhaW4gaWYgbmVlZGVkLmAsXG4gICAgICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIixcbiAgICAgICAgfTtcbiAgICB9XG59O1xuY29uc3QgZmluZFRvb2wgPSAodG9vbE5hbWUsIHRvb2xSZWdpc3RyeSkgPT4ge1xuICAgIGNvbnN0IHJlZ2lzdHJ5VG9vbCA9IHRvb2xSZWdpc3RyeVt0b29sTmFtZV07XG4gICAgaWYgKCFyZWdpc3RyeVRvb2wpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUb29sICR7dG9vbE5hbWV9IG5vdCBmb3VuZCBpbiByZWdpc3RyeWApO1xuICAgIH1cbiAgICBjb25zdCBjb250ZXh0VG9vbCA9IG1hcFRhbWJvVG9vbFRvQ29udGV4dFRvb2wocmVnaXN0cnlUb29sKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBnZXRDb21wb25lbnRDb250ZXh0OiByZWdpc3RyeVRvb2wudG9vbCxcbiAgICAgICAgZGVmaW5pdGlvbjogY29udGV4dFRvb2wsXG4gICAgfTtcbn07XG5jb25zdCBydW5Ub29sQ2hvaWNlID0gYXN5bmMgKHRvb2xDYWxsUmVxdWVzdCwgdG9vbCkgPT4ge1xuICAgIC8vIEFzc3VtZXMgcGFyYW1ldGVycyBhcmUgaW4gdGhlIG9yZGVyIHRoZXkgYXJlIGRlZmluZWQgaW4gdGhlIHRvb2xcbiAgICBjb25zdCBwYXJhbWV0ZXJWYWx1ZXMgPSB0b29sQ2FsbFJlcXVlc3QucGFyYW1ldGVycz8ubWFwKChwYXJhbSkgPT4gcGFyYW0ucGFyYW1ldGVyVmFsdWUpID8/IFtdO1xuICAgIHJldHVybiBhd2FpdCB0b29sLmdldENvbXBvbmVudENvbnRleHQoLi4ucGFyYW1ldGVyVmFsdWVzKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10b29sLWNhbGxlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/util/tool-caller.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/util/validate-zod-schema.js":
/*!******************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/util/validate-zod-schema.js ***!
  \******************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assertNoZodRecord: () => (/* binding */ assertNoZodRecord)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(ssr)/./node_modules/.pnpm/zod@3.25.74/node_modules/zod/v3/types.js\");\n\n/**\n * Recursively walks a Zod schema and throws when it encounters `z.record()`.\n * Records are not serialisable to JSON-Schema in a way that the Tambo backend\n * understands, so they are disallowed.\n * @param schema      The root Zod schema to inspect.\n * @param contextName A human-readable label echoed in the error message.\n */\nfunction assertNoZodRecord(schema, contextName = \"schema\") {\n    const visited = new WeakSet();\n    const visit = (current, path) => {\n        if (!current ||\n            typeof current !== \"object\" ||\n            !(current instanceof zod__WEBPACK_IMPORTED_MODULE_0__.ZodType))\n            return;\n        if (visited.has(current))\n            return;\n        const def = current._def;\n        const typeName = def?.typeName;\n        //  Disallowed \n        if (typeName === zod__WEBPACK_IMPORTED_MODULE_0__.ZodFirstPartyTypeKind.ZodRecord) {\n            const joined = path.length ? path.join(\".\") : \"(root)\";\n            throw new Error(`z.record() is not supported in ${contextName}. ` +\n                `Found at path \"${joined}\". ` +\n                \"Replace it with z.object({ ... }) using explicit keys.\");\n        }\n        visited.add(current);\n        //  Composite / container types \n        if (current instanceof zod__WEBPACK_IMPORTED_MODULE_0__.ZodObject) {\n            for (const key of Object.keys(current.shape)) {\n                visit(current.shape[key], [...path, key]);\n            }\n            return;\n        }\n        if (current instanceof zod__WEBPACK_IMPORTED_MODULE_0__.ZodArray) {\n            visit(current.element, [...path, \"[]\"]);\n            return;\n        }\n        if (current instanceof zod__WEBPACK_IMPORTED_MODULE_0__.ZodTuple) {\n            current.items.forEach((item, idx) => visit(item, [...path, `${idx}`]));\n            return;\n        }\n        if (current instanceof zod__WEBPACK_IMPORTED_MODULE_0__.ZodUnion) {\n            def.options.forEach((opt, idx) => visit(opt, [...path, `|${idx}`]));\n            return;\n        }\n        if (current instanceof zod__WEBPACK_IMPORTED_MODULE_0__.ZodDiscriminatedUnion) {\n            current.options.forEach((opt, idx) => visit(opt, [...path, `|${idx}`]));\n            return;\n        }\n        if (current instanceof zod__WEBPACK_IMPORTED_MODULE_0__.ZodIntersection) {\n            visit(def.left, [...path, \"&0\"]);\n            visit(def.right, [...path, \"&1\"]);\n            return;\n        }\n        //  Wrapper / pass-through types \n        const potentialKeys = [\n            \"schema\",\n            \"innerType\",\n            \"type\",\n            \"in\",\n            \"out\",\n            \"left\",\n            \"right\",\n        ];\n        for (const key of potentialKeys) {\n            const maybe = def?.[key];\n            if (maybe instanceof zod__WEBPACK_IMPORTED_MODULE_0__.ZodType)\n                visit(maybe, path);\n            else if (Array.isArray(maybe))\n                maybe.forEach((sub) => sub instanceof zod__WEBPACK_IMPORTED_MODULE_0__.ZodType && visit(sub, path));\n        }\n        if (typeof def?.getter === \"function\") {\n            try {\n                const lazySchema = def.getter();\n                if (lazySchema instanceof zod__WEBPACK_IMPORTED_MODULE_0__.ZodType)\n                    visit(lazySchema, [...path]);\n            }\n            catch {\n                // Ignore lazy getter execution errors.\n            }\n        }\n    };\n    visit(schema, []);\n}\n//# sourceMappingURL=validate-zod-schema.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHRhbWJvLWFpK3JlYWN0QDAuMzQuMF9AdHlwXzk0ZmU0NjU3YzA5OGVmNmEwNzFlZGQ3OGRiMjI3NzRhL25vZGVfbW9kdWxlcy9AdGFtYm8tYWkvcmVhY3QvZXNtL3V0aWwvdmFsaWRhdGUtem9kLXNjaGVtYS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUErQztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsd0NBQVM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHNEQUFxQjtBQUM5QztBQUNBLDhEQUE4RCxZQUFZO0FBQzFFLGtDQUFrQyxPQUFPO0FBQ3pDLDRDQUE0QyxLQUFLO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiwwQ0FBVztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHlDQUFVO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLCtCQUErQix5Q0FBVTtBQUN6QywwRUFBMEUsSUFBSTtBQUM5RTtBQUNBO0FBQ0EsK0JBQStCLHlDQUFVO0FBQ3pDLHVFQUF1RSxJQUFJO0FBQzNFO0FBQ0E7QUFDQSwrQkFBK0Isc0RBQXVCO0FBQ3RELDJFQUEyRSxJQUFJO0FBQy9FO0FBQ0E7QUFDQSwrQkFBK0IsZ0RBQWlCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHdDQUFTO0FBQzFDO0FBQ0E7QUFDQSxzREFBc0Qsd0NBQVM7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsd0NBQVM7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIkU6XFx3b3JrU3BhY2VcXENVUlNPUlxccGVyc29uYS1tYWlsLWFpLWFkYXB0XFxuZXh0LXBlcnNvbmFtYWlsXFxub2RlX21vZHVsZXNcXC5wbnBtXFxAdGFtYm8tYWkrcmVhY3RAMC4zNC4wX0B0eXBfOTRmZTQ2NTdjMDk4ZWY2YTA3MWVkZDc4ZGIyMjc3NGFcXG5vZGVfbW9kdWxlc1xcQHRhbWJvLWFpXFxyZWFjdFxcZXNtXFx1dGlsXFx2YWxpZGF0ZS16b2Qtc2NoZW1hLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHosIFpvZEZpcnN0UGFydHlUeXBlS2luZCB9IGZyb20gXCJ6b2RcIjtcbi8qKlxuICogUmVjdXJzaXZlbHkgd2Fsa3MgYSBab2Qgc2NoZW1hIGFuZCB0aHJvd3Mgd2hlbiBpdCBlbmNvdW50ZXJzIGB6LnJlY29yZCgpYC5cbiAqIFJlY29yZHMgYXJlIG5vdCBzZXJpYWxpc2FibGUgdG8gSlNPTi1TY2hlbWEgaW4gYSB3YXkgdGhhdCB0aGUgVGFtYm8gYmFja2VuZFxuICogdW5kZXJzdGFuZHMsIHNvIHRoZXkgYXJlIGRpc2FsbG93ZWQuXG4gKiBAcGFyYW0gc2NoZW1hICAgICAgVGhlIHJvb3QgWm9kIHNjaGVtYSB0byBpbnNwZWN0LlxuICogQHBhcmFtIGNvbnRleHROYW1lIEEgaHVtYW4tcmVhZGFibGUgbGFiZWwgZWNob2VkIGluIHRoZSBlcnJvciBtZXNzYWdlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0Tm9ab2RSZWNvcmQoc2NoZW1hLCBjb250ZXh0TmFtZSA9IFwic2NoZW1hXCIpIHtcbiAgICBjb25zdCB2aXNpdGVkID0gbmV3IFdlYWtTZXQoKTtcbiAgICBjb25zdCB2aXNpdCA9IChjdXJyZW50LCBwYXRoKSA9PiB7XG4gICAgICAgIGlmICghY3VycmVudCB8fFxuICAgICAgICAgICAgdHlwZW9mIGN1cnJlbnQgIT09IFwib2JqZWN0XCIgfHxcbiAgICAgICAgICAgICEoY3VycmVudCBpbnN0YW5jZW9mIHouWm9kVHlwZSkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICh2aXNpdGVkLmhhcyhjdXJyZW50KSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgZGVmID0gY3VycmVudC5fZGVmO1xuICAgICAgICBjb25zdCB0eXBlTmFtZSA9IGRlZj8udHlwZU5hbWU7XG4gICAgICAgIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBEaXNhbGxvd2VkIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxuICAgICAgICBpZiAodHlwZU5hbWUgPT09IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RSZWNvcmQpIHtcbiAgICAgICAgICAgIGNvbnN0IGpvaW5lZCA9IHBhdGgubGVuZ3RoID8gcGF0aC5qb2luKFwiLlwiKSA6IFwiKHJvb3QpXCI7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHoucmVjb3JkKCkgaXMgbm90IHN1cHBvcnRlZCBpbiAke2NvbnRleHROYW1lfS4gYCArXG4gICAgICAgICAgICAgICAgYEZvdW5kIGF0IHBhdGggXCIke2pvaW5lZH1cIi4gYCArXG4gICAgICAgICAgICAgICAgXCJSZXBsYWNlIGl0IHdpdGggei5vYmplY3QoeyAuLi4gfSkgdXNpbmcgZXhwbGljaXQga2V5cy5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdmlzaXRlZC5hZGQoY3VycmVudCk7XG4gICAgICAgIC8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBDb21wb3NpdGUgLyBjb250YWluZXIgdHlwZXMg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXG4gICAgICAgIGlmIChjdXJyZW50IGluc3RhbmNlb2Ygei5ab2RPYmplY3QpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGN1cnJlbnQuc2hhcGUpKSB7XG4gICAgICAgICAgICAgICAgdmlzaXQoY3VycmVudC5zaGFwZVtrZXldLCBbLi4ucGF0aCwga2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnJlbnQgaW5zdGFuY2VvZiB6LlpvZEFycmF5KSB7XG4gICAgICAgICAgICB2aXNpdChjdXJyZW50LmVsZW1lbnQsIFsuLi5wYXRoLCBcIltdXCJdKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3VycmVudCBpbnN0YW5jZW9mIHouWm9kVHVwbGUpIHtcbiAgICAgICAgICAgIGN1cnJlbnQuaXRlbXMuZm9yRWFjaCgoaXRlbSwgaWR4KSA9PiB2aXNpdChpdGVtLCBbLi4ucGF0aCwgYCR7aWR4fWBdKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnJlbnQgaW5zdGFuY2VvZiB6LlpvZFVuaW9uKSB7XG4gICAgICAgICAgICBkZWYub3B0aW9ucy5mb3JFYWNoKChvcHQsIGlkeCkgPT4gdmlzaXQob3B0LCBbLi4ucGF0aCwgYHwke2lkeH1gXSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50IGluc3RhbmNlb2Ygei5ab2REaXNjcmltaW5hdGVkVW5pb24pIHtcbiAgICAgICAgICAgIGN1cnJlbnQub3B0aW9ucy5mb3JFYWNoKChvcHQsIGlkeCkgPT4gdmlzaXQob3B0LCBbLi4ucGF0aCwgYHwke2lkeH1gXSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50IGluc3RhbmNlb2Ygei5ab2RJbnRlcnNlY3Rpb24pIHtcbiAgICAgICAgICAgIHZpc2l0KGRlZi5sZWZ0LCBbLi4ucGF0aCwgXCImMFwiXSk7XG4gICAgICAgICAgICB2aXNpdChkZWYucmlnaHQsIFsuLi5wYXRoLCBcIiYxXCJdKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgV3JhcHBlciAvIHBhc3MtdGhyb3VnaCB0eXBlcyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcbiAgICAgICAgY29uc3QgcG90ZW50aWFsS2V5cyA9IFtcbiAgICAgICAgICAgIFwic2NoZW1hXCIsXG4gICAgICAgICAgICBcImlubmVyVHlwZVwiLFxuICAgICAgICAgICAgXCJ0eXBlXCIsXG4gICAgICAgICAgICBcImluXCIsXG4gICAgICAgICAgICBcIm91dFwiLFxuICAgICAgICAgICAgXCJsZWZ0XCIsXG4gICAgICAgICAgICBcInJpZ2h0XCIsXG4gICAgICAgIF07XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHBvdGVudGlhbEtleXMpIHtcbiAgICAgICAgICAgIGNvbnN0IG1heWJlID0gZGVmPy5ba2V5XTtcbiAgICAgICAgICAgIGlmIChtYXliZSBpbnN0YW5jZW9mIHouWm9kVHlwZSlcbiAgICAgICAgICAgICAgICB2aXNpdChtYXliZSwgcGF0aCk7XG4gICAgICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KG1heWJlKSlcbiAgICAgICAgICAgICAgICBtYXliZS5mb3JFYWNoKChzdWIpID0+IHN1YiBpbnN0YW5jZW9mIHouWm9kVHlwZSAmJiB2aXNpdChzdWIsIHBhdGgpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGRlZj8uZ2V0dGVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGF6eVNjaGVtYSA9IGRlZi5nZXR0ZXIoKTtcbiAgICAgICAgICAgICAgICBpZiAobGF6eVNjaGVtYSBpbnN0YW5jZW9mIHouWm9kVHlwZSlcbiAgICAgICAgICAgICAgICAgICAgdmlzaXQobGF6eVNjaGVtYSwgWy4uLnBhdGhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICAvLyBJZ25vcmUgbGF6eSBnZXR0ZXIgZXhlY3V0aW9uIGVycm9ycy5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgdmlzaXQoc2NoZW1hLCBbXSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD12YWxpZGF0ZS16b2Qtc2NoZW1hLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/esm/util/validate-zod-schema.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/package.json":
/*!***********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@tambo-ai+react@0.34.0_@typ_94fe4657c098ef6a071edd78db22774a/node_modules/@tambo-ai/react/package.json ***!
  \***********************************************************************************************************************************/
/***/ ((module) => {

module.exports = /*#__PURE__*/JSON.parse('{"name":"@tambo-ai/react","version":"0.34.0","description":"React client package for Tambo AI","repository":{"type":"git","url":"git+https://github.com/tambo-ai/tambo.git","directory":"react-sdk"},"homepage":"https://tambo.co","main":"./dist/index.js","module":"./esm/index.js","types":"./dist/index.d.ts","exports":{".":{"import":"./esm/index.js","require":"./dist/index.js","types":"./dist/index.d.ts"},"./mcp":{"import":"./esm/mcp/index.js","require":"./dist/mcp/index.js","types":"./dist/mcp/index.d.ts"}},"files":["dist","esm"],"engines":{"node":">=22","npm":">=10"},"volta":{"extends":"../package.json"},"sideEffects":false,"scripts":{"build":"npm run build:cjs && npm run build:esm","build:cjs":"tsc -p tsconfig.cjs.json","build:esm":"tsc -p tsconfig.esm.json","dev":"concurrently -c blue.bold,green.bold \\"npm run dev:cjs\\" \\"npm run dev:esm\\"","dev:cjs":"tsc -p tsconfig.cjs.json --watch","dev:esm":"tsc -p tsconfig.esm.json --watch","check-types":"tsc --noEmit","test":"jest --config jest.config.ts","format":"prettier --write .","lint":"eslint","lint:fix":"eslint --fix","format:lint":"npm run format && npm run lint:fix","prepare":"husky","clean":"rimraf dist esm coverage"},"lint-staged":{"*.{js,jsx,ts,tsx}":["prettier --write","eslint --fix"],"*.{json,md,yml,yaml}":["prettier --write"]},"peerDependencies":{"@types/react":"^18.0.0 || ^19.0.0","@types/react-dom":"^18.0.0 || ^19.0.0","react":"^18.0.0 || ^19.0.0","react-dom":"^18.0.0 || ^19.0.0"},"dependencies":{"@modelcontextprotocol/sdk":"^1.13.2","@tambo-ai/typescript-sdk":"^0.58.0","@tanstack/react-query":"^5.81.5","partial-json":"^0.1.7","react-fast-compare":"^3.2.2","ts-essentials":"^10.1.1","use-debounce":"^10.0.5","zod":"^3.25.67","zod-to-json-schema":"^3.24.6"},"devDependencies":{"@eslint/js":"^9.30.0","@tambo-ai/eslint-config":"*","@tambo-ai/typescript-config":"*","@testing-library/jest-dom":"^6.4.2","@testing-library/react":"^16.3.0","@types/jest":"^30.0.0","@types/json-schema":"^7.0.15","@types/node":"^22.15.32","@types/react":"^18.3.12","@types/react-dom":"^18.3.5","concurrently":"^9.2.0","eslint":"^9.30.0","eslint-plugin-jsdoc":"^51.3.1","eslint-plugin-react":"^7.37.5","eslint-plugin-react-hooks":"^5.1.0","jest":"^30.0.3","jest-environment-jsdom":"^30.0.2","lint-staged":"^16.1.2","prettier":"^3.6.2","prettier-2":"npm:prettier@^2","react":"^18.3.1","react-dom":"^18.3.1","ts-jest":"^29.4.0","typescript":"^5.8.3","typescript-eslint":"^8.35.1"}}');

/***/ })

};
;